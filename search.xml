<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>åšå®¢å†…å®¹å½’æ¡£å’Œè‹±æ–‡åšå®¢</title>
    <url>/202111/%E5%8D%9A%E5%AE%A2%E5%86%85%E5%AE%B9%E5%BD%92%E6%A1%A3%E5%92%8C%E8%8B%B1%E6%96%87%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<div class="tag-plugin note" ><div class="body"><p>ä»2019å¹´å¼€å§‹å°è¯•æ­å»ºè‡ªå·±çš„åšå®¢ï¼Œåˆ°ç°åœ¨å·²ç»æœ¬ç§‘æ¯•ä¸šã€‚è¿™ä¸‰å¹´çš„æ—¶é—´è™½ç„¶æ²¡æœ‰åšæŒæ›´æ–°åšå®¢ï¼Œä½†æ˜¯ä¸€ç›´åœ¨åšæŒè®°å½•ã€‚æ— è®ºæ˜¯ç†è®ºçŸ¥è¯†çš„å­¦ä¹ ã€Debugçš„è®°å½•ï¼Œè¿˜æ˜¯è¯»ä¹¦å¥èº«ç¬”è®°å’Œæ„Ÿæ…¨ä¸‡åƒæ—¶çš„éšç¬”ï¼Œä»–ä»¬éƒ½æ•£è½åœ¨å„ç§åœ¨çº¿ç¬”è®°è½¯ä»¶å’Œæ‰‹æœºçš„å¤‡å¿˜å½•ä¸­ã€‚</p><p>éšç€æ—¶é—´çš„æ¨ç§»ï¼Œæˆ‘å¯¹åšå®¢çš„è®¤è¯†ä¹Ÿå‘ç”Ÿäº†å¾ˆå¤šå˜åŒ–ã€‚â€œè®°å½•â€å¯¹æˆ‘æ¥è¯´ä»ç„¶å…·æœ‰éå¸¸å¤§çš„æ„ä¹‰ï¼Œä½†æ˜¯â€œåšå®¢â€æœ€é‡è¦çš„ä»·å€¼ä¸åº”è¯¥æ˜¯â€œè®°å½•â€ï¼Œè€Œæ˜¯â€œåˆ†äº«â€â€”â€”ä¼ é€’æœ‰ä»·å€¼çš„ä¿¡æ¯ã€‚æˆ‘æŠŠå¹³æ—¶çš„æ—¥å¸¸ç”Ÿæ´»å’Œå­¦ä¹ ç»å†è®°å½•åœ¨å„ç§ç¬”è®°ä¸­ï¼Œè¿‡ä¸€æ®µæ—¶é—´å†å»å›é¡¾å’Œæ•´ç†ï¼Œé€‰å–å…¶ä¸­æœ‰ä»·å€¼çš„ä¸œè¥¿å»åˆ†äº«ã€‚</p><p>è¿‡å»çš„ä¸€å¹´å†æ¬¡å‚åŠ äº†ç¾èµ›ï¼ŒåŠ å…¥äº†å‡ ä¸ªå’ŒåŒºå—é“¾æœ‰å…³çš„é¡¹ç›®ï¼Œä¹Ÿå®Œæˆäº†ä¸å°‘ä¸“åˆ©å’Œè®ºæ–‡ã€‚æ›´å¤šçš„æ—¶é—´å¿™äºè¿ç”¨çŸ¥è¯†ï¼Œä»¥éœ€æ±‚ä¸ºå¯¼å‘è¿«ä½¿è‡ªå·±è¿›è¡Œå¹¿æ³›è€Œä¸æ·±åˆ»çš„å­¦ä¹ ã€‚å¯¹æˆ‘æ¥è¯´çœŸæ­£æœ‰ä»·å€¼çš„è¾“å…¥å˜å°‘äº†ï¼Œè¾“å‡ºå’Œè¡¨è¾¾çš„æ¬²æœ›ä¹Ÿé™ä½äº†å¾ˆå¤šã€‚</p><p>   æˆ‘åœ¨åŸå…ˆçš„åšå®¢åŸŸåä¹‹ä¸‹åˆå»ºç«‹äº†ä¸€ä¸ªè‹±æ–‡åšå®¢<a href="https://blog.crocodilezs.top/eysblog_en/">BLOG-EN</a>ï¼Œæ—¨åœ¨æ•´ç†è‡ªå·±è¿‡å»ä¸€å¹´ç»å†çš„å„ç§é¡¹ç›®ã€‚åŒæ—¶ä¹Ÿå°†åŸåšå®¢ä¸­çš„å†…å®¹è¿›è¡Œæ•´ç†å½’æ¡£ï¼Œä¾¿äºè‡ªå·±å’Œè®¿å®¢çš„æŸ¥é˜…ã€‚</p></div></div>
<span id="more"></span>
<h2 id="è¯¾ç¨‹è®¾è®¡ä¸å®éªŒ"><a href="#è¯¾ç¨‹è®¾è®¡ä¸å®éªŒ" class="headerlink" title="è¯¾ç¨‹è®¾è®¡ä¸å®éªŒ"></a>è¯¾ç¨‹è®¾è®¡ä¸å®éªŒ</h2><p><a href="/201911/Linuxå¼€å‘ç¯å¢ƒåŠåº”ç”¨ä½œä¸š%2020191031/" itemprop="url"> Linuxæ–‡æœ¬å¤„ç†ä½œä¸š </a> &emsp;&emsp;<br><a href="/categories/æ“ä½œç³»ç»Ÿ/" itemprop="url"> ã€Š30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿã€‹å®éªŒåˆè¾‘ </a> &emsp;&emsp;<br><a href="/201909/å‘¨å®‡æ´‹_ã€Œå­¦ç”Ÿå®¿èˆç®¡ç†ç³»ç»Ÿã€å®éªŒæŠ¥å‘Š/" itemprop="url"> å­¦ç”Ÿå®¿èˆç®¡ç†ç³»ç»ŸPythonå¼€å‘ </a> &emsp;&emsp;<br><a href="/201911/KNNä¸Naive_Bayesä»£ç å®ç°/" itemprop="url"> KNNå’Œæœ´ç´ è´å¶æ–¯çš„ä»£ç å®ç° </a> &emsp;&emsp;<br><a href="/201911/Price_Suggestion_Chanllenge/" itemprop="url"> å•†å“ä»·æ ¼é¢„æµ‹æŒ‘æˆ˜ </a> &emsp;&emsp;<br><a href="/201911/Fisherç®—æ³•&SVM&K-MeansåŠå…¶ä¼˜åŒ–/" itemprop="url"> Fisherç®—æ³• &amp; SVM &amp; K-Meansçš„å®ç°å’Œä¼˜åŒ– </a> &emsp;&emsp;<br><a href="/201910/FINDSç®—æ³•å’ŒID3ç®—æ³•/" itemprop="url"> FINDSç®—æ³•å’ŒID3ç®—æ³• </a> &emsp;&emsp;<br><a href="/201904/æ’å…¥æ’åºå½’å¹¶æ’åºå’Œå¿«é€Ÿæ’åº/" itemprop="url"> ç®—æ³•è®¾è®¡ä¹‹æ’åº </a> &emsp;&emsp;<br><a href="/201904/å¾ªç¯èµ›èµ›ç¨‹å®‰æ’/" itemprop="url"> ç®—æ³•è®¾è®¡ä¹‹å¾ªç¯èµ›èµ›ç¨‹å®‰æ’ </a> &emsp;&emsp;</p>
<h2 id="å±•ç¤ºå’Œæ±‡æŠ¥"><a href="#å±•ç¤ºå’Œæ±‡æŠ¥" class="headerlink" title="å±•ç¤ºå’Œæ±‡æŠ¥"></a>å±•ç¤ºå’Œæ±‡æŠ¥</h2><p><a href="/201904/åŸºäºé“¾æ¥å†…å®¹çš„ç¤¾åŒºå‘ç°ï¼ˆä¸€ï¼‰/" itemprop="url"> åŸºäºé“¾æ¥å†…å®¹çš„ç¤¾åŒºå‘ç°ï¼ˆä¸€ï¼‰ </a> &emsp;&emsp;<br><a href="/201904/åŸºäºé“¾æ¥å†…å®¹çš„ç¤¾åŒºå‘ç°ï¼ˆäºŒï¼‰/" itemprop="url"> åŸºäºé“¾æ¥å†…å®¹çš„ç¤¾åŒºå‘ç°ï¼ˆäºŒï¼‰ </a> &emsp;&emsp;</p>
<h2 id="å­¦ä¹ ç¬”è®°"><a href="#å­¦ä¹ ç¬”è®°" class="headerlink" title="å­¦ä¹ ç¬”è®°"></a>å­¦ä¹ ç¬”è®°</h2><p><a href="/201908/ã€Œè¿ç§»å­¦ä¹ ç®€æ˜æ‰‹å†Œã€å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰/" itemprop="url"> ã€Šè¿ç§»å­¦ä¹ ç®€æ˜æ‰‹å†Œã€‹å­¦ä¹ ç¬”è®° </a> &emsp;&emsp;<br><a href="/201909/å®éªŒå®¤è‹¦é€¼æ¬ç –æš‘å‡ç”Ÿæ´»çºªå®/" itemprop="url"> ç”¨æˆ·å¯¹é½ï¼ˆå®éªŒå®¤æ¬ç –çºªå®ï¼‰ </a> &emsp;&emsp;</p>
<h2 id="è¯»ä¹¦ç¬”è®°"><a href="#è¯»ä¹¦ç¬”è®°" class="headerlink" title="è¯»ä¹¦ç¬”è®°"></a>è¯»ä¹¦ç¬”è®°</h2><p><a href="/202005/ã€Šè‹ä¸œå¡ä¼ ã€‹æ‘˜å½•/" itemprop="url"> ã€Šè‹ä¸œå¡ä¼ ã€‹ </a> &emsp;&emsp;<br><a href="/202002/ç¥­äº¡å¦»ç¨‹æ°æ–‡/" itemprop="url"> ã€Šç¥­äº¡å¦»ç¨‹æ°æ–‡ã€‹ </a> &emsp;&emsp; </p>
]]></content>
  </entry>
  <entry>
    <title>[ICM 2021] Music Never Stops: Cracking the Secret of Musical Influence</title>
    <url>/202102/2021-02-10-2021ICM-Music/</url>
    <content><![CDATA[<p>We participated in ICM 2021 during Feb 5th - Feb 9th and finally honored <strong>Meritorious Winner(Top 7%)</strong>ğŸ˜†. Because we 3 people are all music enthusiasts, we choosed the problem D about data mining in music similarity and influence. We thought we could do better in this field. It turns out that we were right. Here is our thinking and solution to this problem.</p>
<h1 id="Topic-and-Datasets"><a href="#Topic-and-Datasets" class="headerlink" title="Topic and Datasets"></a>Topic and Datasets</h1><p>Here are <a href="https://www.mathmodels.org/Problems/2021/ICM-D/2021_ICM_Problem_D.pdf">the topic and the datasets</a>. You can also see them on <a href="https://www.mathmodels.org/Problems/2021/ICM-D/index.html">COMAP</a>.</p>
<p>In short, our team has been identified by an organization to develop a model that measures musical influence. This problem asks us to examine evolutionary and revolutionary trends of artists and genres. We has been given 4 data sets:</p>
<ol>
<li><code>influence_data.csv</code> represents musical influencers and followers, as reported by the artists themselves, as well as the opinions of industry experts. These data contains influencers and followers for 5,854 artists in the last 90 years.</li>
<li><code>full_music_data.csv</code> provides 16 variable entries, including musical features such as <code>danceability</code>, <code>tempo</code>, <code>loudness</code>, and <code>key</code>, along with <code>artist_name</code> and <code>artist_id</code> for each of 98,340 songs. These data are used to create two summary data sets, including: mean values by artist - <code>data_by_artist.csv</code>, means across years <code>data_by_year.csv</code>.</li>
</ol>
<h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><blockquote>
<p>Music has been a necessary part of human life and history since we human have consciousness. At the same time of human evolution, music is constantly changing new forms and contents. Music itself doesnâ€™t evolve, and thereâ€™s no doubt that itâ€™s done by a group of people called â€œartistsâ€. Itâ€™s a common sense that a new form of music occurs under the action of many factors, such as artistsâ€™ innate creativity, current social or political events, access to new instruments or tools, or other personal experiences.</p>
</blockquote>
<center><img src="/eysblog_en/imgsource/icm2021-figure-1.png" alt="The architecture of our model" width="80%"/>
<p><font size=3 color="black">Figure 1: The architecture of our model</font></p></center>

<p>Based on some basic musical attributes, our aim in this report is to build a model to quantify musical evolution. We are expected to provide a measurement mechanism to observe how the previous music affects the later music and musicians. So two major models are established to finish that job.</p>
<p>For the model 1, we analyzed <strong>the relationships</strong> between genre, artist and music from the perspective of influence and similarity. We use the <strong>BA model</strong> to explained the influence network, which connects the influencers and followers. Based on the influence relationships between artists, we use <strong>the directed edge of the model</strong> to construct an influence-index. And then based on this index, we use <strong>the improved Louvain algorithm</strong> to in <strong>community partition</strong> to get The partition based on influence.</p>
<p>On the other hand, from the perspective of the similarity between artists, we use <strong>Pearson correlation coefficient</strong> to remove the redundant of music attributes, and construct the measure index of similarity. Based on this index, we use <strong>the improved K-Means algorithm</strong> in community partition, and finally obtain The partition based on similarity.</p>
<p>We creatively proposed to <strong>combine these two networks</strong>, and <strong>the NMI index</strong> is used to analyze the relationship between similarity and influence. Finally, we prove that the influencers actually affect the music created by the followers.</p>
<p>For the model 2, we took <strong>time</strong> into consideration. In order to analyze the musical evolution process, We use <strong>ARIMA model</strong> to create an ideal evolution curve. We compare the real curve with the ideal evolution curve to find how the social, culture and technology affect the music. We give an example of electronic music. Symbols and Definitions show in the Table 1.</p>
<center><img src="/eysblog_en/imgsource/icm2021-table-1.png" alt="" width="100%" /></center>

<h1 id="ğŸŒŸModel-1ğŸŒŸ-BA-Model-and-Optimized-Louvain-KMeans-Algorithm"><a href="#ğŸŒŸModel-1ğŸŒŸ-BA-Model-and-Optimized-Louvain-KMeans-Algorithm" class="headerlink" title="ğŸŒŸModel 1ğŸŒŸ: BA Model and Optimized Louvain-KMeans Algorithm"></a><strong>ğŸŒŸModel 1ğŸŒŸ</strong>: BA Model and Optimized Louvain-KMeans Algorithm</h1><p>Model 1 we analyze social networks from the perspective of influence and similarity, and then analyze the influence and similarity relationship among genres, artists and music.</p>
<p>In this model, we use directed graph to construct influence network and BA model to explain the influence propagation relationship in the network. First, we analyzed the influence relationship between artists. We propose the influence index by using the indegree and outdegree parameters inthe directed graph, and use the improved Louvain algorithm in community partition to get the â€œThe partition based on influenceâ€.</p>
<p>Then we analyze the similarity among the music, we use <strong>Pearson correlation coefficient</strong> to delete redundant attributes, and propose the measure of â€œsimilarityâ€. Through similarity measurement, the improved KMeans algorithm is used in community partition to obtain â€œThe partition based on â€œsimilarityâ€.</p>
<p>After that, we innovatively combine the above two networks, and perfectly explain the relationship between music influence and similarity by using NMI parameters. We call this innovative method Optimized Louvain KMeans Algorithm.</p>
<h2 id="Analysis-of-Music-Influence"><a href="#Analysis-of-Music-Influence" class="headerlink" title="Analysis of Music Influence"></a>Analysis of Music Influence</h2><h3 id="The-influence-of-network-BA-model"><a href="#The-influence-of-network-BA-model" class="headerlink" title="The influence of network (BA model)"></a>The influence of network (BA model)</h3><p>In Model 1 we analyze social networks from the perspective of influence and similarity, and then analyze the influence and similarity relationship between genres, artists and music.</p>
<p><code>Influence_data.csv</code> includes 5854 artists in the past 90 years according to the artists themselves and industry experts. <strong>We construct 42770 influence relationships among the 5854 artists through the data set, and the directed edges in the network point from the follower to the influencer</strong>. In the Figure3.1.1, artists of different genres are represented by different colors. There are <strong>19 genres of music (except unknown) in the dataset</strong>.</p>
<p>Through the Figure2, we can roughly know the influence relationship between different genres. For example, we can easily see that Pop/Rock music has influence on all other genres, which is also determined by the characteristics of Pop/Rock music itself. Based on this network, the later content of this paper will further analyze the relationship between the influence of music characteristics and social network, age, policy and so on.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-2.png" alt="" width="80%"/>
<p><font size=3 color="black">Figure 2: Directed network of musical influence</font></p></center>

<p>In network theory, scale-free network is a kind of complex network. Its typical feature is that most nodes in the network are only connected with a few nodes, and a few nodes are connected with a lot of nodes. In reality, many networks have scale-free characteristics, such as Internet, financial system network, social network and so on.</p>
<p>According to the influence direct graph, we guess that the influence network is a scale-free network, and then we will verify it by BA model.This model is based on two assumptions.</p>
<ul>
<li>Growth model: many real networks are constantly expanding and growing, such as the birth of new web pages in the Internet, the publication of new papers and so on. Obviously, the musical influence network is also expanding through the increasing influence relationship.</li>
<li>Priority connection mode: when new nodes join, they tend to connect with nodes with more connections. For example, new web pages usually have connections to well-known Web sites, and new papers tend to cite well-known literatures that have been widely cited, etc. In reality, the same is true of influence. New musicians are more likely to be influenced by<br>influential influencers.</li>
</ul>
<p>Based on the above two hypotheses, we randomly selected 500 followers from the data set, removed them from the established social network, and then connected them back to the influence network by building a scale-free network with BA model.</p>
<p>There are \(N<em>a\) nodes in the original network, we will add a new artist \(a_i\) to the network. When \(a_i\) is a new node, \(m\) edges are connected from the new node to the original node, and the connection mode is the node with priority given to the high heights. For the original artist \(a_j\) in the network,the number of degree in the original network is recorded as \(idg</em>{a<em>j}\). Then the probability \(p</em>{a_i,a_j}\) of the new node can be canculate as follows:</p>
<script type="math/tex; mode=display">
P_{a_i,a_j}=\frac{idg_{a_j}}{\sum_{K \in artist_{id}}idg_{a_k}}
\tag{1}</script><p>By choosing the appropriate probability threshold, we add these 500 nodes back to the influence network, and create related directed edges. According to the real influence network, we calculate the connection accuracy of each new node(\(a_i\)) and the original node. The accuracy of the connection betweennew node(\(a_i\)) and the original node is 81.74%. This shows that the influence network basically conforms to the BA model.</p>
<p>According to the properties of BA model, we can know that the distribution of the number of the followers of artists can be approximately described by a power function with a power exponent of 3. For artist \(a_i\), the distribution function of the number of people affected is:</p>
<script type="math/tex; mode=display">
p(idg_{a_i}) \propto 2idg^3_{a_i}
\tag{2}</script><p>The distribution function can help us better explain the spread of influence, and can also be used to predict which artists are more attractive to the new artists.</p>
<h3 id="Analysis-of-music-influence-from-the-perspective-of-genre"><a href="#Analysis-of-music-influence-from-the-perspective-of-genre" class="headerlink" title="Analysis of music influence from the perspective of genre"></a>Analysis of music influence from the perspective of genre</h3><p>To quantify the influence of music genres, based on the previous social network, we counted the number of directed edges between genres as the influence parameter, and built the heat map between genres. In order to show the heat map better, we take logarithm of the number of directed edges.</p>
<p>As can be seen from the below Figure 3, the influence of all artists is mainly reflected in the genre itself. Jazz has an impact on all other genres of music. Pop / Rock, R&amp;B and Vocal also have a great impact on other fields.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-3.png" alt="" width="60%"/>
<p><font size=3 color="black">Figure 3: Heat map between genres</font></p></center>

<h3 id="Influence-index"><a href="#Influence-index" class="headerlink" title="Influence-index"></a>Influence-index</h3><p>In order to evaluate the music influence of artists better, we introduce the following evaluation measures. On the basis of the number of followers, we construct the comprehensive measure of influence index, which combines the influence of artists in and out of their genres to give an objective evaluation of the influence of artists.</p>
<script type="math/tex; mode=display">
Influence-index_i=F_{in_i}+logG_i * F_{out_i}
\tag{3}</script><p>We choose pop / rock artists as a sub network to investigate the influence of all artists. According to the influence index we set, we find out the top ten artists of this genre.The music genres and influence-index influenced by the ten artists are shown in the following table.</p>
<center><img src="/eysblog_en/imgsource/icm2021-table-2.png" alt="" width="100%"/></center>

<p>It is easy to check the influencer and followers of each artist in the network we built. Taking The Beatles as an example, the influence network chart of its music is shown in the Figure 4.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-4.png" alt="" width="90%"/>
<p><font size=3 color="black">Figure 4: The influence network chart of The Beatles</font></p></center>

<h2 id="Analysis-of-Music-Similarity"><a href="#Analysis-of-Music-Similarity" class="headerlink" title="Analysis of Music Similarity"></a>Analysis of Music Similarity</h2><h3 id="The-similarity-index"><a href="#The-similarity-index" class="headerlink" title="The similarity index"></a>The similarity index</h3><p>In order to establish the music similarity measurement model, we can compare the similarity degree of each parameter between different music. In this question, there are 7 characteristics of the music and 5 types of vocals, a total of 12 parameters to reflect the characteristics of music (<code>danceability</code>, <code>energy</code>, <code>valence</code>, <code>tempo</code>, <code>loudness</code>, <code>mode</code>, <code>key</code>, <code>acousticenss</code>, <code>instrumentalness</code>, <code>livenss</code>, <code>speechiness</code>, <code>explicit</code>).</p>
<p>By calculating Pearson correlation coefficients between 12 music parameters, the correlation co-efficient matrix is obtained, and the redundant parameters with high correlation can be eliminated.</p>
<p>Energy and valence data in <code>full-music-data.csv</code> were taken as an example to calculate the correlation coefficient, and the data could be expressed as: \( e:\{e<em>{m_1}, e</em>{m<em>2}, e</em>{m<em>3}, â€¦, e</em>{m<em>{N_n}}\} \), \( v:\{v</em>{m<em>1}, v</em>{m<em>2}, v</em>{m<em>3},â€¦, v</em>{m_{N_n}}\} \).</p>
<script type="math/tex; mode=display">
\begin{align}
&Mean Value: E(e) = \frac{\sum_{i=1}^ne_{m_i}}{n}, E(v)=\frac{\sum_{i=1}^nv_{m_i}}{n}, \\
&Covariance: Cov(e, v) = \frac{\sum_{i=1}^n(e_{m_i}-E(e))(v_{m_i}-E(v))}{n}, \\
&Standard Deviation: \delta_e=\sqrt{\frac{\sum_{i=1}^n(e_{m_i}-E(e))^2}{n}}, \delta_v=\sqrt{\frac{\sum_{i=1}^n(v_{m_i}-E(v))^2}{n}}, \\
&Pearson = \rho_{ev} = \frac{Cov(e, v)}{\delta_e\delta_v}=\frac{\frac{\sum_{i=1}^n(e_{m_i}-E(e))(V_{m_i}-E(v))}{\delta_e\delta_v}}{n}
\end{align}
\tag{4}</script><p>Using the data in full-music-data.csv, the correlation coefficient between each index can be calculated. Its correlation coefficient matrix is shown in Figure 5.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-5.png" alt="" width="100%"/>
<p><font size=3 color="black">Figure 5: The correlation coefficient between each index</font></p></center>

<p>In order to reduce the influence of the correlation between indicators, indicators in each group with the absolute value of correlation coefficient greater than 0.3 were selected. Then, one of the two indicators of each group was selected, and the index used to evaluate music similarity was as follows:<code>danceability</code>, <code>energy</code>, <code>mode</code>, <code>key</code>, <code>liveness</code>, <code>speechiness</code> and <code>explicit</code>.</p>
<p>The values of <code>mode</code> and <code>explict</code> are Boolean values, so they are excluded from the music similarity model. The similarity of songs was evaluated by comparing the degree of differentiation of the remaining five indicators between different songs. We defined a numerical quantity called similarity to indicate the degree of difference between songs, and the higher the similarity value is, the more similar the songs are.</p>
<p>For example, calculate the similarity of song j and song k in full-musci-data file, and its data can be expressed as: \(M<em>j{d</em>{m<em>j}, e</em>{m<em>j}, l</em>{m<em>j}, s</em>{m<em>j}, k</em>{m<em>j}}, M_k{d</em>{m<em>k}, e</em>{m<em>k}, l</em>{m<em>k}, s</em>{m<em>k}, k</em>{m_k}}\).<br>The similarity of the two songs is defined as:</p>
<script type="math/tex; mode=display">
def: Similarity = \frac{1}{\sqrt{(d_{m_j}-d_{m_k})^2+(e_{m_j}-e_{m_K})^2+...+(k_{m_j}-k_{m_k})^2}}
\tag{5}</script><h3 id="Similarity-analysis-between-music-genres"><a href="#Similarity-analysis-between-music-genres" class="headerlink" title="Similarity analysis between music genres"></a>Similarity analysis between music genres</h3><p>We selected 12 music genres in the data set to analyze their music similarity. For each genre, we selected 50 artists with the highest influence index, and calculated the music style similarity between these 500 artists. Then the music similarity between different genres is calculated according to the same genre and different genres. The results are shown in the Figure 6 below.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-6.png" alt="" width="60%"/>
<p><font size=3 color="black">Figure 6: Music similarity between different genres</font></p></center>

<p>The darker the color in the figure 6 is, the higher the similarity between genres. For example, the similarity between Blues and Pop/Rock,jazz and Country is very high, while the similarity between R&amp;B and Vocal is very low. Similar conclusions can be drawn directly from the figure.</p>
<p>In order to better distinguish the characteristics of music genres, we use radar chart to intuitively show the prominent characteristics of each genre.The musical characteristics of these 12 genres are shown in the Figure 7.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-7.png" alt="" width="80%"/>
<p><font size=3 color="black">Figure 7: Music characteristics</font></p></center>

<h3 id="The-analysis-of-the-factors-that-influence-the-spread-of-music"><a href="#The-analysis-of-the-factors-that-influence-the-spread-of-music" class="headerlink" title="The analysis of the factors that influence the spread of music"></a>The analysis of the factors that influence the spread of music</h3><p>Using the data, the correlation coefficients between 12 indexes and the popularity of music are calculated.</p>
<p>In this question, we assume that if the absolute value of the correlation coefficient is greater than 0.3, we can think that there is a strong correlation between the data. When the absolute value of the correlation coefficient is between 0.1 and 0.3, we can think that there is a correlation between the data.</p>
<p>The characteristics of music communication can be reflected from the popularity of music, so from the correlation coefficient, it can be concluded that the communicability of music is positively correlated with the dancebility, energy, loudness and explicit, and negatively correlated with the instrumental, acoustic and other indicators, and is most affected by the dancebility, loudness and acoustic.</p>
<h2 id="Optimized-Louvain-KMeans-Algorithm-and-NMI"><a href="#Optimized-Louvain-KMeans-Algorithm-and-NMI" class="headerlink" title="Optimized Louvain-KMeans Algorithm and NMI"></a>Optimized Louvain-KMeans Algorithm and NMI</h2><p>Through the heat map of influence and similarity, we can qualitatively observe the relationship between music influence and similarity. </p>
<p>Next, we innovatively propose the optimized louvain-kmeans algorithm to quantitatively analyze the relationship between music influence and similarity with the help of NMI.The architecture of this model is shown in the figure 8.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-8.png" alt="" width="80%"/>
<p><font size=3 color="black">Figure 8: Flow chart of the model</font></p></center>

<h3 id="The-community-partition-based-on-influence"><a href="#The-community-partition-based-on-influence" class="headerlink" title="The community partition based on influence"></a>The community partition based on influence</h3><p>The Louvain method for community detection is a method to extract communities from large networks created by Blondel et al. from the University of Louvain (the source of this methodâ€™s name). The method is a greedy optimization method that appears to run in time \(O(n Â· log_2n)\) if \(n\) is the number of nodes in the network.We will use the Louvain algorithm to divide the influence network.</p>
<p>Before using Louvain, we need to introduce the concept of modularity. We use the Louvain algorithm to make as many edges as possible in the community and as few as possible between the communities. The measure of this index is modularity. </p>
<p>The number of nodes in the network is \(N<em>a\), the number of edges is \(N</em>{infl}\), and the indegree of node \(a<em>i\) is \(idg</em>{a<em>i}\). The adjacency matrix of the network is expressed as A, \(A</em>{a_i,a_j}=0\) means there is no edge between \(a_i\) and \(a_j\). \(AVW = 1\) means there are edges between the two nodes. </p>
<p>Define variable s, and \(s<em>{a_ia_j}\) means that \(a_i\) and \(a_j\) belong to the same partition. \(s</em>{a<em>ia_j}=-1\) means that the two nodes belong to different partition. Then we can use \(\delta</em>{a<em>ia_j} = 1/2(s</em>{a_ia_j} + 1) \) to verify if \(a_i\) and \(a_j\) belong to the same partition in a quantitive way. If the result equals one, we can say the two nodes belong to the same partition. If not, the result equals zaro. Then the probability expectation of modularity can be expressed as:</p>
<script type="math/tex; mode=display">
\overline{Q} = 1/2\frac{\sum_{a_ia_j}A_{a_ia_j}}{N_{infl}} \delta_{a_ia_j}
\tag{6}</script><p>Modularity can be finally expressed as:</p>
<script type="math/tex; mode=display">
Q=\frac{1}{2m}\sum_{a_ia_j}(A_{a_ia_j}-\frac{idg_{a_i}idg_{a_j}}{2N_{infl}})\delta_{a_ia_j}
\tag{7}</script><p>Through greedy algorithm, the modularity is continuously optimized to achieve â€œcommunity partition based on influenceâ€,The schematic diagram of the improved Louvain algorithm is shown in the Figure 9.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-9.png" alt="" width="80%"/>
<p><font size=3 color="black">Figure 9: Optimized louvain algorithm</font></p></center>

<p>In the process of optimization, we select the artist with the biggest influence factor among 19 music genres, and prevent them from being divided into a module, so as to improve the efficiency of community partition. The community partition results are shown in the Figure 10.(different colors represent different communities)</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-10.png" alt="" width="50%"/>
<p><font size=3 color="black">Figure 10: The partition based on influence</font></p></center>

<h3 id="The-communiy-partition-based-on-similarity"><a href="#The-communiy-partition-based-on-similarity" class="headerlink" title="The communiy partition based on similarity"></a>The communiy partition based on similarity</h3><p>We use KMeans to divide all the artist nodes into communities, so that the music similarity within the community is higher, and the music similarity between the communities is lower. Similar to the Louvain algorithm, we use the artist with the largest influence factor in the same 19 music genres, and prevent them from being divided into a module, so as to improve the efficiency of community partition.The community partition results are shown in the Figure 11(different colors represent different communities)</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-11.png" alt="" width="50%"/>
<p><font size=3 color="black">Figure 11: The partition based on similarity</font></p></center>

<h3 id="The-relationship-between-influence-and-similarity-was-analyzed-through-NMI"><a href="#The-relationship-between-influence-and-similarity-was-analyzed-through-NMI" class="headerlink" title="The relationship between influence and similarity was analyzed through NMI"></a>The relationship between influence and similarity was analyzed through NMI</h3><p>NMI is often used to detect the difference between the results of the partition and the true partition of the network and calculate the correct rate. Here we use the NMI index to evaluate the similarity between the influence-based and similarity-based social partitions.The higher the NMI index is, the more similar the two partitions are, which indicates that the influencers actually affect the music created by the followers.</p>
<p>In our model,\(P<em>{SC}\) stands for â€œsimilarity-based community partitionâ€ and \(P</em>{IC}\) for â€œinfluence-based community partitionâ€, and the NMI index of these two can be expressed by the following formula:</p>
<script type="math/tex; mode=display">
\mathrm{NMI}=\frac{-2 \sum_{i=1}^{C_{P_{I C}}} \sum_{j=1}^{C_{P_{S C}}} C_{i j} \cdot \log \left(\frac{C_{i j} \cdot N}{C_{i} \cdot C_{j}}\right)}{\sum_{i=1}^{C_{P_{I C}}} C_{i} \cdot \log \left(\frac{C_{i}}{N}\right)+\sum_{j=1}^{C_{P S C}} C_{i j} \cdot \log \left(\frac{C_{j}}{N}\right)}
\tag{8}</script><p>where N is the number of nodes, C is a confusion matrix, the element \(C<em>{ij}\) in the matrix indicates the number that the nodes belonging to the community i in the SC partition also belong to communities j in the IC partition. \(P</em>{IC}(P_{SC})\) is the number of communities in IC(SC) partition, \(C_i(C_j)\) is the sum of elements in matrix C. The grater the value of NMI,the more similarity between SC and IC partition, when the NMI value is 1, it indicates that SC and IC are the same partition of the network.</p>
<p>Finally, the NMI value we calculated is 0.6237, indicating that the influencers actually affect the music created by the followers.</p>
<h1 id="ğŸŒŸModel-2ğŸŒŸ-Time-Series-Analysis"><a href="#ğŸŒŸModel-2ğŸŒŸ-Time-Series-Analysis" class="headerlink" title="ğŸŒŸModel 2ğŸŒŸ: Time-Series Analysis"></a><strong>ğŸŒŸModel 2ğŸŒŸ</strong>: Time-Series Analysis</h1><p>It is a normal process that music genres emerge, evolve, and disappear. Our team member managed to observe big turns over time, and identify the key revolutionary artist of each genre. Whenever a music genre is about to leap, there will always be clues to change. As for a music genre, it is obvious that the explosive growth in the number of new artists and new songs indicates the prevalence and significant leap of the genre. So our team counted the number of artists and songs in the history of ten major music genres, and found the time of change in the visual image. According to the influence network, the most influential artists in these years were identified as the pioneers of the music revolution, that is, the so-called music revolutionaries. The details are shown below.</p>
<h2 id="The-evolution-of-genres-over-time"><a href="#The-evolution-of-genres-over-time" class="headerlink" title="The evolution of genres over time"></a>The evolution of genres over time</h2><p>We have studied the evolution of ten genres over time. In the text, we choose Jazz, R&amp;B and Country as three genres to illustrate their evolution over time.</p>
<h3 id="New-Artists"><a href="#New-Artists" class="headerlink" title="New Artists"></a>New Artists</h3><p>First of all, look at the number of artists added from the genre.According to the data given, the statistical changes of the number of people in the three schools from 1930 to 2010 are shown in Figure 12.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-12.png" alt="" width="60%"/>
<p><font size=3 color="black">Figure 12: The number of artists in different musical genres</font></p></center>

<p>It can be seen from the figure that jazz, R&amp;B and country all rose in the United States in the 1930s. Jazz flourished from the 1930s to the 1950s, and the number of new artists reached 102 in the 1950s. After the 1950s, jazz began to decline rapidly, and the number continued to decline. By the 2010s, there was no jazz New artists are included in the statistics.</p>
<p>R&amp;B music developed slowly from 1930â€™s to 1940â€™s, and the number of artists increased slowly. However, as time went into 1940â€™s, R&amp;B music genres developed rapidly, and the number of new artists increased from 17 in 1940 to 104 in 1950 in just 10 years. When R&amp;B developed into 1950s, the number of artists still maintained a steady growth momentum, and reached the peak in 1960 From the 1960s to the 21st century, R&amp;B declined as a whole. The number of new artists has been decreasing except for the growth in the 1980s. In 2010, the number of new artists fell back to the level of the early 1940s.</p>
<p>The number of artists in the country music genre increased slowly, showing a fluctuating upward trend from 1930 to 1990. The number of new artists reached the peak of 74 in 1990. However, compared with the peak of jazz and R&amp; B genre, the number of artists was still small. After 90 years, the country music genre began to decline, and the number of new artists fell back to the<br>beginning of the genre The number of musicians.</p>
<h3 id="The-release-of-songs"><a href="#The-release-of-songs" class="headerlink" title="The release of songs"></a>The release of songs</h3><p>In terms of the number of songs released, in the data used, we exclude the songs jointly released by multiple artists, and all the songs included in the calculation are published by artists alone, which can avoid that a song may be released by artists of multiple genres.</p>
<p>According to the given data, the changes of the number of songs released by the three genres from 1920 to 2020 are counted, as shown in Figure 13.</p>
<p>Compared with the broken line trend in Figure 1 and Figure 2, we can conclude that the increase of new generation artists will significantly affect the number of songs released, and this effect is often ahead of the increase in the number of songs released, and there is a cumulative effect. Taking jazz music genre as an example, the number of new generation artists in the genre was at a high growth level from 1930 to 1960. In 1950, the number of new generation artists reached its peak. During this period, the genre accumulated a large number of excellent artists. These artists matured in the 1950s and 1960s, and a large number of music works emerged. During this period, the music circulation of jazz music was much higher than that of any other period, reaching the peak of 486 songs in 1957. The same is true of R&amp;B music. In 1960, the number of new generation artists<br>reached its peak, and then in 1972, the number of R&amp;B music released reached its peak of 339.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-13.png" alt="" width="60%"/>
<p><font size=3 color="black">Figure 13: Total number of songs released each year by different genre</font></p></center>

<h3 id="Genre-popularity"><a href="#Genre-popularity" class="headerlink" title="Genre popularity"></a>Genre popularity</h3><p>From the perspective of popularity, we first give the definition of genre popularity. Gene popularity: based on the active-Start, the arithmetic mean value of the popularity of all artists of the same genre is defined as genre popularity.</p>
<p>For example: jazz music genre, active- There are 45 artists who started in 1930, according to the data table-by-artist.csv We can know the popularity value of artists who meet the conditions, and we can get the popularity of jazz music in 1930 by taking the arithmetic average of these values.</p>
<p>According to the above definition, we can get the change curve of the three genres from 1930 to<br>2010, as shown in Figure 14.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-14.png" alt="" width="60%"/>
<p><font size=3 color="black">Figure 14: Grnre popularity</font></p></center>

<p>From the trend of the line chart, the value of Genre popularity is increasing over time. The reason for the decline of jazz curve from 2000 to 2010 is the lack of 2010 active-Startâ€™s Jazz artist data, so its value was zero in 2010. Because the popularity of songs is calculated by algorithm, and the result largely depends on the total number of tracks played and the time of the most recent track played. Generally speaking, as time goes on, the frequency of playing the track will increase significantly, and it has a higher popularity. Therefore, the popularity of genres will increase with<br>the passage of time.</p>
<h2 id="The-influence-of-external-factors-on-the-development-trend-of-genres"><a href="#The-influence-of-external-factors-on-the-development-trend-of-genres" class="headerlink" title="The influence of external factors on the development trend of genres"></a>The influence of external factors on the development trend of genres</h2><p>We divide the ideal evolution of music genres into four stages: initial stage, development stage, booming stage and recession stage. We use the number of songs of a genre in a certain period to express the prosperity of the genre in that period. Based on the number curve of 10 genres, we use ARIMA model to fit an ideal evolution curve of genres.</p>
<p>Without the influence of social environment, scientific and technological development and other factors, genres will evolve according to the ideal curve.</p>
<p>ARIMA model(Auto regressive Integrated Moving Average model ) is one of the time series prediction methods. In ARIMA (P, D, q), AR is â€œautoregressiveâ€, P is the number of autoregressive terms; Ma is â€œmoving averageâ€, q is the number of moving average terms, and D is the difference order of making it a stationary sequence.</p>
<p>The ideal evolution curve of genres fitted by this model is shown in the Figure 15 (the light blue area is the error range). Compared with the ideal evolution curve and the actual evolution curve of music genre, when there is a significant difference between the two in a certain period, it shows that there are social and cultural factors that have a great impact on the genre at this time.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-15.png" alt="" width="60%"/>
<p><font size=3 color="black">Figure 15: The ideal evolution curve of genres</font></p></center>

<p>Taking electronic music as an example, the evolution curve of electronic music and the evolution curve of the genre in the ideal state are shown in the Figure 16.</p>
<center><img src="/eysblog_en/imgsource/icm2021-figure-16.png" alt="" width="60%"/>
<p><font size=3 color="black">Figure 16: The evolution curve of electronic</font></p></center>

<p>In fact,following the emergence of raving, pirate radios, and an upsurge of interest in club culture. Electronic music achieved widespread mainstream popularity in Europe. Meanwhile, MIDI devices, which has been the musical instrument industry standard interface since the 1980s through to the present day, became commercially available in 1980s.These cultural and technological factors have promoted the rapid development of electronic music.</p>
<h1 id="Conclusions"><a href="#Conclusions" class="headerlink" title="Conclusions"></a>Conclusions</h1><p>To understand and measure the influence of previously poducted music on new music and musical artists, we proposed a series of novel models to address the sub-issues from creating the influence network based on the similarity between artists. The proposed model achieves high accuracy and robustness.</p>
<ul>
<li>We create the directed network based on music influence and use BAmodel to explain how the influence network expend. Thenwe propose Influence-Index to analyze the influence between genres and artists. We select the most 10 influential artists and show their influence-index.</li>
<li>In order to analyze the similarity between genres, artists and music, we use correlation analysis to remove redundant attributes. We finally select 7 attributes which actually infect the similarity. They are danceability, energy, key, liveness, speechiness, mode and explicit. Based on these attributes, we propes similirity index.</li>
<li>To find the relationship between the music similarity and the influence, we propose a Optimized LOUVAIN-KMeans Algorithm and use it to community partition. By participating artists into different community through Louvain algorithm and KMeans algorithm, we can obtain 2 different partition. Then we use NMI to estimate the similarity between these 2 partions. Finally we get the conclusion that influencers actually affect the music created by followers.</li>
<li>We analyze the influence processes of musical evolution that occoured over time. We use ARIMA model to create an ideal evolution curve. By comparing with the ideal evolution curve, we can find how the social, culture and technology affect the music. We give an example about electronic music.</li>
</ul>
<h1 id="Strength-and-weaknesses"><a href="#Strength-and-weaknesses" class="headerlink" title="Strength and weaknesses"></a>Strength and weaknesses</h1><h2 id="Strengths"><a href="#Strengths" class="headerlink" title="Strengths"></a>Strengths</h2><p>-We creatively proposed Optimized LOUVAIN-KMeans Algorithm and use the partition to explain the relationship between the influence and music similarity. The community network is as a bridge between them, and the model can reflect the relationship effectively.</p>
<ul>
<li>We proposse Influence-Index to estimate the influence of the artists objectively. Itâ€™s not accuracy to use only the number of followers or the number of music.</li>
<li>When analyzing the similarity between music and artists, our model is simple and convenient. Among the 12 music attributes given in the original data set, we remove the redundant attributes through correlation analysis, so that our model can calculate the similarity more efficiently and maintain a higher accuracy.</li>
<li>We creatively use ARIMA model to generate an ideal evolution curce of the genre. It make our model more robust, and can be used in many other situation. The ideal evolution curve reveal the process of the evolution in these genres.</li>
</ul>
<h2 id="Weakness"><a href="#Weakness" class="headerlink" title="Weakness"></a>Weakness</h2><ul>
<li>We donâ€™t consider the influence between genres when we construct the ideal evolution curve. And new genres will appear at any time, so the curve may not that accuracy.</li>
<li>The interpretability of the influence and similarity model is not strong. We only find the relationship between similarity and influence. But we donâ€™t know how it operates indetail.</li>
<li>The amount of data of some minority genres is too small, the prediction result of the model for minority genres is not good.</li>
</ul>
]]></content>
      <categories>
        <category>Mathematical Modeling</category>
      </categories>
  </entry>
  <entry>
    <title>A Renewable Energy Certificate Trading System Based on Blockchain</title>
    <url>/202110/2021-10-02-REC-trading/</url>
    <content><![CDATA[<h1 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a>Abstract</h1><p>At present, the cumbersome issuing process of renewable energy certificate (REC) and inflexible pricing mechanism consume a lot of manpower and material resources. In order to solve this problem, this paper proposes a hybrid REC trading system based on Consortium Blockchain. The paper introduces the operation mode of the system in detail and changes the view replacement protocol in the Practical Byzantine Fault Tolerance (PBFT) Algorithm to improve the stability of the system. It also introduces the bidding rules of Continuous Double Auction (CDA) used in the system, and designs the bidding strategies to maximize the userâ€™s profit and the success rate of transaction. Finally, ARIMA model is also used to forecast the price of RECs to provide guidance for both buyers and sellers. </p>
<ul>
<li><strong>Index Terms</strong><br>REC transaction, Consortium Blockchain, Continuous Double Auction, ARIMA</li>
</ul>
<h1 id="PDF"><a href="#PDF" class="headerlink" title="PDF"></a>PDF</h1><p><iframe style="height: 1000px; width: 100%; display: block" frameborder="0"  scrolling="no" src="/eysblog_en/objectsource/BDRA-13.pdf"> </iframe><br><br /></p>
<p>Accepted by TrustCom 2021: International Conference on Trust, Security and Privacy in Computing and Communications, Jul.2021.</p>
]]></content>
      <categories>
        <category>Blockchain</category>
      </categories>
  </entry>
  <entry>
    <title>Netizen Sentiment Recognition During COVID-19</title>
    <url>/202006/2020-06-18-Netizen-Sentiment/</url>
    <content><![CDATA[<p>The emergence of the COVID-19 has disrupted our normal life. Peopleâ€™s psychological state can also receive a great negative impact. We chose such a topic with humanistic concern in <code>Data Warehouse and Data Mining</code> course, hoping that through Weibo posts we can gain more insight into peopleâ€™s emotional state during the COVID-19. We are awarded the best project (1/23) in this course, and we think we could do more in psychological care during COVID-19.</p>
<h1 id="Data-Source-and-Data-Structure"><a href="#Data-Source-and-Data-Structure" class="headerlink" title="Data Source and Data Structure"></a>Data Source and Data Structure</h1><p>This data comes from a data mining competition organized by DataFountain. The data set is a collection of Weibo crawled during the COVID-19. The link to the dataset is <a href="https://www.datafountain.cn/competitions/423/datasets">here</a>.</p>
<blockquote>
<p>The dataset cannot be downloaded directly from the official website because the competition has ended, the dataset can also be found on <a href="https://www.kaggle.com/liangqingyuan/chinese-text-multi-classification?select=nCoV_100k_train.labled.csv">Kaggle</a>.</p>
</blockquote>
<p>We used 100,000 posts from the training set provided by the competition website, but considering the time and computational cost, I only used the first 10,000 posts with annotations, and divided them into a training set and a test set in a 7/3 ratio. This dataset was based on 230 keywords related to the topic of â€œæ–°å† è‚ºç‚â€, which means COVID-19 in Chinese. </p>
<p>1,000,000 Weibo posts were collected from January 1, 2020 to February 20, 2020, and 100,000 Weibo posts were labeled with three categories: 1 (positive), 0 (neutral) and -1 (negative). The data is stored in csv format in <code>nCoV-100k.labeled.csv</code> file. The original dataset contains 100,000 user-labeled posts in the following format: <code>[post id, posting time, posting account, content, photos, videos, sentiment]</code>.</p>
<p>The original dataset has six attributes: <code>post id</code> (hashcode), <code>posting time</code> (Date), <code>posting account</code> (String), <code>content</code> (String), <code>photos</code> (String), and <code>videos</code> (String). Predicting <code>sentiment</code>(Int) by the above attributes. The purpose of this project is to use <strong>word bag preprocessing</strong>, <strong>TF-IDF preprocessing</strong>, <strong>word2vec</strong> and compare their effects, focusing on text processing and text sentiment analysis. So we only chose <code>content</code> attribute to predict the sentiment. (It was hard for us to read the emotion from photos and videos.)</p>
<p>Here is the statistical information of the dataset from Kaggle.</p>
<center><img src="/eysblog_en/imgsource/covid-figure-1.png" alt="" width="80%"/></center>

<p>The bar chart shows that the number of positive, neutral and negative posts varies considerably, with the highest number of neutral posts.</p>
<p>Here is the first post in dataset.</p>
<center><img src="/eysblog_en/imgsource/covid-figure-2.png" alt="" width="80%"/></center>

<p>We found this posts in Weibo APP.</p>
<center><img src="/eysblog_en/imgsource/covid-figure-3.png" alt="" width="80%"/></center>

<h1 id="Data-Preprocessing"><a href="#Data-Preprocessing" class="headerlink" title="Data Preprocessing"></a>Data Preprocessing</h1><p>We Used Kaggle Kernel. Kaggle provides free access to the Nvidia K80 GPU in the kernel. This benchmark shows that using the GPU for your kernel can achieve a 12.5x speedup in the training of deep learning models.</p>
<p>ref: <a href="https://www.cnblogs.com/pinard/p/6744056.html">https://www.cnblogs.com/pinard/p/6744056.html</a></p>
<h2 id="Data-import-and-turncut"><a href="#Data-import-and-turncut" class="headerlink" title="Data import and turncut"></a>Data import and turncut</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd filepath = <span class="string">&#x27;/kaggle/input/chinese-text-multi-classification/nCoV_100k_train.labled.cs v&#x27;</span> file_data = pd.read_csv(filepath)</span><br><span class="line">data = file_data.head(<span class="number">10000</span>)</span><br><span class="line"><span class="comment"># chose content and sentiment</span></span><br><span class="line">data = data[[<span class="string">&#x27;å¾®åšä¸­â½‚å†…å®¹&#x27;</span>, <span class="string">&#x27;æƒ…æ„Ÿå€¾å‘&#x27;</span>]]</span><br></pre></td></tr></table></figure>
<h2 id="Handling-missing-values"><a href="#Handling-missing-values" class="headerlink" title="Handling missing values"></a>Handling missing values</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># handling missing values</span></span><br><span class="line">data.isnull().<span class="built_in">sum</span>()</span><br><span class="line">data = data.dropna()</span><br></pre></td></tr></table></figure>
<h2 id="Remove-meaningless-symbols"><a href="#Remove-meaningless-symbols" class="headerlink" title="Remove meaningless symbols"></a>Remove meaningless symbols</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">clean_zh_text</span>(<span class="params">text</span>): </span><br><span class="line">    <span class="comment"># keep English, digital and Chinese </span></span><br><span class="line">    comp = re.<span class="built_in">compile</span>(<span class="string">&#x27;[^A-Z^a-z^0-9^\u4e00-\u9fa5]&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> comp.sub(<span class="string">&#x27;&#x27;</span>, text)</span><br><span class="line">data[<span class="string">&#x27;å¾®åšä¸­â½‚å†…å®¹&#x27;</span>] = data.å¾®åšä¸­â½‚å†…å®¹.apply(clean_zh_text)</span><br></pre></td></tr></table></figure>
<h2 id="Word-Cut"><a href="#Word-Cut" class="headerlink" title="Word Cut"></a>Word Cut</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># word cut </span></span><br><span class="line"><span class="keyword">import</span> jieba </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">chinese_word_cut</span>(<span class="params">mytext</span>): </span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot; &quot;</span>.join(jieba.cut(mytext))</span><br><span class="line"></span><br><span class="line">data[<span class="string">&#x27;cut_comment&#x27;</span>] = data.å¾®åšä¸­â½‚å†…å®¹.apply(chinese_word_cut)</span><br><span class="line"></span><br><span class="line"><span class="comment"># divided them into a training set and a test set in a 7/3 ratio.</span></span><br><span class="line">lentrain = <span class="built_in">int</span>((<span class="number">10000</span>-<span class="number">30</span>)*<span class="number">0.7</span>) </span><br><span class="line">lentest = <span class="built_in">int</span>((<span class="number">10000</span>-<span class="number">30</span>)*<span class="number">0.3</span>) </span><br><span class="line">x_train = data.head(lentrain)[<span class="string">&#x27;å¾®åšä¸­â½‚å†…å®¹&#x27;</span>] </span><br><span class="line">y_train = data.head(lentrain)[<span class="string">&#x27;æƒ…æ„Ÿå€¾å‘&#x27;</span>] </span><br><span class="line">x_test = data.tail(lentest)[<span class="string">&#x27;å¾®åšä¸­â½‚å†…å®¹&#x27;</span>]</span><br><span class="line">y_test = data.tail(lentest)[<span class="string">&#x27;æƒ…æ„Ÿå€¾å‘&#x27;</span>]</span><br></pre></td></tr></table></figure>
<center><img src="/eysblog_en/imgsource/covid-figure-4.png" alt="" width="80%"/></center>

<center><img src="/eysblog_en/imgsource/covid-figure-5.png" alt="" width="80%"/></center>

<h2 id="Import-Stop-Words"><a href="#Import-Stop-Words" class="headerlink" title="Import Stop Words"></a>Import Stop Words</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># import stop words</span></span><br><span class="line">stpwrdpath = <span class="string">&quot;/kaggle/input/stop-wordstxt/stop_words.txt&quot;</span> </span><br><span class="line">stpwrd_dic = <span class="built_in">open</span>(stpwrdpath, <span class="string">&#x27;rb&#x27;</span>) </span><br><span class="line">stpwrd_content = stpwrd_dic.read() </span><br><span class="line"></span><br><span class="line"><span class="comment">#transform into list </span></span><br><span class="line">stpwrdlst = stpwrd_content.splitlines()</span><br><span class="line">stpwrd_dic.close()</span><br></pre></td></tr></table></figure>
<h2 id="Word-Bag-Preprocess"><a href="#Word-Bag-Preprocess" class="headerlink" title="Word Bag Preprocess"></a>Word Bag Preprocess</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_extraction.text </span><br><span class="line"><span class="keyword">import</span> CountVectorizer</span><br><span class="line"></span><br><span class="line"><span class="comment"># CountVectorizer initialize</span></span><br><span class="line">count_vec = CountVectorizer(stop_words=stpwrdlst) </span><br><span class="line">x_train_list = x_train.tolist() </span><br><span class="line">x_train_cv = count_vec.fit_transform(x_train_list).toarray() </span><br><span class="line">x_test_list = x_test.tolist()</span><br><span class="line">x_test_cv = count_vec.fit_transform(x_test_list).toarray()</span><br></pre></td></tr></table></figure>
<center><img src="/eysblog_en/imgsource/covid-figure-6.png" alt="" width="80%"/></center>

<h2 id="TF-IDF-Preprocess"><a href="#TF-IDF-Preprocess" class="headerlink" title="TF-IDF Preprocess"></a>TF-IDF Preprocess</h2><p>ref:<a href="https://blog.csdn.net/blmoistawinde/article/details/80816179">https://blog.csdn.net/blmoistawinde/article/details/80816179</a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.feature_extraction.text <span class="keyword">import</span> TfidfVectorizer </span><br><span class="line">tfidf_vec = TfidfVectorizer(token_pattern=<span class="string">r&quot;(?u)\b\w+\b&quot;</span>, max_df=<span class="number">0.6</span>, stop_words=stpwr dlst) </span><br><span class="line">x_train_tiv = tfidf_vec.fit_transform(x_train_list).toarray()</span><br><span class="line">x_test_tiv = tfidf_vec.fit_transform(x_test_list).toarray()</span><br></pre></td></tr></table></figure>
<center><img src="/eysblog_en/imgsource/covid-figure-7.png" alt="" width="80%"/></center>

<h2 id="word2vec-embedding"><a href="#word2vec-embedding" class="headerlink" title="word2vec embedding"></a>word2vec embedding</h2><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># word2vec </span></span><br><span class="line"><span class="keyword">from</span> gensim.models <span class="keyword">import</span> Word2Vec </span><br><span class="line">model = Word2Vec(x_train_list, hs=<span class="number">1</span>,min_count=<span class="number">1</span>,window=<span class="number">10</span>,size=<span class="number">100</span>)</span><br><span class="line"><span class="keyword">from</span> gensim.test.utils <span class="keyword">import</span> common_texts, get_tmpfile </span><br><span class="line">path = get_tmpfile(<span class="string">&quot;word2vec.model&quot;</span>) </span><br><span class="line">model.save(<span class="string">&quot;word2vec.model&quot;</span>)</span><br><span class="line"><span class="comment"># model = Word2Vec.load(&quot;word2vec.model&quot;)</span></span><br></pre></td></tr></table></figure>
<center><img src="/eysblog_en/imgsource/covid-figure-8.png" alt="" width="80%"/></center>

<p>The corpus of 10,000 training data is still a bit small, but the results are slightly more productive. For example, if we look at the close synonyms of â€œå¼€å¿ƒâ€(happy), we can see that the results returned are more positive.</p>
<center><img src="/eysblog_en/imgsource/covid-figure-9.png" alt="" width="80%"/></center>

<h1 id="Data-Mining-Algorithm"><a href="#Data-Mining-Algorithm" class="headerlink" title="Data Mining Algorithm"></a>Data Mining Algorithm</h1><p>In this section, we will use <code>SVM</code>, <code>decision tree</code> and <code>RNN</code> algorithms to achieve classification. The embedding obtained by <code>BOW</code> and <code>TF-IDF</code> will be classified by SVM and decision tree algorithms, respectively, while the embedding obtained by Word2Vec will be classified by RNN.</p>
<p>The embedding obtained from Word2Vec will be classified using RNN. The detailed algorithm flow is as follows.</p>
<center><img src="/eysblog_en/imgsource/covid-figure-10.png" alt="" width="80%"/></center>

<h2 id="BOW-SVM"><a href="#BOW-SVM" class="headerlink" title="BOW + SVM"></a><code>BOW</code> + <code>SVM</code></h2><p>The 35596-dimensional embedding of the Weibo posts obtained by <code>BOW</code> is used as the input of the <code>SVM</code> in the <code>sklearn</code> package.<br>The parameters are as follows.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">clf = svm.SVC(C=<span class="number">0.8</span>, kernel=<span class="string">&#x27;rbf&#x27;</span>, gamma=<span class="number">20</span>, decision_function_shape=<span class="string">&#x27;ovr&#x27;</span>)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler </span><br><span class="line">scale = StandardScaler() </span><br><span class="line">scale_fit = scale.fit(x_cv) </span><br><span class="line"><span class="comment">#x = scale_fit.transform(x) </span></span><br><span class="line">lentrain = <span class="built_in">int</span>((<span class="number">10000</span>-<span class="number">30</span>)*<span class="number">0.7</span>) </span><br><span class="line">lentest = <span class="built_in">int</span>((<span class="number">10000</span>-<span class="number">30</span>)*<span class="number">0.3</span>)</span><br><span class="line"></span><br><span class="line">x_train_cv = scale_fit.transform(x_cv[:lentrain]) </span><br><span class="line">y_train = y[:lentrain] </span><br><span class="line">x_test_cv = scale_fit.transform(x_cv[(-<span class="number">1</span>)*lentest-<span class="number">1</span>:-<span class="number">1</span>]) </span><br><span class="line">y_test = y[(-<span class="number">1</span>)*lentest-<span class="number">1</span>:-<span class="number">1</span>] </span><br><span class="line"><span class="built_in">print</span>(x_train_cv.shape) </span><br><span class="line"><span class="built_in">print</span>(y_train.shape) </span><br><span class="line"><span class="built_in">print</span>(x_test_cv.shape)</span><br><span class="line"><span class="built_in">print</span>(y_test.shape)</span><br></pre></td></tr></table></figure>
<p><strong>TIPS:</strong></p>
<ul>
<li><code>SVM</code> and <code>Decision Tree</code> algorithms for 10,000 of 30,000-dimensional data can take a lot of time, and sklearn does not support GPU computing.</li>
<li>When you encounter a very large dataset, you should first use a small demo to check the correctness of the code, and then run a large demo with a large amount of data.</li>
<li><code>BOW</code> and <code>TF-IDF</code> should be used first before dividing the test and training sets, otherwise the test and training sets will not have the same dimensionality! It took a lot of time to fix this error.</li>
<li>Due to the excessive number of dimensions, remember to normalize the data before <code>SVM</code>.</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># prepare the data</span></span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> StandardScaler</span><br><span class="line">scale = StandardScaler()</span><br><span class="line">scale_fit = scale.fit(x_cv)</span><br><span class="line"><span class="comment">#x = scale_fit.transform(x)</span></span><br><span class="line">lentrain = <span class="built_in">int</span>((<span class="number">10000</span>-<span class="number">30</span>)*<span class="number">0.7</span>)</span><br><span class="line">lentest = <span class="built_in">int</span>((<span class="number">10000</span>-<span class="number">30</span>)*<span class="number">0.3</span>)</span><br><span class="line"></span><br><span class="line">x_train_cv = scale_fit.transform(x_cv[:lentrain])</span><br><span class="line">y_train = y[:lentrain]</span><br><span class="line">x_test_cv = scale_fit.transform(x_cv[(-<span class="number">1</span>)*lentest-<span class="number">1</span>:-<span class="number">1</span>])</span><br><span class="line">y_test = y[(-<span class="number">1</span>)*lentest-<span class="number">1</span>:-<span class="number">1</span>]</span><br><span class="line"><span class="built_in">print</span>(x_train_cv.shape)</span><br><span class="line"><span class="built_in">print</span>(y_train.shape)</span><br><span class="line"><span class="built_in">print</span>(x_test_cv.shape)</span><br><span class="line"><span class="built_in">print</span>(y_test.shape)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#test bow+svm</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> svm</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(x_train_cv.shape, <span class="string">&#x27;and &#x27;</span>, y_train.shape)</span><br><span class="line">clf = svm.SVC(C=<span class="number">0.8</span>, kernel=<span class="string">&#x27;rbf&#x27;</span>, gamma=<span class="number">20</span>, decision_function_shape=<span class="string">&#x27;ovr&#x27;</span>)</span><br><span class="line">cv_model = clf.fit(x_train_cv, y_train)</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> precision_score, recall_score, f1_score, accuracy_score</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Precision_score: &#x27;</span>, precision_score(y_hat_cv, y_test, average=<span class="string">&#x27;weighted&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Recall_score: &#x27;</span>, recall_score(y_hat_cv, y_test, average=<span class="string">&#x27;weighted&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;F1_score: &#x27;</span>, f1_score(y_hat_cv, y_test, average=<span class="string">&#x27;weighted&#x27;</span>))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;Accuracy_score: &#x27;</span>, accuracy_score(y_hat_cv, y_test))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># roc_curve:çœŸæ­£ç‡ï¼ˆTrue Positive Rate , TPRï¼‰æˆ–çµæ•åº¦ï¼ˆsensitivityï¼‰</span></span><br><span class="line"><span class="comment"># æ¨ªåæ ‡ï¼šå‡æ­£ç‡ï¼ˆFalse Positive Rate , FPRï¼‰</span></span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> interp</span><br><span class="line"><span class="keyword">from</span> sklearn.preprocessing <span class="keyword">import</span> label_binarize</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> cycle</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics <span class="keyword">import</span> roc_curve, auc</span><br><span class="line"></span><br><span class="line">nb_classes = <span class="number">3</span></span><br><span class="line"><span class="comment"># Binarize the output</span></span><br><span class="line">Y_valid = label_binarize(y_test, classes=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nb_classes)])</span><br><span class="line">Y_pred = label_binarize(y_hat_cv, classes=[i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nb_classes)])</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line"><span class="comment"># Compute ROC curve and ROC area for each class</span></span><br><span class="line">fpr = <span class="built_in">dict</span>()</span><br><span class="line">tpr = <span class="built_in">dict</span>()</span><br><span class="line">roc_auc = <span class="built_in">dict</span>()</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nb_classes):</span><br><span class="line">    fpr[i], tpr[i], _ = roc_curve(Y_valid[:, i], Y_pred[:, i])</span><br><span class="line">    roc_auc[i] = auc(fpr[i], tpr[i])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Compute micro-average ROC curve and ROC area</span></span><br><span class="line">fpr[<span class="string">&quot;micro&quot;</span>], tpr[<span class="string">&quot;micro&quot;</span>], _ = roc_curve(Y_valid.ravel(), Y_pred.ravel())</span><br><span class="line">roc_auc[<span class="string">&quot;micro&quot;</span>] = auc(fpr[<span class="string">&quot;micro&quot;</span>], tpr[<span class="string">&quot;micro&quot;</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Compute macro-average ROC curve and ROC area</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># First aggregate all false positive rates</span></span><br><span class="line">all_fpr = np.unique(np.concatenate([fpr[i] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nb_classes)]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Then interpolate all ROC curves at this points</span></span><br><span class="line">mean_tpr = np.zeros_like(all_fpr)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(nb_classes):</span><br><span class="line">    mean_tpr += interp(all_fpr, fpr[i], tpr[i])</span><br><span class="line"></span><br><span class="line"><span class="comment"># Finally average it and compute AUC</span></span><br><span class="line">mean_tpr /= nb_classes</span><br><span class="line"></span><br><span class="line">fpr[<span class="string">&quot;macro&quot;</span>] = all_fpr</span><br><span class="line">tpr[<span class="string">&quot;macro&quot;</span>] = mean_tpr</span><br><span class="line">roc_auc[<span class="string">&quot;macro&quot;</span>] = auc(fpr[<span class="string">&quot;macro&quot;</span>], tpr[<span class="string">&quot;macro&quot;</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Plot all ROC curves</span></span><br><span class="line">lw = <span class="number">2</span></span><br><span class="line">plt.figure()</span><br><span class="line">plt.plot(fpr[<span class="string">&quot;micro&quot;</span>], tpr[<span class="string">&quot;micro&quot;</span>],</span><br><span class="line">         label=<span class="string">&#x27;micro-average ROC curve (area = &#123;0:0.2f&#125;)&#x27;</span></span><br><span class="line">               <span class="string">&#x27;&#x27;</span>.<span class="built_in">format</span>(roc_auc[<span class="string">&quot;micro&quot;</span>]),</span><br><span class="line">         color=<span class="string">&#x27;deeppink&#x27;</span>, linestyle=<span class="string">&#x27;:&#x27;</span>, linewidth=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">plt.plot(fpr[<span class="string">&quot;macro&quot;</span>], tpr[<span class="string">&quot;macro&quot;</span>],</span><br><span class="line">         label=<span class="string">&#x27;macro-average ROC curve (area = &#123;0:0.2f&#125;)&#x27;</span></span><br><span class="line">               <span class="string">&#x27;&#x27;</span>.<span class="built_in">format</span>(roc_auc[<span class="string">&quot;macro&quot;</span>]),</span><br><span class="line">         color=<span class="string">&#x27;navy&#x27;</span>, linestyle=<span class="string">&#x27;:&#x27;</span>, linewidth=<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">colors = cycle([<span class="string">&#x27;aqua&#x27;</span>, <span class="string">&#x27;darkorange&#x27;</span>, <span class="string">&#x27;cornflowerblue&#x27;</span>])</span><br><span class="line"><span class="keyword">for</span> i, color <span class="keyword">in</span> <span class="built_in">zip</span>(<span class="built_in">range</span>(nb_classes), colors):</span><br><span class="line">    plt.plot(fpr[i], tpr[i], color=color, lw=lw,</span><br><span class="line">             label=<span class="string">&#x27;ROC curve of class &#123;0&#125; (area = &#123;1:0.2f&#125;)&#x27;</span></span><br><span class="line">             <span class="string">&#x27;&#x27;</span>.<span class="built_in">format</span>(i, roc_auc[i]))</span><br><span class="line"></span><br><span class="line">plt.plot([<span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">1</span>], <span class="string">&#x27;k--&#x27;</span>, lw=lw)</span><br><span class="line">plt.xlim([<span class="number">0.0</span>, <span class="number">1.0</span>])</span><br><span class="line">plt.ylim([<span class="number">0.0</span>, <span class="number">1.05</span>])</span><br><span class="line">plt.xlabel(<span class="string">&#x27;False Positive Rate&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;True Positive Rate&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;Some extension of Receiver operating characteristic to multi-class&#x27;</span>)</span><br><span class="line">plt.legend(loc=<span class="string">&quot;lower right&quot;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<p>Hereâ€™s the result:</p>
<center><img src="/eysblog_en/imgsource/covid-figure-11.png" alt="" width="80%"/></center>

<center><img src="/eysblog_en/imgsource/covid-figure-12.png" alt="" width="80%"/></center>

<p>The reason for the coincidence of the ROC curve and the X-axis is that most of the predictions are zero. The reasons are as follows: </p>
<ol>
<li>The two embedding methods, <code>BOW</code> and <code>TF-IDF</code>, do not work well as <code>SVM</code>, and even after normalizing the input word (frequency) vector matrix, most of the predictions are still the same. </li>
<li>The number of â€œneutralâ€ labels in the sample is much higher than the number of â€œpositiveâ€ and â€œnegativeâ€ labels, which is also a problem in the sample selection process.</li>
<li>The parameters of <code>SVM</code> can be adjusted more precisely to make the classification better.</li>
</ol>
<p>Instead of further tuning this model, we tried other algorithms first.</p>
<h2 id="TF-IDF-SVM"><a href="#TF-IDF-SVM" class="headerlink" title="TF-IDF+SVM"></a><code>TF-IDF</code>+<code>SVM</code></h2><p>The 38473-dimensional embedding of the <code>TF-IDF</code> derived posts is used as the input to the <code>SVM</code> in the sklearn package.</p>
<p>The source code is similar to the model above, so I will not repeat it here. The results are shown below.</p>
<center><img src="/eysblog_en/imgsource/covid-figure-13.png" alt="" width="80%"/></center>

<p>The parameters are as follows.<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">clf = svm.SVC(C=<span class="number">0.8</span>, kernel=<span class="string">&#x27;rbf&#x27;</span>, gamma=<span class="number">20</span>, decision_function_shape=<span class="string">&#x27;ovr&#x27;</span>)</span><br></pre></td></tr></table></figure></p>
<h2 id="BOW-Decision-Tree-amp-amp-TF-IDF-Decision-Tree"><a href="#BOW-Decision-Tree-amp-amp-TF-IDF-Decision-Tree" class="headerlink" title="BOW + Decision Tree &amp;&amp; TF-IDF + Decision Tree"></a><code>BOW</code> + <code>Decision Tree</code> &amp;&amp; <code>TF-IDF</code> + <code>Decision Tree</code></h2><p>The source code is similar to the model above, so I will not repeat it here.</p>
<p>Hereâ€™s the result for <code>BOW</code> + <code>Decision Tree</code>.</p>
<center><img src="/eysblog_en/imgsource/covid-figure-14.png" alt="" width="80%"/></center>

<p>Hereâ€™s the result for <code>TF-IDF</code> + <code>Decision Tree</code></p>
<center><img src="/eysblog_en/imgsource/covid-figure-15.png" alt="" width="80%"/></center>

<h2 id="Word2Vec-RNN"><a href="#Word2Vec-RNN" class="headerlink" title="Word2Vec + RNN"></a><code>Word2Vec</code> + <code>RNN</code></h2><p>Embedding Weibo content using Word2Vec, then the resulting 400-dimensional vector is fed into a 10<em>200</em>1 recurrent neural grid with one hidden layer.</p>
<p>Parameters:<br><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">batch_size = <span class="number">100</span> </span><br><span class="line">n_iters = <span class="number">20000</span> </span><br><span class="line">seq_dim = <span class="number">20</span> </span><br><span class="line">input_dim = <span class="number">20</span> <span class="comment"># input dimension</span></span><br><span class="line">hidden_dim = <span class="number">200</span> <span class="comment"># hidden layer dimension </span></span><br><span class="line">layer_dim = <span class="number">1</span> <span class="comment"># number of hidden layers</span></span><br><span class="line">output_dim = <span class="number">3</span> <span class="comment"># output dimension</span></span><br></pre></td></tr></table></figure></p>
<p>So far we have obtained the embedding of all words, the key problem is how to represent the sentences. I referred to the information below and chose to try it with <code>word2vec</code> using Gensim.</p>
<p>ref1: <a href="https://www.zhihu.com/question/29978268">https://www.zhihu.com/question/29978268</a></p>
<p>ref2: <a href="https://blog.csdn.net/John_xyz/article/details/79424284">https://blog.csdn.net/John_xyz/article/details/79424284</a></p>
<p>ref3: <a href="https://www.kaggle.com/kanncaa1/recurrent-neural-network-with-pytorch">https://www.kaggle.com/kanncaa1/recurrent-neural-network-with-pytorch</a></p>
<p>At the first time we try, there is exploding gradient.</p>
<center><img src="/eysblog_en/imgsource/covid-figure-16.png" alt="" width="80%"/></center>

<p>After adjusting the learning rate to 0.03, the results after 60,000 generations of training are shown below.</p>
<center><img src="/eysblog_en/imgsource/covid-figure-17.png" alt="" width="80%"/></center>

<center><img src="/eysblog_en/imgsource/covid-figure-18.png" alt="" width="80%"/></center>

<p>After adjusting hidden layers, the results after 20,000 generations are shown below.</p>
<center><img src="/eysblog_en/imgsource/covid-figure-19.png" alt="" width="80%"/></center>

<center><img src="/eysblog_en/imgsource/covid-figure-20.png" alt="" width="80%"/></center>

<h1 id="Analysis-of-Results"><a href="#Analysis-of-Results" class="headerlink" title="Analysis of Results"></a>Analysis of Results</h1><p>This is a triple classification problem on the emotion of NLP. The results are shown as follow.</p>
<center><img src="/eysblog_en/imgsource/covid-figure-21.png" alt="" width="80%"/></center>

<p>As can be seen from the above graphs, the <code>SVM</code> and <code>Decision Tree</code> algorithms have very little impact on the actual results, and the most important factor affecting the prediction results is the Embedding method. In this dataset, <code>TF-IDF</code> is more effective than <code>BOW</code>. In the end, the results of <code>TF-IDF</code>+<code>SVM</code>, <code>TF-IDF</code>+<code>Decision Tree</code> and <code>Word2Vec</code>+<code>RNN</code> are similar. The reasons for this result are as follows: </p>
<ol>
<li>The original dataset is not evenly distributed, and there are more â€œneutralâ€ comments than â€œpositiveâ€ and â€œnegativeâ€ posts, so in the predictive classification process, most of the postss are not evenly distributed. The majority of posts tend to be classified as â€œneutralâ€ in the prediction classification process, which is of course consistent with the actual situation. This is why the Embedding method has a greater impact on the results than the classification method.</li>
<li>The dataset is not large enough. I thought that a data set of about 10,000 would take a lot of training time, but Kaggle can use GPUs and the CPU speed of Kaggle is not slow, so I could have done it directly with the original data set of 10W, and the result would be better.</li>
<li>Parameter optimization. It is only fair to use the optimal parameters of each model for comparison of results.</li>
</ol>
]]></content>
      <categories>
        <category>NLP (Natural Language Processing)</category>
      </categories>
  </entry>
  <entry>
    <title>[MCM 2020] Data Analysis for Sunshine Company&#39;s New Product</title>
    <url>/202003/2020-03-10-MCM-Grocery/</url>
    <content><![CDATA[<p>This is my second time for MCM &amp; ICM. I teamed up with two friends respectively from computer science major and electronic information major. This is how we divide the work: one of my friends collecting information and the other writing the essay. I was responsible for modeling and coding. We finally got <strong>Meritorious Winner(Top 5%)</strong>. Iâ€™m so proud of it. This is our entry experience.</p>
<h1 id="Topic-amp-Dataset"><a href="#Topic-amp-Dataset" class="headerlink" title="Topic &amp; Dataset"></a>Topic &amp; Dataset</h1><blockquote>
<p>In the online marketplace it created, Amazon provides customers with an opportunity to rate and review purchases. Individual ratings - called â€œstar ratingsâ€ - allow purchasers to express their level of satisfaction with a product using a scale of 1 (low rated, low satisfaction) to 5 (highly rated, high satisfaction). Additionally, customers can submit text-based messages - called â€œreviewsâ€ - that express further opinions and information about the product. Other customers can submit ratings on these reviews as being helpful or not - called a â€œhelpfulness ratingâ€ - towards assisting their own product purchasing decision. Companies use these data to gain insights into the markets in which they participate, the timing of that participation, and the potential success of product design feature choices.</p>
<p>Sunshine Company is planning to introduce and sell three new products in the online marketplace: a microwave oven, a baby pacifier, and a hair dryer. They have hired your team as consultants to identify key patterns, relationships, measures, and parameters in past customer-supplied ratings and reviews associated with other competing products to 1) inform their online sales strategy and 2) identify potentially important design features that would enhance product desirability. Sunshine Company has used data to inform sales strategies in the past, but they have not previously used this particular combination and type of data. Of particular interest to Sunshine Companyare time-based patterns in these data, and whether they interact in ways that will help the company craft successful products.</p>
<p>To assist you, Sunshineâ€™s data center has provided you with three data files for this project: hair_dryer.tsv, microwave.tsv, and pacifier.tsv. These data represent customer-supplied ratings and reviews for microwave ovens, baby pacifiers, and hair dryers sold in the Amazon marketplace over the time period(s) indicated in the data. A glossary of data label definitions is provided as well. </p>
</blockquote>
<p>The three data sets provided contain product user ratings and reviews extracted from the Amazon Customer Reviews Dataset thru Amazon Simple Storage Service (Amazon S3).</p>
<ul>
<li><code>hair_dryer.tsv</code></li>
<li><code>microwave.tsv</code></li>
<li><code>pacifier.tsv</code></li>
</ul>
<p>Data Set Definitions: Each row represents data partitioned into the following columns.</p>
<pre><code>- marketplace (string): 2 letter country code of the marketplace where the review was written.
- customer_id (string): Random identifier that can be used to aggregate reviews written by a single author.
- review_id (string): The unique ID of the review.
- product_id (string): The unique Product ID the review pertains to.
- product_parent (string): Random identifier that can be used to aggregate reviews for the same product.
- product_title (string): Title of the product.
- product_category (string): The major consumer category for the product.
- star_rating (int): The 1-5 star rating of the review.
- helpful_votes (int): Number of helpful votes.
- total_votes (int): Number of total votes the review received.
- vine (string): Customers are invited to become Amazon Vine Voices based on the trust that they have earned in the Amazon community for writing accurate and insightful reviews. Amazon provides Amazon Vine members with free copies of products that have been submitted to the program by vendors. Amazon doesn&#39;t influence the opinions of Amazon Vine members, nor do they modify or edit reviews.
- verified_purchase (string): A &quot;Y&quot; indicates Amazon verified that the person writing the review purchased the product at - Amazon and didn&#39;t receive the product at a deep discount.
- review_headline (string): The title of the review.
- review_body (string): The review text.
- review_date (bigint): The date the review was written.
</code></pre><h1 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h1><p>Through data mining and modeling, we analyze the three types of products and provide a marketing strategy for Sunshine Company.</p>
<p>First of all, we preprocess the data. We fully analyze the 15 attributes in microwaves, pacifiers and hair dryers, filter them and syntheze three new attributes: review_text, popularity and reputation. We deal with missing values in the data set and remove those meaningless reviews. Through the Tokenization algorithm, we cut the sentence of the review headline and the review body into single words, which is convenient for us to analyze the emotion of the user and understand the relationship between reviews and star ratings. </p>
<p>Furthermore, we use the TF-IDF(Term FrequencyInverse Document Frequency) algorithm and MLP(Multi-layer Perceptron) to build a model and try to discover the relationship between reviews and star ratings. We use reviews to evaluate the products and use helpful votes to evaluate reviews, through this way we build a multidimension evaluation system. The TF-IDF algorithm uses the segmented words to generate a word frequency matrix, which is used as the input of the MLP. And the productsâ€™ star ratings are used as the output. We build models for the three types of products respectively, for the reviews of the three types of products have some differences, which may affect the accuracy of the results. The data set is divided into training set and test set. When the model training is completed, the effect of the model is tested with the test set. After the practice, our prediction is very similar to the ground truth. Then we get the relationship between star ratings and reviews. The traditional MLP model has poor interpretability, so we continue to do lexical analysis and syntax analysis on this basis, which enhances the interpretability of the whole model.</p>
<p>Eventually , we analyze the time-based popularity changes of the product, and make marketing suggestions to the Sunshine Company from the customerâ€™s perspective. Through analysis, we found that the productsâ€™ popularity always reach the highest at the beginning and middle of each year, so the company could make promotional activities at that time to raise their profile. In this way, we found the relationship between period and popularity. From the perspective of customers, we observe that those users who score 5 stars or 1 star often quite emotional when giving reviews. We recommend three types of the most valuable users and select their reviews for the sunshine company. They are AmazonVine Voices Members, users who have purchased multiple similar products and users who have given one-star rate to the product. By analyzing the WordCloud of reviews of those who have given one-star rates, we can know how to improve the products.</p>
<h1 id="Preparation-for-the-modeling"><a href="#Preparation-for-the-modeling" class="headerlink" title="Preparation for the modeling"></a>Preparation for the modeling</h1><p>For the data mining problems that have large quantity and types of data, there are often a large number of default values, which may affect the efficiency and accuracy of the model. Therefore, the processing of these default values is of vital importance. In addition, in this data set, there is a large amount of text information in attributes such as prouct_title, and review_headline. Thus our team choose the tokenization algorithm to classify and organize the text information.</p>
<h2 id="Default-Value-Preprocessing"><a href="#Default-Value-Preprocessing" class="headerlink" title="Default Value Preprocessing"></a>Default Value Preprocessing</h2><p>Through our analysis, in all of the given data sets, only the review_headline and review_body attributes are default. The Amazon website stipulates that when a review is submitted, its star_rating, review_headline and review_body must be filled in, otherwise the review cannot be submitted. so the lack of data is not caused by user behavior, but created during the collection, transmission or storage of these reviews. Therefore the â€œdefaultâ€ here doesnt contain customers opinions towards the product.<br>In this case our team deal with the default records in this way.</p>
<ul>
<li>When only one of the review_headline or review_body is default, we will keep this data. Because it still contains a large amount of information;</li>
<li>When both of the review_headline and review_body are default, We will abandon this data. Because review is an essential part of our following analysis, in this case when both of them are default, this data is of little significance for data<br>mining.</li>
</ul>
<h2 id="Tokenization"><a href="#Tokenization" class="headerlink" title="Tokenization"></a>Tokenization</h2><p>The main goal of Tokenization is to normalize our texts, that is, to process a paragraph of text into short, non-redundant text information. Our tokenization process<br>includes the following steps:</p>
<p>a. Lowercase the values.<br>Because the text_market, product_title and other text attributes have a kind of phenomenon that some values with the same meaning have different capitalization. For example, the marketplace attribute contains â€™USâ€™ and â€™usâ€™, which is not convenient for our subsequent classification of products. Therefore we convert all text to lower<br>case.<br>b. Break the sentences into token<br>c. Remove punctuation and stop words<br>In computing, stop words are words which are filtered out before or after processing of natural language data (text).</p>
<p>We give an example in Figure 1.</p>
<center><img src="/eysblog_en/imgsource/mcm2020-figure-1.png" alt="" width="100%"/>
<p><font size=3 color="black">Figure 1: An example about Tokenization in Microwave Product Data Set</font></p></center>

<h2 id="Data-Selection-and-Synthesis"><a href="#Data-Selection-and-Synthesis" class="headerlink" title="Data Selection and Synthesis"></a>Data Selection and Synthesis</h2><p>In these 15 attributes that come from the provided data sets, some of them are not valuable. So we need to select the relatively more essential attributes. For the marketplace attribute, all evaluations in the dataset are from the US, so there is no reason to do data mining on this attribute, similarly in product_cetegory. Review_id is only used to distinguish different reviews, so we delete their corresponding data as well.</p>
<p>Before introducing product_id and product_parent, we need to learn more about parent-child relationships. </p>
<p>Each parent product may contain multiple child products, and each child parents may be different in sizes, colors, or prices. Each parent product corresponds to a product_parent, and each child product corresponds to a product_id. In the following data analysis, we mainly analyze the parent product and inspect these three types of products from a macro level. Take the microwave as an example, the parent-child product relationship as shown below. </p>
<p>In Figure 2 , we can find the four child products have different product_ids and they may have different sizes, colors or prices. However, they have the same product_parent. Please notice that we donâ€™t know the specific information about these four child products.Their colors and sizes in Figure 2 are just for example. </p>
<p>We choose these following basic attributes in Table 1 to create the Customer Profile. Additionally, some synthetic variables are used in our model. These variables are described in Table 2.</p>
<center><img src="/eysblog_en/imgsource/mcm2020-figure-2.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 2: The Parent-Child Relationship in Microwave Products</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-table-1.png" alt="" width="100%"/></center>

<center><img src="/eysblog_en/imgsource/mcm2020-table-2.png" alt="" width="100%"/></center>
<br />

# Competing Products Analysis

First we visualize the data sets to show the profiles of the three products. The number of reviews and parent products are shown in Table 3. 

Here is the products profile of microwave, the other two products are attached to the appendix. Figure 3 shows the star ratings and the number of reviews of every parent products. The horizontal axis reprensents the product titles. 

For Microwaves, we select the product that has the most reviews - "Danby 0.7 cu.ft. Countertop Microwave" to analyze its reviews. Before we create the wordcloud of review_text, we take stemming operations. Stemming is the process of reducing inflected (or sometimes derived) words to their word stem, base or root formgenerally a written word form. 

In Figure 5, High frequency words has bigger font size. In Figure 6, horizontal axis represents the review headline. 

In addition to the above analysis from the perspective of the product itself, we also try to delete the click farmers or construct Customer Profile from the userâ€™s perspective. Through the Customer Profile, we can have a better understanding toward the interests of the target users, and thus we could provide better product services.

We observe that a large number of users have bought more than one products. So we check out several reviews and found that many of them are click farmers, and their invalid reviews cannot be checked out through the helpful_votes, so eventually we manually deleted these reviews. For others who have really bought many products, we think their opinions are as valuable as those of Amazon Vine Voices Members. Therefore we filtered out 53 reviews from 9 users who have purchased more than 5 products and sent these comments to Sunshine Company for their reference. These 9 user comments are detailed in the appendix.

<center><img src="/eysblog_en/imgsource/mcm2020-table-3.png" alt="" width="100%"/></center>
<br />

<center><img src="/eysblog_en/imgsource/mcm2020-figure-3.png" alt="" width="80%"/>
<p><font size=3 color="black">Figure 3: The Star Ratings and the Number of Reviews of Microwave</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-4.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 4: The proportion of People Who Were in Amazon Vine and People Who Had Bought the Product</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-5.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 5: The Wordcloud of Microwave</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-6.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 6: The Reviews' Total Votes and Helpful Votes of Danby 0.7 cu.ft. Countertop Microwave</font></p></center>

<h1 id="Model-Construction"><a href="#Model-Construction" class="headerlink" title="Model Construction"></a>Model Construction</h1><p>In the previous data preprocessing, we have processed a series of reviews_text through the Tokenization algorithm. Next, we will process the data through the TF-IDF (Term FrequencyInverse Document Frequency) algorithm and the MLP (Multi-Layer Perception) model to get the relationship between star_rating and review. </p>
<p>The keywords in different product reviews are quite different and will affect each other, so we build three prediction models for the products: microwave, pacifier, and hair dryer. We first use the TF-IDF algorithm to obtain the term frequency matrix. TF-IDF is a commonly used weighting technique for information retrieval and data mining. The algorithm can simply and efficiently find keywords in articles.</p>
<h2 id="Compute-the-TF-IDF-Matrix"><a href="#Compute-the-TF-IDF-Matrix" class="headerlink" title="Compute the TF-IDF Matrix"></a>Compute the TF-IDF Matrix</h2><p>TF-IDF consists of two parts, one is â€œTerm Frequencyâ€ (abbreviated as TF), and the other is â€œInverse Document Frequencyâ€ (abbreviated as IDF). </p>
<p>TF part will create a Term Frequency Matrix. We use the review_text in Figure 1 to<br>illustrate the process. The procession is shown in Figure 7.</p>
<center><img src="/eysblog_en/imgsource/mcm2020-figure-7.png" alt="" width="80%"/>
<p><font size=3 color="black">Figure 7: TF Procession</font></p></center>

<script type="math/tex; mode=display">
f_i=\frac{c_i}{\sum^s_{i=1}c_i}
\tag{1}</script><p>In Equation 1, \(f_i\) is the frequency of the \(i\)th word. \(c_i\) is the occurrence number in a review_text of the ith word. s is the amount of words in the review_text. we find out that in Figure 7 the word frequencies of â€™lookâ€™, â€™goodâ€™ and â€™longâ€™ are the highest. However, this does not mean these three words are equally important in the analysis process. We need to multiply this word frequency matrix by IDF (Inverse Document Frequency) to get the TF-IDF values of these words.</p>
<p>In Equation 2, \(d_i\) is the IDF value of the ith word. \(m\) is total number of articles in Corpus. \(n_i\) is the number of articles containing the ith word in Corpus. \(v_i\) is the TF-IDF value of the \(i\)th word.</p>
<script type="math/tex; mode=display">
d_i=log \left( \frac{m}{n_i+1} \right)
\tag{2}</script><script type="math/tex; mode=display">
v_i=f_i*d_i
\tag{3}</script><p>We give Figure 8 as an example for the TF-IDF values. After that, we will construct the TF-IDF matrix of the review based on the TF-IDF values of these words corresponding dictionaries. It is worth mentioning that we apply helpful<em>votes as a reference to the TF-IDF matrix. In Equation 4, \(M\) is the TF-IDF matrix for the product. The \(k\)th reviewâ€™s \(i\)th wordâ€™s TF-IDF value is \(v</em>{ki}\).</p>
<script type="math/tex; mode=display">
M_{ki}=v_{ki}
\tag{4}</script><center><img src="/eysblog_en/imgsource/mcm2020-figure-8.png" alt="" width="80%"/>
<p><font size=3 color="black">Figure 8: TF-IDF Values</font></p></center>

<h2 id="Contrust-the-MLP-Model"><a href="#Contrust-the-MLP-Model" class="headerlink" title="Contrust the MLP Model"></a>Contrust the MLP Model</h2><p>We divide three data sets into training sets and test sets by a ratio of 3:1 respectively. Then we use the input and output of the training set to train MLP(Multi-Layer Perception). The core formulas of the MLP are show below.</p>
<p>Multi-Layer Perception made up of a lot of artificial neurons. The artificial neuron uses a nonlinear activation function to output an activity value.The training process of MLP can be divided into the following three steps:</p>
<ol>
<li>Calculate the state and activation value of each layer, until the last layer;</li>
<li>Calculate the error of each layer by backward propagation;</li>
<li>Calculate the partial derivative of each layerâ€™s parameters, and update the parameters.</li>
</ol>
<p>Suppose neurons accept our TF-IDF Matrix \(X = (x1, x2, . . . , xn)\). State \(z\) is used to represent the weighted sum of input signal \(x\) obtained by a neuron, and the output is the activity value a of the neuron, which is defined as follows:</p>
<script type="math/tex; mode=display">
z=W^TX+b
\tag{5}</script><script type="math/tex; mode=display">
a=f(z)
\tag{6}</script><script type="math/tex; mode=display">
z^{(l)}=W^{(l)} \cdot f_{l}\left(z^{(l-1)}\right)+b^{(l)}
\tag{7}</script><p>In the process of forward propagation, we use notations as folloowing Table 4.</p>
<center><img src="/eysblog_en/imgsource/mcm2020-table-4.png" alt="" width="100%"/></center>
<br />

$$
X=a^{(0)} \rightarrow z^{(1)} \rightarrow a^{(1)} \rightarrow z^{(2)} \rightarrow \cdots \rightarrow a^{(L-1)} \rightarrow z^{(L)} \rightarrow a^{(L)}=y
\tag{8}
$$

In the process of back propagation, given a set of samples \\((X(i), y(i)), 1 â‰¤ i â‰¤ N\\), the output of feedforward neural network whose objective function is \\(f(X(i)|W, b)\\) is as follows.

$$
\begin{aligned}
J(W, b) &=\sum_{i=1}^{N} L\left(y^{(i)}, f\left(X^{(i)} \mid W, b\right)\right)+\frac{1}{2} \lambda\|W\|_{F}^{2} \\
&=\sum_{i=1}^{N} J\left(W, b ; X(i), y^{(i)}\right)+\frac{1}{2} \lambda\|W\|_{F}^{2}
\end{aligned}
\tag{9}
$$

$$
\|W\|_{F}^{2}=\sum_{l=1}^{L} \sum_{j=1}^{n^{l+1}} \sum_{1=1}^{n^{l}} W_{i j}^{(l)}
\tag{10}
$$

We use gradient descent to minimize the Equation 9, finally we get \\(l\\)th layer's error in Equation 11.

$$
\begin{aligned}
\delta^{(l)} & \triangleq \frac{J(W, b ; X, y)}{\partial z^{(l)}} \\
&=\frac{\partial a^{(l)}}{\partial z^{(l)}} \cdot \frac{\partial z^{(l+1)}}{\partial a^{(l)}} \cdot \frac{J(W, b ; X, y)}{\partial z^{(l+1)}} \\
&=\operatorname{diag}\left(f_{l}\left(z^{(l)}\right)\right) \cdot\left(W^{(l+1)}\right)^{T} \cdot \delta^{(l+1)} \\
&=f_{l}\left(z^{(l)}\right) \odot\left(\left(W^{(l+1)}\right)^{T} \delta^{(l+1)}\right)
\end{aligned}
\tag{11}
$$

Then we continue to iterate and get an error-stable model. Finally, we use the trained model to predict the test data. We set the fitting figure of Microwave in three products as Figure 9.

<center><img src="/eysblog_en/imgsource/mcm2020-figure-9.png" alt="" width="80%"/>
<p><font size=3 color="black">Figure 9: The fitting Figure of Hair Dryer</font></p></center>

<h2 id="Time-Based-Analysis"><a href="#Time-Based-Analysis" class="headerlink" title="Time-Based Analysis"></a>Time-Based Analysis</h2><p>Product reputation is composed of star rating and popularity. Product quality is the determing factor of star rating and review content. We will analyze popularity based on time to provide suggestions for sunshine company.</p>
<p>We analyze the 8 products with the highest popularity, and observed their popularity changes over time. It can be seen from the Figure 10 that five of the eight products have peak popularity only at the beginning of each year, and the other three products will have peak popularity at the beginning and middle of each year. There are three reasons for this:</p>
<p>a. At the beginning of the year, itâ€™s just the time for people to purchase in the new year. Peopleâ€™s desire for shopping is strong, while microwave, pacifier and hair dryer are durable products, which can be used for a long time. No one will buy twice in a short time.</p>
<p>b. Amazon or merchants have promotional activities at the beginning of the year to improve product popularity.</p>
<p>c. The data retrieving process is not objective, we only get the data at a certain period.</p>
<center><img src="/eysblog_en/imgsource/mcm2020-figure-10.png" alt="" width="80%"/>
<p><font size=3 color="black">Figure 10: The Number of Reviews of the 10 Most Popularity Products</font></p></center>

<p>A products reputation consists the productâ€™s praise and popularity, and the decisive factor that influences a products star ratings and the content of its reviews is its quality. In the following discussion we will offer a proposal for Sunshine Company from the perspective of the products popularity. </p>
<p>We analyze the top eight popular products and observe their popularity changes over time. To our surprise, 5 of these 8 products have popularity peaks only at the beginning of each year, and the remaining three products have popularity peaks at the beginning and middle of the year. There why This phenomenon happens are as follows:</p>
<ol>
<li>In the beginning of the year, everyone is buying goods for the coming of new year. So peopleâ€™s desire for shopping is strong. On the other hand, the microwave, pacifier and hair dryer are all durable commodities, which can be used for a long time. So there will be no repurchase in a short time. Therefore, there will be peaks of popularity in only particular times.</li>
<li>Amazon or sellers have promotional campaign at the beginning of the year in order to increase the products popularity.</li>
<li>The data collection process is not objective. Only data of the beginning and middle of the year were collected.</li>
</ol>
<h1 id="Sales-Strategy"><a href="#Sales-Strategy" class="headerlink" title="Sales Strategy"></a>Sales Strategy</h1><p>Our goal is to allow Sunshine Company to expand market influence, continuously improve products and win a good corporate reputation among the public. We will make recommendations for Sunshine Company from two perspectives: How to Enhance the Reputation and How to Improve the Product.</p>
<h2 id="How-to-Enhance-the-Reputation"><a href="#How-to-Enhance-the-Reputation" class="headerlink" title="How to Enhance the Reputation"></a>How to Enhance the Reputation</h2><p>Reputation consists of two parts: popularity and star rating. First of all, from the perspective of popularity, we hope more people could pay attention to the companyâ€™s products. The most direct way to do this is to choose the right time to advertise and promote this product. we recommended that Sunshine Company are supposed to enhance propaganda and increase the discount at the beginning and middle of each year to increase product sales and popularity.</p>
<h2 id="How-to-Improve-the-Product"><a href="#How-to-Improve-the-Product" class="headerlink" title="How to Improve the Product"></a>How to Improve the Product</h2><p>On the other hand, for Star rating, the most fundamental influence of it is the product itself. By analyzing the content of the review, we could comprehend the relationship between star rating and review, furthermore, we could improve the product through the content review. Therefore, analyzing the content of the review is of vital importance. </p>
<p>From the previous model, we believe that there are three types of customers that worth pay attention to. Their reviews and attitude towards the product can effectively help us to improve the product.</p>
<ul>
<li>Amazon Vine Voices Members</li>
</ul>
<p>These people are selected by Amazon. They are the most trusted reviewers on Amazon to post opinions about new and pre-release items to help their fellow<br>customers make informed purchase decisions.</p>
<ul>
<li>People who have bought a lot of different products.</li>
</ul>
<p>These people have experienced more similar products than common customers, and they have a deeper understanding of this type of product. We have selected<br>nine such customers for Sunshine Company, their reviews are in the appendix.</p>
<ul>
<li>One-star rating customer</li>
</ul>
<p>our products or services may not meet the needs of all customers, so some of these customers give a one-star rating. Compared with five-star users who have very low-information reviews, these one-star rating users often directly mention the shortcomings of the product. So It is often helpful to look at these reviews<br>carefully.</p>
<p>we give the word cloud of one-star rating user of the microwave reviews below. There are words such as â€œserviceâ€ and â€œwarrantyâ€ in the word cloud. So we conclude that these users are dissatisfied with the product services and product warranty of the<br>microwave. In this way we can make specfic measures toward this issue. The word cloud of one-star rating users reviews by Pacifier and hair dryer is in the appendix. At the same time, we can find that users who give one star and users who give five stars tend to have more emotional reviews.</p>
<h1 id="Conclusions"><a href="#Conclusions" class="headerlink" title="Conclusions"></a>Conclusions</h1><p>Sunshine Company want to launch three new products in online marketplacemicrowave, pacifier and hair dryer. And they hire our team to help them to analyze the relevant products in the current market and make suggestions for their product sales.</p>
<p>At first,we process the dataset.We delete some data with missing values.At the same time,we find some data of click farmers.We also remove these useless data.We screen and integrate 15 attributes of the data set,leaving 11 basic attributes and 3 synthetic attributes.For a large number of texts in the review,we use the tokenization algorithm to cut the complex texts into simple words for our subsequent ananlysis.</p>
<p>Then,we analyze and visualize the attributes of the data set.In this way,we have a full understanding of the whole data set. We use the multi-demension evaluation system of â€œreviews evaluation productsâ€ and â€œhelpful votes evaluation reviewsâ€, through TF-IDF technology and MLP model to analyze the relationship between star rating, review and helpful votes,to help sunshine company to have a deeper understanding of products in the market.</p>
<p>Finally,on the basis of time ,we analyze the product heat,get a deeper understanding of customer review ,and provide a way for sunshine company to increase its productsâ€™popularity.</p>
<h1 id="Strenghths-and-Weaknesses"><a href="#Strenghths-and-Weaknesses" class="headerlink" title="Strenghths and Weaknesses"></a>Strenghths and Weaknesses</h1><h2 id="Strengths"><a href="#Strengths" class="headerlink" title="Strengths"></a>Strengths</h2><ul>
<li>Our model has strong interpretability</li>
</ul>
<p>The traditional MLP model has poor interpretability,and we continue to do lexical analysis and grammatical analysis on this basis, which enhances the interpretability of the whole model.</p>
<ul>
<li>We look at the product from the customerâ€™s perspective</li>
</ul>
<p>We analyze the userâ€™s emotion and build the userâ€™s portrait through the userâ€™s comments. At the same time, we find some customers who are meaningful to sunshine company.</p>
<h2 id="Weaknesses"><a href="#Weaknesses" class="headerlink" title="Weaknesses"></a>Weaknesses</h2><ul>
<li>There is a lack of analysis at the time level.</li>
</ul>
<p>At the time level, we only analyze the changes of product popularity, and there are a lot of contents that can be mined between time and review.</p>
<ul>
<li>We donâ€™t build relationship among the three products.</li>
</ul>
<p>If our model can fully break the sales relationship among the three products in the market, it will be more helpful for sunshine company which sells the microwave, pacifier and hair dryer at the same time.</p>
<h1 id="Appendix-Product-Profile"><a href="#Appendix-Product-Profile" class="headerlink" title="Appendix: Product Profile"></a>Appendix: Product Profile</h1><center><img src="/eysblog_en/imgsource/mcm2020-figure-11.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 11: The Star Ratings and the Number of Reviews of Pacifier</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-12.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 12: The Proportion of People Who Were in Amazon Vine and People Who Had Bought the Product</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-13.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 13: The Wordcloud of Pacifier</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-14.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 14: The Reviewsâ€™ Total Votes and Helpful Votes of a Pacifier Product</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-15.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 15: The Star Ratings and the Number of Reviews of Pacifier</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-16.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 16: The Proportion of People Who Were in Amazon Vine and People Who Had Bought the Product</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-17.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 17: The Wordcloud of Pacifier</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-18.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 18: The Reviewsâ€™ Total Votes and Helpful Votes of a Pacifier Product</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-19.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 19: The WordCloud of Reviews with One Star about Pacifier</font></p></center>

<center><img src="/eysblog_en/imgsource/mcm2020-figure-20.png" alt="" width="70%"/>
<p><font size=3 color="black">Figure 20: The WordCloud of Reviews with One Star about Hair Dryer</font></p></center>]]></content>
      <categories>
        <category>Mathematical Modeling</category>
        <category>NLP (Natural Language Processing)</category>
      </categories>
  </entry>
  <entry>
    <title>Price Suggestion Challenge - A ML Algorithms Survey</title>
    <url>/201911/2019-11-12-price-prediction/</url>
    <content><![CDATA[<h1 id="Topic"><a href="#Topic" class="headerlink" title="Topic"></a>Topic</h1><h2 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h2><p>Considering the number of products sold online, product pricing becomes more difficult at scale. Apparel has strong seasonal pricing trends and is heavily influenced by brands, while electronics prices fluctuate based on product specifications. It is a meaningful question to help merchants effectively sell their goods by making reasonable pricing based on past information.</p>
<h2 id="Target"><a href="#Target" class="headerlink" title="Target"></a>Target</h2><p>The product description, product category and brand information is given and combined with the product price from the training data to set the price for the new product. For example,</p>
<center><img src="/eysblog_en/imgsource/img-price-prediction/1-1.png" alt="" width="100%" /></center>

<p>Obviously Versaceâ€™s clothes should be much higher in price than Metersbonweâ€™s clothes, and in the description of the goods, you can find a slight difference between the two descriptions. </p>
<blockquote>
<p>This project aims to analyze the text information, extract the important information from the text information and derive the potential relationship with the priceã€‚ </p>
</blockquote>
<h2 id="Analysis-of-atributes"><a href="#Analysis-of-atributes" class="headerlink" title="Analysis of atributes"></a>Analysis of atributes</h2><center><img src="/eysblog_en/imgsource/img-price-prediction/1-2.png" alt="" width="100%" /></center>

<h2 id="Dataset"><a href="#Dataset" class="headerlink" title="Dataset"></a>Dataset</h2><ul>
<li><code>train.csv</code> training dataset (Include <code>price</code>)</li>
<li><code>test.csv</code> test dataset (Not include <code>price</code>) ; <code>label_test.csv</code> (Corresponding to the price of the test dataset)</li>
<li><code>f_test.csv</code> Final measurement data set (Not include <code>price</code>)</li>
</ul>
<h2 id="Evaluation-Indicators"><a href="#Evaluation-Indicators" class="headerlink" title="Evaluation Indicators"></a>Evaluation Indicators</h2><p>We used <code>Mean Squared Logarithmic Error</code> (MSLE) to evaluate the algorithm: </p>
<script type="math/tex; mode=display">
MSLE = \cfrac{1}{n}\sum_{i=1}^n(log(p_i+1)-log(\alpha_i+1))^2
\tag{1}</script><p>Which \(n\) means the number of samples in test dataset; \(p_i\)means the predicting price of sales; \(\alpha_i\) means the real price.</p>
<h1 id="Data-Process"><a href="#Data-Process" class="headerlink" title="Data Process"></a>Data Process</h1><h2 id="Learning-sample-code"><a href="#Learning-sample-code" class="headerlink" title="Learning sample code"></a>Learning sample code</h2><p>The sample code given was first tried to understand the general idea of solving this problem. The main processes to solve this price prediction problem are: importing data and data exploration, data pre-processing, model construction, price prediction and measurement.</p>
<h3 id="import-data-and-exploration"><a href="#import-data-and-exploration" class="headerlink" title="import data and exploration"></a>import data and exploration</h3><p>Import the data and get acknowledge with it.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train_data = pd.read_csv(<span class="string">&#x27;../data/4/train.csv&#x27;</span>, sep=<span class="string">&quot;\t&quot;</span>)</span><br><span class="line">test_data = pd.read_csv(<span class="string">&#x27;../data/4/test.csv&#x27;</span>,sep=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">train_data.info()</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;class &#x27;pandas.core.frame.DataFrame&#x27;&gt;</span><br><span class="line">RangeIndex: 300000 entries, 0 to 299999</span><br><span class="line">Data columns (total 8 columns):</span><br><span class="line">train_id             300000 non-null int64</span><br><span class="line">name                 300000 non-null object</span><br><span class="line">item_condition_id    300000 non-null int64</span><br><span class="line">category_name        298719 non-null object</span><br><span class="line">brand_name           171929 non-null object</span><br><span class="line">price                300000 non-null float64</span><br><span class="line">shipping             300000 non-null int64</span><br><span class="line">item_description     300000 non-null object</span><br><span class="line">dtypes: float64(1), int64(3), object(4)</span><br><span class="line">memory usage: 18.3+ MB</span><br></pre></td></tr></table></figure>
<h3 id="Data-Preprocess"><a href="#Data-Preprocess" class="headerlink" title="Data Preprocess"></a>Data Preprocess</h3><p>First of all, we need to remove <code>price</code> from the training data, and then remove <code>train_id</code> or <code>test_id</code> which are not useful. By looking at the data attributes above, we can see that <code>category_name</code> and <code>brand_name</code> have missing data, so the sample code is filled with <code>missing</code> directly.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">featureProcessing</span>(<span class="params">df</span>):</span><br><span class="line">    <span class="comment"># delete the data that will not be used</span></span><br><span class="line">    df = df.drop([<span class="string">&#x27;price&#x27;</span>, <span class="string">&#x27;test_id&#x27;</span>, <span class="string">&#x27;train_id&#x27;</span>], axis=<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># deal with the missing value with a default value</span></span><br><span class="line">    df[<span class="string">&#x27;category_name&#x27;</span>] = df[<span class="string">&#x27;category_name&#x27;</span>].fillna(<span class="string">&#x27;missing&#x27;</span>).astype(<span class="built_in">str</span>)</span><br><span class="line">    df[<span class="string">&#x27;brand_name&#x27;</span>] = df[<span class="string">&#x27;brand_name&#x27;</span>].fillna(<span class="string">&#x27;missing&#x27;</span>).astype(<span class="built_in">str</span>)</span><br><span class="line">    df[<span class="string">&#x27;item_description&#x27;</span>] = df[<span class="string">&#x27;item_description&#x27;</span>].fillna(<span class="string">&#x27;No&#x27;</span>)</span><br><span class="line">    <span class="comment"># convert the data : int -&gt; str</span></span><br><span class="line">    df[<span class="string">&#x27;shipping&#x27;</span>] = df[<span class="string">&#x27;shipping&#x27;</span>].astype(<span class="built_in">str</span>)</span><br><span class="line">    df[<span class="string">&#x27;item_condition_id&#x27;</span>] = df[<span class="string">&#x27;item_condition_id&#x27;</span>].astype(<span class="built_in">str</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> df</span><br></pre></td></tr></table></figure>
<h3 id="Model-Construction"><a href="#Model-Construction" class="headerlink" title="Model Construction"></a>Model Construction</h3><p>First of all, the input of the model is done and the matrix of word frequencies is generated by <code>CountVectorizer</code> and <code>TfidfVectorizer</code>. <code>Tfidf</code> is better because the number of occurrences of each word in all field clocks is taken into account and the generated word frequency matrix is weighted.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">vectorizer = FeatureUnion([</span><br><span class="line">    (<span class="string">&#x27;name&#x27;</span>, CountVectorizer(ngram_range=(<span class="number">1</span>, <span class="number">2</span>), max_features=<span class="number">50000</span>, preprocessor=build_preprocessor_1(<span class="string">&#x27;name&#x27;</span>))),</span><br><span class="line">    (<span class="string">&#x27;category_name&#x27;</span>, CountVectorizer(token_pattern=<span class="string">&#x27;.+&#x27;</span>, preprocessor=build_preprocessor_1(<span class="string">&#x27;category_name&#x27;</span>))),</span><br><span class="line">    (<span class="string">&#x27;brand_name&#x27;</span>, CountVectorizer(token_pattern=<span class="string">&#x27;.+&#x27;</span>, preprocessor=build_preprocessor_1(<span class="string">&#x27;brand_name&#x27;</span>))),</span><br><span class="line">    (<span class="string">&#x27;shipping&#x27;</span>, CountVectorizer(token_pattern=<span class="string">&#x27;\d+&#x27;</span>, preprocessor=build_preprocessor_1(<span class="string">&#x27;shipping&#x27;</span>))),</span><br><span class="line">    (<span class="string">&#x27;item_condition_id&#x27;</span>, CountVectorizer(token_pattern=<span class="string">&#x27;\d+&#x27;</span>, preprocessor=build_preprocessor_1(<span class="string">&#x27;item_condition_id&#x27;</span>))),</span><br><span class="line">    (<span class="string">&#x27;item_description&#x27;</span>, TfidfVectorizer(ngram_range=(<span class="number">1</span>, <span class="number">3</span>),max_features=<span class="number">100000</span>, preprocessor=build_preprocessor_1(<span class="string">&#x27;item_description&#x27;</span>))),</span><br><span class="line">])</span><br></pre></td></tr></table></figure>
<p>Predict the price by Ridge Regression.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">ridgeClassify</span>(<span class="params">train_data, train_label</span>):</span><br><span class="line">    ridgeClf = Ridge(</span><br><span class="line">        solver=<span class="string">&#x27;auto&#x27;</span>,</span><br><span class="line">        fit_intercept=<span class="literal">True</span>,</span><br><span class="line">        alpha=<span class="number">0.5</span>,</span><br><span class="line">        max_iter=<span class="number">500</span>,</span><br><span class="line">        normalize=<span class="literal">False</span>,</span><br><span class="line">        tol=<span class="number">0.05</span>)</span><br><span class="line">    <span class="comment"># Training</span></span><br><span class="line">    ridgeClf.fit(train_data, train_label)</span><br><span class="line">    <span class="keyword">return</span> ridgeClf</span><br></pre></td></tr></table></figure>
<p>By understanding the dataset and studying the sample code, we learned that there are three angles to start with to optimize the answer to this question.</p>
<ol>
<li>data preprocessing: How to handle missing values? How should the attributes be combined?</li>
<li>optimization when forming the word frequency matrix: adjusting the parameters of <code>CountVectorizer</code> and <code>TfidfVectorizer</code>.</li>
<li>Model selection and optimization: try models other than ridge regression, adjust model parameters.</li>
</ol>
<h2 id="Try-more-models"><a href="#Try-more-models" class="headerlink" title="Try more models"></a>Try more models</h2><p>In the sample code above, the result obtained using the ridge regression model is about 3.01. After the hints from the previous class and the online search, we are ready to try the <code>MLP</code> model and the <code>Lgmb</code> model again. After roughly trying both models, we decided to further optimize the model using <code>MLP</code>.</p>
<h3 id="MLP"><a href="#MLP" class="headerlink" title="MLP"></a><code>MLP</code></h3><p>The result of <code>MLP</code> is shown below:</p>
<center><img src="/eysblog_en/imgsource/img-price-prediction/2-2.png" alt="" width="100%" /></center>


<h3 id="LGBM"><a href="#LGBM" class="headerlink" title="LGBM"></a><code>LGBM</code></h3><p>The result of  <code>Lgbm</code> is shown below: </p>
<center><img src="/eysblog_en/imgsource/img-price-prediction/2-1.png" alt="" width="100%" /></center>



<h3 id="MLP-Combined-with-LGBM"><a href="#MLP-Combined-with-LGBM" class="headerlink" title="MLP Combined with LGBM"></a><code>MLP</code> Combined with <code>LGBM</code></h3><p><1> Preprocessing</p>
<ul>
<li>Import the data</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train = pd.read_csv(<span class="string">&#x27;data/train.csv&#x27;</span>, sep=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">test = pd.read_csv(<span class="string">&#x27;data/test.csv&#x27;</span>, sep=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line"><span class="comment"># train and test data are handled together</span></span><br><span class="line">df = pd.concat([train, test], axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>Handling missing value</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Handling missing values</span></span><br><span class="line">   df[<span class="string">&#x27;category_name&#x27;</span>] = df[<span class="string">&#x27;category_name&#x27;</span>].fillna(<span class="string">&#x27;MISS&#x27;</span>).astype(<span class="built_in">str</span>)</span><br><span class="line">   df[<span class="string">&#x27;brand_name&#x27;</span>] = df[<span class="string">&#x27;brand_name&#x27;</span>].fillna(<span class="string">&#x27;missing&#x27;</span>).astype(<span class="built_in">str</span>)</span><br><span class="line">   df[<span class="string">&#x27;item_description&#x27;</span>] = df[<span class="string">&#x27;item_description&#x27;</span>].fillna(<span class="string">&#x27;No&#x27;</span>)</span><br><span class="line">   <span class="comment"># modifying data structure</span></span><br><span class="line">   df[<span class="string">&#x27;shipping&#x27;</span>] = df[<span class="string">&#x27;shipping&#x27;</span>].astype(<span class="built_in">str</span>)</span><br><span class="line">   df[<span class="string">&#x27;item_condition_id&#x27;</span>] = df[<span class="string">&#x27;item_condition_id&#x27;</span>].astype(<span class="built_in">str</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>Feature vectorization</li>
</ul>
<p>Use the <code>CountVectorizer</code> class in the <code>sklearn</code> library to vectorize the text features and use <code>FeatureUnion</code> for feature union.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">vectorizer = FeatureUnion([</span><br><span class="line">        (<span class="string">&#x27;name&#x27;</span>, CountVectorizer(</span><br><span class="line">            ngram_range=(<span class="number">1</span>, <span class="number">2</span>),</span><br><span class="line">            max_features=<span class="number">100000</span>,</span><br><span class="line">            preprocessor=build_preprocessor(<span class="string">&#x27;name&#x27;</span>))),</span><br><span class="line">        (<span class="string">&#x27;category_name&#x27;</span>, CountVectorizer(</span><br><span class="line">            token_pattern=<span class="string">&#x27;.+&#x27;</span>,</span><br><span class="line">            preprocessor=build_preprocessor(<span class="string">&#x27;category_name&#x27;</span>))),</span><br><span class="line">        (<span class="string">&#x27;brand_name&#x27;</span>, CountVectorizer(</span><br><span class="line">            token_pattern=<span class="string">&#x27;.+&#x27;</span>,</span><br><span class="line">            preprocessor=build_preprocessor(<span class="string">&#x27;brand_name&#x27;</span>))),</span><br><span class="line">        (<span class="string">&#x27;shipping&#x27;</span>, CountVectorizer(</span><br><span class="line">            token_pattern=<span class="string">&#x27;\d+&#x27;</span>,</span><br><span class="line">            preprocessor=build_preprocessor(<span class="string">&#x27;shipping&#x27;</span>))),</span><br><span class="line">        (<span class="string">&#x27;item_condition_id&#x27;</span>, CountVectorizer(</span><br><span class="line">            token_pattern=<span class="string">&#x27;\d+&#x27;</span>,</span><br><span class="line">            preprocessor=build_preprocessor(<span class="string">&#x27;item_condition_id&#x27;</span>))),</span><br><span class="line">        (<span class="string">&#x27;item_description&#x27;</span>, TfidfVectorizer(</span><br><span class="line">            ngram_range=(<span class="number">1</span>, <span class="number">3</span>),</span><br><span class="line">            max_features=<span class="number">200000</span>,</span><br><span class="line">            preprocessor=build_preprocessor(<span class="string">&#x27;item_description&#x27;</span>),</span><br><span class="line">            stop_words=<span class="string">&#x27;english&#x27;</span>)),</span><br><span class="line">    ])</span><br></pre></td></tr></table></figure>
<p><2> Model Construction</p>
<p>The features were trained using the ridge regression model, the <code>Lgbm</code> model and the <code>mlp</code> model, respectively, and the solutions obtained in local tests were 3.01, 3.00, and 0.26, respectively.</p>
<ul>
<li>Ridge Regression</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">ridge_classify</span>(<span class="params">train_data,train_label</span>):</span><br><span class="line">    <span class="comment">#model</span></span><br><span class="line">    model = Ridge(</span><br><span class="line">            solver=<span class="string">&#x27;auto&#x27;</span>,</span><br><span class="line">            fit_intercept=<span class="literal">True</span>,</span><br><span class="line">            alpha=<span class="number">0.4</span>,</span><br><span class="line">            max_iter=<span class="number">100</span>,</span><br><span class="line">            normalize=<span class="literal">False</span>,</span><br><span class="line">            tol=<span class="number">0.05</span>)</span><br><span class="line">    <span class="comment">#training</span></span><br><span class="line">    model.fit(train_data, train_label)</span><br><span class="line">    <span class="keyword">return</span> model</span><br></pre></td></tr></table></figure>
<ul>
<li><code>lgbm</code> Model</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">lgbm_classify</span>(<span class="params">train_data,train_label</span>):</span><br><span class="line">    params = &#123;</span><br><span class="line">        <span class="string">&#x27;learning_rate&#x27;</span>: <span class="number">0.75</span>,</span><br><span class="line">        <span class="string">&#x27;application&#x27;</span>: <span class="string">&#x27;regression&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;max_depth&#x27;</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="string">&#x27;num_leaves&#x27;</span>: <span class="number">100</span>,</span><br><span class="line">        <span class="string">&#x27;verbosity&#x27;</span>: -<span class="number">1</span>,</span><br><span class="line">        <span class="string">&#x27;metric&#x27;</span>: <span class="string">&#x27;RMSE&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    train_X, valid_X, train_y, valid_y = train_test_split(train_data, train_label, test_size=<span class="number">0.1</span>, random_state=<span class="number">144</span>)</span><br><span class="line">    d_train = lgb.Dataset(train_X, label=train_y)</span><br><span class="line">    d_valid = lgb.Dataset(valid_X, label=valid_y)</span><br><span class="line">    watchlist = [d_train, d_valid]</span><br><span class="line"></span><br><span class="line">    model = lgb.train(params, train_set=d_train, num_boost_round=<span class="number">2200</span>, valid_sets=watchlist, \</span><br><span class="line">                      early_stopping_rounds=<span class="number">50</span>, verbose_eval=<span class="number">100</span>)</span><br><span class="line">    <span class="keyword">return</span> model</span><br></pre></td></tr></table></figure>
<ul>
<li><code>mlp</code> Model</li>
</ul>
<p>The <code>MLP</code> model consists of two fully connected layers and a dropout layer, which is essentially a network of multiple hidden layers.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">mlp_model</span>(<span class="params">train_data,train_label,row_train</span>):</span><br><span class="line">    model = Sequential()</span><br><span class="line">    <span class="comment"># fully connected layer</span></span><br><span class="line">    model.add(Dense(<span class="number">64</span>, input_shape=(row_train,), activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">    <span class="comment"># DropOut layer</span></span><br><span class="line">    model.add(Dropout(<span class="number">0.4</span>))</span><br><span class="line">    <span class="comment"># fully connected layer + classifier</span></span><br><span class="line">    model.add(Dense(<span class="number">1</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;mean_squared_logarithmic_error&#x27;</span>,</span><br><span class="line">                  optimizer=<span class="string">&#x27;adam&#x27;</span>,</span><br><span class="line">                  metrics=[<span class="string">&#x27;accuracy&#x27;</span>]</span><br><span class="line">                  )</span><br><span class="line"></span><br><span class="line">    model.fit(train_data, train_label,</span><br><span class="line">              batch_size=<span class="number">300</span>,</span><br><span class="line">              epochs=<span class="number">1</span>,</span><br><span class="line">              )</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> model.predict(X_test)</span><br></pre></td></tr></table></figure>
<h2 id="Optimization-when-forming-word-frequency-matrix"><a href="#Optimization-when-forming-word-frequency-matrix" class="headerlink" title="Optimization when forming word frequency matrix"></a>Optimization when forming word frequency matrix</h2><p>In the sample code we tried to replace all <code>CountVectorizer</code> with <code>TdidfVectorizer</code> and then use the Ridge model for prediction, but the result is not much optimized, only up to 2.9.<br>Later, when using the <code>MLP</code>, we completely discarded the <code>CountVectorizer</code> and used only the <code>TdidfVectorizer</code>.</p>
<h2 id="Optimize-the-data-pre-processing-process"><a href="#Optimize-the-data-pre-processing-process" class="headerlink" title="Optimize the data pre-processing process"></a>Optimize the data pre-processing process</h2><p>The way we optimize the <code>MLP</code>, which is basically perfected above, is to <strong>try different combinations of features</strong>.</p>
<h3 id="Analysis-of-the-attributes"><a href="#Analysis-of-the-attributes" class="headerlink" title="Analysis of the attributes"></a>Analysis of the attributes</h3><p>First I analyzed the attributes:<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">item_condition_id    300000 non-null int64</span><br><span class="line">shipping             300000 non-null int64</span><br><span class="line"></span><br><span class="line">name                 300000 non-null object</span><br><span class="line">category_name        298719 non-null object</span><br><span class="line">brand_name           171929 non-null object</span><br><span class="line">item_description     300000 non-null object</span><br><span class="line"></span><br></pre></td></tr></table></figure><br><code>item_condition_id</code> and <code>shipping</code> are considered directly as inputs, while <code>name</code>, <code>category_name</code>, <code>brand_name</code>, <code>item_description</code> are considered for different combinations to try.</p>
<p>Before that, we found an example tutorial on data visualization to analyze the attributes of the data.<br>The optimal combination of inputs is obtained by observing the data.</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">train.head()</span><br></pre></td></tr></table></figure>
<center><img src="/eysblog_en/imgsource/img-price-prediction/1-3.png" alt="" width="100%" /></center>

<ol>
<li><code>price</code><br>By looking at the data after visualization we know why we have to do <code>log1p</code> on <code>price</code> to make the distribution of <code>price</code> better.</li>
</ol>
<center><img src="/eysblog_en/imgsource/img-price-prediction/1-4.png" alt="" width="100%" /></center>

<ol>
<li><code>category_name</code><br>Try to split the property into various subclasses and view the corresponding data.</li>
</ol>
<center><img src="/eysblog_en/imgsource/img-price-prediction/1-5.png" alt="" width="100%" /></center>

<ol>
<li><code>item_description</code><center><img src="/eysblog_en/imgsource/img-price-prediction/1-6.png" alt="" width="100%" /></center>

</li>
</ol>
<h3 id="Try-different-attributes-combination"><a href="#Try-different-attributes-combination" class="headerlink" title="Try different attributes combination"></a>Try different attributes combination</h3><ol>
<li>simply combine the attributes together in the sample code for text analysis, i.e. <code>name</code> + <code>item_condition_id</code> + <code>category_name</code> + <code>brand_name</code> + <code>shipping</code> + <code>item_description</code>. (6 inputs)</li>
<li>try <code>name</code>, <code>item_condition_id</code>, <code>shipping</code>,<code>category_name</code> + <code>item_description</code>, <code>brand_name</code>. (5 inputs)</li>
<li>try <code>name</code>, <code>item_condition_id</code>, <code>shipping</code>, <code>category_name</code> + <code>brand_name</code> + <code>item_description</code>. (4 inputs)</li>
<li>try <code>name</code>, <code>item_condition_id</code>, <code>shipping</code>, <code>name</code> + <code>category_name</code> + <code>brand_name</code> + <code>item_description</code>. (4 inputs)</li>
</ol>
<p>The results for the four combinations as input are very similar, except that combination 1 <code>MSLE</code> is around 0.4, combinations 2 and 3 are around 0.21, and combination 4 eventually runs to around 0.17. Combination 4 actually increases the weight of <code>name</code> to make the final result better.</p>
<h1 id="Final-source-code-and-experimental-results"><a href="#Final-source-code-and-experimental-results" class="headerlink" title="Final source code and experimental results"></a>Final source code and experimental results</h1><ol>
<li><p>Data preprocessing</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># data preprocessing</span></span><br><span class="line"><span class="comment"># There are 8 attributes, remove price, train_id will have no influence on the result.</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">data_preprocess</span>(<span class="params">df</span>):</span><br><span class="line">    df[<span class="string">&#x27;name&#x27;</span>] = df[<span class="string">&#x27;name&#x27;</span>].fillna(<span class="string">&#x27;&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + df[<span class="string">&#x27;brand_name&#x27;</span>].fillna(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    df[<span class="string">&#x27;text&#x27;</span>] = (df[<span class="string">&#x27;item_description&#x27;</span>].fillna(<span class="string">&#x27;&#x27;</span>) + <span class="string">&#x27; &#x27;</span> + df[<span class="string">&#x27;name&#x27;</span>] + <span class="string">&#x27; &#x27;</span> + df[<span class="string">&#x27;category_name&#x27;</span>].fillna(<span class="string">&#x27;&#x27;</span>))</span><br><span class="line">    <span class="keyword">return</span> df[[<span class="string">&#x27;name&#x27;</span>, <span class="string">&#x27;text&#x27;</span>, <span class="string">&#x27;shipping&#x27;</span>, <span class="string">&#x27;item_condition_id&#x27;</span>]]</span><br></pre></td></tr></table></figure>
</li>
<li><p>Model Constructio</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">fit_predict</span>(<span class="params">xs, y_train</span>):</span><br><span class="line">    X_train, X_test = xs</span><br><span class="line">    <span class="comment"># Configure the operation method of tf.Session, such as gpu operation or cpu operation</span></span><br><span class="line">    config = tf.ConfigProto(</span><br><span class="line">        <span class="comment"># Set the number of threads for multiple operations in parallel</span></span><br><span class="line">        intra_op_parallelism_threads=<span class="number">1</span>, use_per_session_threads=<span class="number">1</span>, inter_op_parallelism_threads=<span class="number">1</span>)</span><br><span class="line">    <span class="comment"># Session provides the environment for Operation execution and Tensor evaluation.</span></span><br><span class="line">    <span class="keyword">with</span> tf.Session(graph=tf.Graph(), config=config) <span class="keyword">as</span> sess, timer(<span class="string">&#x27;fit_predict&#x27;</span>):</span><br><span class="line">        ks.backend.set_session(sess)</span><br><span class="line">        model_in = ks.Input(shape=(X_train.shape[<span class="number">1</span>],), dtype=<span class="string">&#x27;float32&#x27;</span>, sparse=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># ks.layers.Dense means the dimension of output</span></span><br><span class="line">        <span class="comment"># Dense full connected layer, equals to add one layer directly.</span></span><br><span class="line">        <span class="comment"># activation is the activation function.</span></span><br><span class="line">        out = ks.layers.Dense(<span class="number">192</span>, activation=<span class="string">&#x27;relu&#x27;</span>)(model_in)</span><br><span class="line">        out = ks.layers.Dense(<span class="number">64</span>, activation=<span class="string">&#x27;relu&#x27;</span>)(out)</span><br><span class="line">        out = ks.layers.Dense(<span class="number">64</span>, activation=<span class="string">&#x27;relu&#x27;</span>)(out)</span><br><span class="line">        out = ks.layers.Dense(<span class="number">1</span>)(out)</span><br><span class="line">        model = ks.Model(model_in, out)</span><br><span class="line">        model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;mean_squared_error&#x27;</span>, optimizer=ks.optimizers.Adam(lr=<span class="number">3e-3</span>))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">            <span class="keyword">with</span> timer(<span class="string">f&#x27;epoch <span class="subst">&#123;i + <span class="number">1</span>&#125;</span>&#x27;</span>):</span><br><span class="line">                model.fit(x=X_train, y=y_train, batch_size=<span class="number">2</span> ** (<span class="number">11</span> + i), epochs=<span class="number">1</span>, verbose=<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> model.predict(X_test)[:, <span class="number">0</span>]</span><br></pre></td></tr></table></figure>
</li>
<li><p>Model training and prediction</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    vectorizer = make_union(<span class="comment"># Assemble all transformers into a FeatureUnion. n_jobs means it can be done simultaneously</span></span><br><span class="line">        <span class="comment"># FunctionTransformer implements a custom transformation with no input validation when validate=False</span></span><br><span class="line">        <span class="comment"># TfidfVectorizer function, consider only the words in the first max_feature bits by word frequency, token_pattern=&#x27;\w+&#x27; matches at least one word</span></span><br><span class="line">        make_pipeline(FunctionTransformer(itemgetter(<span class="string">&#x27;name&#x27;</span>), validate=<span class="literal">False</span>), TfidfVectorizer(max_features=<span class="number">100000</span>, token_pattern=<span class="string">&#x27;\w+&#x27;</span>)),</span><br><span class="line">        make_pipeline(FunctionTransformer(itemgetter(<span class="string">&#x27;text&#x27;</span>), validate=<span class="literal">False</span>), TfidfVectorizer(max_features=<span class="number">100000</span>, token_pattern=<span class="string">&#x27;\w+&#x27;</span>)),</span><br><span class="line">        make_pipeline(FunctionTransformer(itemgetter([<span class="string">&#x27;shipping&#x27;</span>, <span class="string">&#x27;item_condition_id&#x27;</span>]), validate=<span class="literal">False</span>),</span><br><span class="line">                      FunctionTransformer(to_records, validate=<span class="literal">False</span>), DictVectorizer()),</span><br><span class="line">        n_jobs=<span class="number">4</span>)</span><br><span class="line">    <span class="comment"># StandardScaler() performs data normalization. Save the parameters (mean, variance) from the training set directly using its object to transform the test set data.</span></span><br><span class="line">    y_scaler = StandardScaler()</span><br><span class="line">    <span class="comment"># The with statement is used when accessing resources to ensure that the necessary &quot;cleanup&quot; operations are performed to release resources regardless of exceptions during use, such as automatic closure of files after use, automatic acquisition and release of locks in threads, etc.</span></span><br><span class="line">    <span class="keyword">with</span> timer(<span class="string">&#x27;process train&#x27;</span>):</span><br><span class="line">        train = pd.read_csv(<span class="string">&#x27;train.csv&#x27;</span>, sep=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        test = pd.read_csv(<span class="string">&#x27;test.csv&#x27;</span>, sep=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line">        <span class="comment"># remove &#x27;price&#x27;</span></span><br><span class="line">        train = train[train[<span class="string">&#x27;price&#x27;</span>] &gt; <span class="number">0</span>].reset_index(drop=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># normalization of price</span></span><br><span class="line">        y_train = y_scaler.fit_transform(np.log1p(train[<span class="string">&#x27;price&#x27;</span>].values.reshape(-<span class="number">1</span>, <span class="number">1</span>)))</span><br><span class="line">        X_train = vectorizer.fit_transform(data_preprocess(train)).astype(np.float32)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&#x27;X_train: <span class="subst">&#123;X_train.shape&#125;</span> of <span class="subst">&#123;X_train.dtype&#125;</span>&#x27;</span>)</span><br><span class="line">    <span class="keyword">with</span> timer(<span class="string">&#x27;process valid&#x27;</span>):</span><br><span class="line">        X_test = vectorizer.transform(data_preprocess(test)).astype(np.float32)</span><br><span class="line">    <span class="keyword">with</span> ThreadPool(processes=<span class="number">4</span>) <span class="keyword">as</span> pool:</span><br><span class="line">        Xb_train, Xb_test = [x.astype(np.<span class="built_in">bool</span>).astype(np.float32) <span class="keyword">for</span> x <span class="keyword">in</span> [X_train, X_test]]</span><br><span class="line">        xs = [[Xb_train, Xb_test], [X_train, X_test]] * <span class="number">2</span></span><br><span class="line">        <span class="comment"># prediction</span></span><br><span class="line">        y_pred = np.mean(pool.<span class="built_in">map</span>(partial(fit_predict, y_train=y_train), xs), axis=<span class="number">0</span>)</span><br><span class="line">    y_pred = np.expm1(y_scaler.inverse_transform(y_pred.reshape(-<span class="number">1</span>, <span class="number">1</span>))[:, <span class="number">0</span>])</span><br><span class="line">    <span class="comment"># print(type(y_pred))</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Export prediction results to csv</span></span><br><span class="line">    test_id = np.array(<span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(y_pred)))</span><br><span class="line">    dataframe = pd.DataFrame(&#123;<span class="string">&#x27;test_id&#x27;</span>: test_id, <span class="string">&#x27;price&#x27;</span>: y_pred&#125;)</span><br><span class="line">    dataframe.to_csv(<span class="string">&quot;res.csv&quot;</span>, index=<span class="literal">False</span>, sep=<span class="string">&#x27;\t&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># print(&#x27;Valid MSLE: &#123;:.4f&#125;&#x27;.format(mean_squared_log_error(valid[&#x27;price&#x27;], y_pred)))</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>The final experimental result reached 0.179.</p>
<h1 id="Other-optimization-directions-in-the-MLP-model"><a href="#Other-optimization-directions-in-the-MLP-model" class="headerlink" title="Other optimization directions in the MLP model"></a>Other optimization directions in the <code>MLP</code> model</h1><ol>
<li>It can be observed that in the word cloud of <code>item_desciption</code>, there are words such as <code>shipping</code> and <code>free</code>, which may stand for free shipping and other meanings, and there is some duplication with the <code>shipping</code> attribute, and using it as a feature word to train the model will cause interference.</li>
<li>The information contained in a single keyword may not be comprehensive, and there may be great correlation between keywords.</li>
<li>In the final model <code>MLP</code> uses a four-layer perceptron, and the number of layers of the perceptron and the input size of each layer can be further tuned.</li>
</ol>
<h1 id="Experience"><a href="#Experience" class="headerlink" title="Experience"></a>Experience</h1><p>This experiment was very difficult and I didnâ€™t know where to start.</p>
<p>After carefully studying the sample code given in the course and the content of data visualization and analysis, I got a preliminary understanding of both the dataset and the method of prediction.  </p>
<p>Since I was very unfamiliar with models such as <code>MLP</code> and <code>Lightgbm</code>, I started from the input point of view and experimented with the combination of different attributes to get the final and better results.  </p>
<p>In the following study, we should learn and understand the model more deeply, and try to create the model independently, instead of modifying other models that have been written.</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1><p>[1].<a href="https://ahmedbesbes.com/how-to-mine-newsfeed-data-and-extract-interactive-insights-in-python.html">https://ahmedbesbes.com/how-to-mine-newsfeed-data-and-extract-interactive-insights-in-python.html</a></p>
<p>[2].  <a href="https://github.com/pjankiewicz/mercari-solution">https://github.com/pjankiewicz/mercari-solution</a></p>
<p>[3].<a href="https://www.kaggle.com/thykhuely/mercari-interactive-eda-topic-modelling">https://www.kaggle.com/thykhuely/mercari-interactive-eda-topic-modelling</a></p>
<p>[4].<a href="https://wklchris.github.io/Py3-pandas.html#ç»Ÿè®¡ä¿¡æ¯dfdescribe-svalue_counts--unique">https://wklchris.github.io/Py3-pandas.html#%E7%BB%9F%E8%AE%A1%E4%BF%A1%E6%81%AFdfdescribe-svalue_countsâ€”unique</a></p>
<p>[5].<a href="https://zh.wikipedia.org/wiki/å¤šå±‚æ„ŸçŸ¥å™¨">https://zh.wikipedia.org/wiki/%E5%A4%9A%E5%B1%82%E6%84%9F%E7%9F%A5%E5%99%A8</a></p>
<p>[6].<a href="https://blog.csdn.net/weixin_39807102/article/details/81912566">https://blog.csdn.net/weixin_39807102/article/details/81912566</a></p>
<p>[7].<a href="https://github.com/maiwen/NLP">https://github.com/maiwen/NLP</a></p>
<p>[8]. <a href="https://zh.wikipedia.org/wiki/æ­£åˆ™è¡¨è¾¾å¼">https://zh.wikipedia.org/wiki/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F</a></p>
<p>[9].<a href="https://blog.csdn.net/u012609509/article/details/72911564">https://blog.csdn.net/u012609509/article/details/72911564</a></p>
<p>[10]. <a href="https://www.kaggle.com/tunguz/more-effective-ridge-lgbm-script-lb-0-44823">https://www.kaggle.com/tunguz/more-effective-ridge-lgbm-script-lb-0-44823</a></p>
<p>[11]. <a href="https://qiita.com/kazuhirokomoda/items/1e9b7ebcacf264b2d814">https://qiita.com/kazuhirokomoda/items/1e9b7ebcacf264b2d814</a></p>
<p>[12]. <a href="https://www.jianshu.com/p/c532424541ad">https://www.jianshu.com/p/c532424541ad</a></p>
<p>[13]. <a href="https://www.jiqizhixin.com/articles/2017-11-13-7">https://www.jiqizhixin.com/articles/2017-11-13-7</a></p>
]]></content>
      <categories>
        <category>NLP (Natural Language Processing)</category>
      </categories>
  </entry>
  <entry>
    <title>Linuxå¼€å‘ç¯å¢ƒåŠåº”ç”¨ä½œä¸š1</title>
    <url>/201911/Linux%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E5%8F%8A%E5%BA%94%E7%94%A8%E4%BD%9C%E4%B8%9A%2020191031/</url>
    <content><![CDATA[<h2 id="ä½œä¸šè¦æ±‚"><a href="#ä½œä¸šè¦æ±‚" class="headerlink" title="ä½œä¸šè¦æ±‚"></a>ä½œä¸šè¦æ±‚</h2><p>ä»å› ç‰¹ç½‘ä¸Šæœç´¢ç›¸å…³Webç½‘é¡µï¼Œå¤„ç†ç½‘é¡µ<code>html</code>æ•°æ®ï¼Œä»ä¸­æå–å‡ºå½“å‰æ—¶é—´ç‚¹åŒ—äº¬å„ç›‘æµ‹ç«™çš„ PM2.5æµ“åº¦ï¼Œè¾“å‡ºæ ¼å¼å¦‚ä¸‹ã€‚è¦æ±‚ï¼šå†™å‡ºå„ä¸ªå¤„ ç†æ­¥éª¤ï¼Œå¹¶ç»™å‡ºè§£é‡Šã€‚<br>2018-03-15 13:00:00,æµ·æ·€åŒºä¸‡æŸ³,73<br>2018-03-15 13:00:00,æ˜Œå¹³é•‡,67<br>2018-03-15 13:00:00,å¥¥ä½“ä¸­å¿ƒ,66<br>2018-03-15 14:00:00,æµ·æ·€åŒºä¸‡æŸ³,73<br>2018-03-15 14:00:00,æ˜Œå¹³é•‡,73<br>2018-03-15 14:00:00,å¥¥ä½“ä¸­å¿ƒ,75</p>
<span id="more"></span>
<h2 id="å®éªŒè¿‡ç¨‹"><a href="#å®éªŒè¿‡ç¨‹" class="headerlink" title="å®éªŒè¿‡ç¨‹"></a>å®éªŒè¿‡ç¨‹</h2><h3 id="æ•°æ®æœé›†"><a href="#æ•°æ®æœé›†" class="headerlink" title="æ•°æ®æœé›†"></a>æ•°æ®æœé›†</h3><p>åŒ—äº¬å„ç›‘æµ‹ç«™çš„<code>PM2.5</code>æŒ‡æ•°çš„æ•°æ®æ¥æºç½‘ç«™ï¼š<a href="http://www.86pm25.com/city/beijing.html">http://www.86pm25.com/city/beijing.html</a><br><img src="https://s2.ax1x.com/2019/10/31/K5rmkV.jpg" alt=""></p>
<h3 id="æ•°æ®æ•´ç†åŠæ±‡æ€»"><a href="#æ•°æ®æ•´ç†åŠæ±‡æ€»" class="headerlink" title="æ•°æ®æ•´ç†åŠæ±‡æ€»"></a>æ•°æ®æ•´ç†åŠæ±‡æ€»</h3><p>å…ˆå±•ç¤ºå®ç°è¯¥æ“ä½œçš„æŒ‡ä»¤å’Œæœ€åçš„ç»“æœï¼š<br><img src="https://s2.ax1x.com/2019/10/31/K5rl6J.jpg" alt=""><br><img src="https://s2.ax1x.com/2019/10/31/K5rQl4.jpg" alt=""><br><img src="https://s2.ax1x.com/2019/10/31/K5rJTx.jpg" alt=""></p>
<p>ä¸‹é¢è¯¦ç»†è§£é‡ŠæŒ‡ä»¤ï¼š</p>
<ol>
<li>é¦–å…ˆåˆ©ç”¨<tr>æ ‡ç­¾æŠŠæ•°æ®åˆ†æˆå•ç‹¬çš„è¡Œï¼Œ<code>sed -e &#39;s/&lt;tr/\n&lt;tr/g&#39;</code></li>
<li>å…¶æ¬¡åˆ æ‰htmlæ–‡ä»¶ä¸­çš„æ‰€æœ‰æ ‡ç­¾<code>-e &#39;s/&lt;[^&lt;&gt;]*&gt;/ /g</code>ï¼ŒæŠŠæ‰€æœ‰æ ‡ç­¾éƒ½æ¢æˆäº†ç©ºæ ¼ã€‚</li>
<li>æˆ‘å…ˆåœ¨htmlæ–‡ä»¶ä¸­å¯»æ‰¾æ—¥æœŸå’Œæ—¶é—´ï¼Œå‘ç°æ—¶é—´çš„é‚£ä¸€è¡Œæœ‰â€œæ›´æ–°â€çš„å­—æ ·ï¼Œäºæ˜¯å»ºç«‹awkæ–‡ä»¶ï¼Œæ­¤æ—¶å‘ç°â€œæ›´æ–°â€åé¢ä¸­æ–‡çš„å†’å·ç´§è·Ÿç€æ—¥æœŸï¼Œæ²¡å‘æŠŠæ—¥æœŸåˆ†ç¦»å¼€ï¼Œäºæ˜¯å…ˆåœ¨ä¸­æ–‡å†’å·åé¢æ·»åŠ ç©ºæ ¼ã€‚é¡ºä¾¿æŠŠæ—¥æœŸå’Œæ—¶é—´çš„æ ¼å¼æ”¹æˆæ ‡å‡†çš„è¾“å‡ºçš„æ ¼å¼ã€‚<code>-e &#39;s/ï¼š/ï¼š /g&#39; -e &#39;s/[å¹´æœˆ]/-/g&#39; -e &#39;s/æ—¥//g -e &#39;s/æ—¶/:00:00/g&#39;</code><br><img src="https://s2.ax1x.com/2019/10/31/K5rrnA.jpg" alt=""></li>
<li>æ­¤æ—¶å¯ä»¥æŠŠæ—¶é—´å’Œæ—¥æœŸæŠ½ç¦»å‡ºæ¥äº†ã€‚åœ¨å»ºç«‹çš„awkæ–‡ä»¶ä¸­è¾“å…¥<code>/æ›´æ–°/ &#123;data = $2; time = $3&#125;</code></li>
<li>å¾—åˆ°æ—¥æœŸå’Œæ—¶é—´ ä¹‹åï¼Œæˆ‘ä»¬å»æ‰¾ç›‘æµ‹ç«™å’Œpm2.5æŒ‡æ•°ï¼Œå‘ç°åœ¨è¿™äº›æ•°æ®æœ€åéƒ½æœ‰$m^3$å•ä½åœ¨ï¼Œäºæ˜¯åœ¨awkæ–‡ä»¶ä¸­æ·»åŠ <code>/m3/&#123;printf(&quot;%s %s,%s,%s\n&quot;,date, time, $1, $3);&#125;</code><br><img src="https://s2.ax1x.com/2019/10/31/K5rs0I.jpg" alt=""></li>
<li>æœ€åæŠŠå•ä½åˆ æ‰ï¼Œå¹¶è¾“å‡ºåˆ°csvæ–‡ä»¶ä¸­å³å¯ã€‚<code>awk -f flow.awk | sed -e &#39;s/[ug/m3]//g&#39; &gt; flow.csv</code></li>
</ol>
]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>æ–‡æœ¬å¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title>ç¥ç»ç½‘ç»œå‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­ç®—æ³•æ¨å¯¼</title>
    <url>/201911/%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E4%BD%9C%E4%B8%9A%E6%8A%A5%E5%91%8A/</url>
    <content><![CDATA[<h2 id="ä¸€ã€ç›®æ ‡"><a href="#ä¸€ã€ç›®æ ‡" class="headerlink" title="ä¸€ã€ç›®æ ‡"></a>ä¸€ã€ç›®æ ‡</h2><ol>
<li>æ¨å¯¼å…·æœ‰å•éšå±‚çš„ç¥ç»ç½‘ç»œçš„å‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­ç®—æ³•ï¼Œå¹¶è¿›è¡Œç¼–ç¨‹ï¼ˆå¯ä»¥ä½¿ç”¨<code>sklearn</code>ä¸­çš„ç¥ç»ç½‘ç»œï¼‰ã€‚<ul>
<li>æ¢è®¨10ï¼Œ30ï¼Œ100ï¼Œ300ï¼Œ1000ï¼Œä¸åŒéšè—èŠ‚ç‚¹æ•°å¯¹ç½‘ç»œæ€§èƒ½çš„å½±å“ã€‚</li>
<li>æ¢è®¨ä¸åŒå­¦ä¹ ç‡å’Œè¿­ä»£æ¬¡æ•°å¯¹ç½‘ç»œæ€§èƒ½çš„å½±å“ã€‚</li>
<li>æ”¹å˜æ•°æ®çš„æ ‡å‡†åŒ–æ–¹æ³•ï¼Œæ¢è®¨å¯¹è®­ç»ƒçš„å½±å“ã€‚</li>
</ul>
</li>
<li>æŸ¥é˜…èµ„æ–™è¯´æ˜ä»€ä¹ˆæ˜¯<code>Hebb</code>å­¦ä¹ è§„åˆ™</li>
</ol>
<span id="more"></span>
<h2 id="äºŒã€æ¨å¯¼å•éšå±‚ç¥ç»ç½‘ç»œçš„å‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­ç®—æ³•"><a href="#äºŒã€æ¨å¯¼å•éšå±‚ç¥ç»ç½‘ç»œçš„å‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­ç®—æ³•" class="headerlink" title="äºŒã€æ¨å¯¼å•éšå±‚ç¥ç»ç½‘ç»œçš„å‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­ç®—æ³•"></a>äºŒã€æ¨å¯¼å•éšå±‚ç¥ç»ç½‘ç»œçš„å‰å‘ä¼ æ’­å’Œåå‘ä¼ æ’­ç®—æ³•</h2><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://blog.csdn.net/Lucky_Go/article/details/89738286">https://blog.csdn.net/Lucky_Go/article/details/89738286</a><br><img src="image4\reduction1.jpg" alt=""><br><img src="image4\reduction2.jpg" alt=""><br><img src="image4\reduction3.jpg" alt=""><br><img src="image4\reduction4.jpg" alt=""></p>
<h2 id="ä¸‰ã€ç®—æ³•å®ç°"><a href="#ä¸‰ã€ç®—æ³•å®ç°" class="headerlink" title="ä¸‰ã€ç®—æ³•å®ç°"></a>ä¸‰ã€ç®—æ³•å®ç°</h2><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://blog.csdn.net/zsx17/article/details/89342506">https://blog.csdn.net/zsx17/article/details/89342506</a></p>
<p>å› ä¸ºç½‘ä¸Šç¥ç»ç½‘ç»œçš„ä»£ç åŸºæœ¬éƒ½æ˜¯ç”¨<code>tensorflow</code>å®ç°çš„ï¼Œè¿™é‡Œæ˜¯ç›´æ¥è°ƒåº“ã€‚åœ¨å®Œæˆäº†ä½œä¸šçš„åŸºæœ¬è¦æ±‚ä¹‹åæˆ‘ä¹Ÿå°è¯•äº†è‡ªå·±å®ç°å•éšå±‚ç¥ç»ç½‘ç»œçš„ä»£ç ï¼ˆåœ¨å®éªŒæŠ¥å‘Šçš„åéƒ¨åˆ†ï¼‰ã€‚</p>
<h3 id="1-è½½å…¥æ•°æ®"><a href="#1-è½½å…¥æ•°æ®" class="headerlink" title="1. è½½å…¥æ•°æ®"></a>1. è½½å…¥æ•°æ®</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 1ã€è½½å…¥æ•°æ®</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> tensorflow <span class="keyword">as</span> tf</span><br><span class="line"><span class="keyword">import</span> tensorflow.examples.tutorials.mnist.input_data <span class="keyword">as</span> input_data</span><br><span class="line"></span><br><span class="line"><span class="comment"># è¯»å–mnistæ•°æ®</span></span><br><span class="line">mnist = input_data.read_data_sets(<span class="string">&#x27;MNIST_data/&#x27;</span>, one_hot=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<h3 id="2-å»ºç«‹æ¨¡å‹"><a href="#2-å»ºç«‹æ¨¡å‹" class="headerlink" title="2. å»ºç«‹æ¨¡å‹"></a>2. å»ºç«‹æ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 2.å»ºç«‹æ¨¡å‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.1 æ„å»ºè¾“å…¥å±‚</span></span><br><span class="line">x = tf.placeholder(tf.float32, [<span class="literal">None</span>, <span class="number">784</span>], name=<span class="string">&#x27;X&#x27;</span>)</span><br><span class="line">y = tf.placeholder(tf.float32, [<span class="literal">None</span>, <span class="number">10</span>], name=<span class="string">&#x27;Y&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.2 æ„å»ºéšè—å±‚</span></span><br><span class="line"><span class="comment"># éšè—å±‚ç¥ç»å…ƒæ•°é‡(éšæ„è®¾ç½®ï¼‰</span></span><br><span class="line">H1_NN = <span class="number">256</span></span><br><span class="line"><span class="comment"># æƒé‡</span></span><br><span class="line">W1 = tf.Variable(tf.random_normal([<span class="number">784</span>, H1_NN]))</span><br><span class="line"><span class="comment"># åç½®é¡¹</span></span><br><span class="line">b1 = tf.Variable(tf.zeros([H1_NN]))</span><br><span class="line"></span><br><span class="line">Y1 = tf.nn.relu(tf.matmul(x, W1) + b1)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2.3 æ„å»ºè¾“å‡ºå±‚</span></span><br><span class="line">W2 = tf.Variable(tf.random_normal([H1_NN, <span class="number">10</span>]))</span><br><span class="line">b2 = tf.Variable(tf.zeros([<span class="number">10</span>]))</span><br><span class="line"></span><br><span class="line">forward = tf.matmul(Y1, W2) + b2</span><br><span class="line">pred = tf.nn.softmax(forward)</span><br></pre></td></tr></table></figure>
<h3 id="3-è®­ç»ƒæ¨¡å‹"><a href="#3-è®­ç»ƒæ¨¡å‹" class="headerlink" title="3. è®­ç»ƒæ¨¡å‹"></a>3. è®­ç»ƒæ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 3.è®­ç»ƒæ¨¡å‹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.1 å®šä¹‰æŸå¤±å‡½æ•°</span></span><br><span class="line"><span class="comment"># tensorflowæä¾›äº†ä¸‹é¢çš„å‡½æ•°ï¼Œç”¨äºé¿å…log(0)å€¼ä¸ºNané€ æˆæ•°æ®ä¸ç¨³å®š</span></span><br><span class="line">loss_function = tf.reduce_mean(tf.nn.softmax_cross_entropy_with_logits(logits=forward, labels=y))</span><br><span class="line"><span class="comment"># # äº¤å‰ç†µæŸå¤±å‡½æ•°</span></span><br><span class="line"><span class="comment"># loss_function = tf.reduce_mean(-tf.reduce_sum(y*tf.log(pred), reduction_indices=1))</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.2 è®¾ç½®è®­ç»ƒå‚æ•°</span></span><br><span class="line">train_epochs = <span class="number">40</span>  <span class="comment"># è®­ç»ƒè½®æ•°</span></span><br><span class="line">batch_size = <span class="number">50</span>  <span class="comment"># å•æ¬¡è®­ç»ƒæ ·æœ¬æ•°(æ‰¹æ¬¡å¤§å°)</span></span><br><span class="line"><span class="comment"># ä¸€è½®è®­ç»ƒçš„æ‰¹æ¬¡æ•°</span></span><br><span class="line">total_batch = <span class="built_in">int</span>(mnist.train.num_examples / batch_size)</span><br><span class="line">display_step = <span class="number">1</span>  <span class="comment"># æ˜¾ç¤ºç²’æ•°</span></span><br><span class="line">learning_rate = <span class="number">0.01</span>  <span class="comment"># å­¦ä¹ ç‡</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.2 é€‰æ‹©ä¼˜åŒ–å™¨</span></span><br><span class="line">optimizer = tf.train.AdamOptimizer(learning_rate).minimize(loss_function)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.3å®šä¹‰å‡†ç¡®ç‡</span></span><br><span class="line">correct_prediction = tf.equal(tf.argmax(y, <span class="number">1</span>), tf.argmax(pred, <span class="number">1</span>))</span><br><span class="line">accuracy = tf.reduce_mean(tf.cast(correct_prediction, tf.float32))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3.4 æ¨¡å‹çš„è®­ç»ƒ</span></span><br><span class="line"><span class="comment"># è®°å½•è®­ç»ƒå¼€å§‹çš„æ—¶é—´</span></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line">startTime = time()</span><br><span class="line"></span><br><span class="line">sess = tf.Session()</span><br><span class="line">sess.run(tf.global_variables_initializer())</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(train_epochs):</span><br><span class="line">    <span class="keyword">for</span> batch <span class="keyword">in</span> <span class="built_in">range</span>(total_batch):</span><br><span class="line">        <span class="comment"># è¯»å–æ‰¹æ¬¡è®­ç»ƒæ•°æ®</span></span><br><span class="line">        xs, ys = mnist.train.next_batch(batch_size)</span><br><span class="line">        <span class="comment"># æ‰§è¡Œæ‰¹æ¬¡è®­ç»ƒ</span></span><br><span class="line">        sess.run(optimizer, feed_dict=&#123;x: xs, y: ys&#125;)</span><br><span class="line">    <span class="comment"># åœ¨total_batchæ‰¹æ¬¡æ•°æ®è®­ç»ƒå®Œæˆåï¼Œä½¿ç”¨éªŒè¯æ•°æ®è®¡ç®—è¯¯å·®å’Œå‡†ç¡®ç‡ï¼ŒéªŒè¯é›†ä¸åˆ†æ‰¹</span></span><br><span class="line">    loss, acc = sess.run([loss_function, accuracy], feed_dict=&#123;x: mnist.validation.images, y: mnist.validation.labels&#125;)</span><br><span class="line">    <span class="comment"># æ‰“å°è®­ç»ƒè¿‡ç¨‹ä¸­çš„è¯¦ç»†ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">if</span> (epoch + <span class="number">1</span>) % display_step == <span class="number">0</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;è®­ç»ƒè½®æ¬¡ï¼š&#x27;</span>, <span class="string">&#x27;%02d&#x27;</span> % (epoch + <span class="number">1</span>),</span><br><span class="line">              <span class="string">&#x27;æŸå¤±ï¼š&#x27;</span>, <span class="string">&#x27;&#123;:.9f&#125;&#x27;</span>.<span class="built_in">format</span>(loss),</span><br><span class="line">              <span class="string">&#x27;å‡†ç¡®ç‡ï¼š&#x27;</span>, <span class="string">&#x27;&#123;:.4f&#125;&#x27;</span>.<span class="built_in">format</span>(acc))</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;è®­ç»ƒç»“æŸ&#x27;</span>)</span><br><span class="line"><span class="comment"># æ˜¾ç¤ºæ€»è¿è¡Œæ—¶é—´</span></span><br><span class="line">duration = time() - startTime</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;æ€»è¿è¡Œæ—¶é—´ä¸ºï¼š&quot;</span>, <span class="string">&quot;&#123;:.2f&#125;&quot;</span>.<span class="built_in">format</span>(duration))</span><br></pre></td></tr></table></figure>
<h3 id="4-æ¨¡å‹è¯„ä¼°"><a href="#4-æ¨¡å‹è¯„ä¼°" class="headerlink" title="4. æ¨¡å‹è¯„ä¼°"></a>4. æ¨¡å‹è¯„ä¼°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 4.è¯„ä¼°æ¨¡å‹</span></span><br><span class="line">accu_test = sess.run(accuracy,</span><br><span class="line">                     feed_dict=&#123;x: mnist.test.images, y: mnist.test.labels&#125;)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;æµ‹è¯•é›†å‡†ç¡®ç‡ï¼š&#x27;</span>, accu_test)</span><br></pre></td></tr></table></figure>
<h3 id="5-åº”ç”¨æ¨¡å‹"><a href="#5-åº”ç”¨æ¨¡å‹" class="headerlink" title="5. åº”ç”¨æ¨¡å‹"></a>5. åº”ç”¨æ¨¡å‹</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 5.åº”ç”¨æ¨¡å‹</span></span><br><span class="line">prediction_result = sess.run(tf.argmax(pred, <span class="number">1</span>), feed_dict=&#123;x: mnist.test.images&#125;)</span><br><span class="line"><span class="comment"># æŸ¥çœ‹é¢„æµ‹ç»“æœçš„å‰10é¡¹</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;å‰10é¡¹çš„ç»“æœï¼š&quot;</span>, prediction_result[<span class="number">0</span>:<span class="number">10</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 5.1æ‰¾å‡ºé¢„æµ‹é”™è¯¯çš„æ ·æœ¬</span></span><br><span class="line">compare_lists = prediction_result == np.argmax(mnist.test.labels, <span class="number">1</span>)</span><br><span class="line"><span class="built_in">print</span>(compare_lists)</span><br><span class="line">err_lists = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(compare_lists)) <span class="keyword">if</span> compare_lists[i] == <span class="literal">False</span>]</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;é¢„æµ‹é”™è¯¯çš„å›¾ç‰‡ï¼š&#x27;</span>, err_lists)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;é¢„æµ‹é”™è¯¯å›¾ç‰‡çš„æ€»æ•°ï¼š&#x27;</span>, <span class="built_in">len</span>(err_lists))</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®šä¹‰ä¸€ä¸ªè¾“å‡ºé”™è¯¯åˆ†ç±»çš„å‡½æ•°</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">print_predict_errs</span>(<span class="params">labels,  <span class="comment"># æ ‡ç­¾åˆ—è¡¨</span></span></span><br><span class="line"><span class="params">                       prediction</span>):  <span class="comment"># é¢„æµ‹å€¼åˆ—è¡¨</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    compare_lists = (prediction == np.argmax(labels, <span class="number">1</span>))</span><br><span class="line">    err_lists = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(compare_lists)) <span class="keyword">if</span> compare_lists[i] == <span class="literal">False</span>]</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> err_lists:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;index=&#x27;</span> + <span class="built_in">str</span>(x) + <span class="string">&#x27;æ ‡ç­¾å€¼=&#x27;</span>, np.argmax(labels[x]), <span class="string">&#x27;é¢„æµ‹å€¼=&#x27;</span>, prediction[x])</span><br><span class="line">        count = count + <span class="number">1</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ€»è®¡ï¼š&quot;</span> + <span class="built_in">str</span>(count))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print_predict_errs(labels=mnist.test.labels, prediction=prediction_result)</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¯è§†åŒ–</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plot_images_labels_prediction</span>(<span class="params">images,  <span class="comment"># å›¾åƒåˆ—è¡¨</span></span></span><br><span class="line"><span class="params">                                  labels,  <span class="comment"># æ ‡ç­¾åˆ—è¡¨</span></span></span><br><span class="line"><span class="params">                                  predication,  <span class="comment"># é¢„æµ‹å€¼åˆ—è¡¨</span></span></span><br><span class="line"><span class="params">                                  index,  <span class="comment"># ä»ç¬¬indexä¸ªå¼€å§‹æ˜¾ç¤º</span></span></span><br><span class="line"><span class="params">                                  num=<span class="number">10</span></span>):  <span class="comment"># ç¼ºçœä¸€æ¬¡æ˜¾ç¤º10å¹…</span></span><br><span class="line">    fig = plt.gcf()  <span class="comment"># è·å–å½“å‰å›¾è¡¨ï¼Œget current figure</span></span><br><span class="line">    fig.set_size_inches(<span class="number">10</span>, <span class="number">12</span>)  <span class="comment"># è®¾ä¸ºè‹±å¯¸ï¼Œ1è‹±å¯¸=2.53å˜ç±³</span></span><br><span class="line">    <span class="keyword">if</span> num &gt; <span class="number">25</span>:</span><br><span class="line">        num = <span class="number">25</span>  <span class="comment"># æœ€å¤šæ˜¾ç¤º25ä¸ªå­å›¾</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, num):</span><br><span class="line">        ax = plt.subplot(<span class="number">5</span>, <span class="number">5</span>, i + <span class="number">1</span>)  <span class="comment"># è·å–å½“å‰è¦å¤„ç†çš„å­å›¾</span></span><br><span class="line">        <span class="comment"># æ˜¾ç¤ºç¬¬indexå›¾åƒ</span></span><br><span class="line">        ax.imshow(np.reshape(images[index], (<span class="number">28</span>, <span class="number">28</span>)), cmap=<span class="string">&#x27;binary&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ„å»ºè¯¥å›¾ä¸Šæ˜¾ç¤ºçš„title</span></span><br><span class="line">        title = <span class="string">&#x27;label=&#x27;</span> + <span class="built_in">str</span>(np.argmax(labels[index]))</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(predication) &gt; <span class="number">0</span>:</span><br><span class="line">            title += <span class="string">&quot;,predict=&quot;</span> + <span class="built_in">str</span>(predication[index])</span><br><span class="line"></span><br><span class="line">        <span class="comment"># æ˜¾ç¤ºå›¾ä¸Šçš„titleä¿¡æ¯</span></span><br><span class="line">        ax.set_title(title, fontsize=<span class="number">10</span>)</span><br><span class="line">        ax.set_xticks([])  <span class="comment"># ä¸æ˜¾ç¤ºåæ ‡è½´</span></span><br><span class="line">        ax.set_yticks([])</span><br><span class="line">        index += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plot_images_labels_prediction(mnist.test.images,</span><br><span class="line">                              mnist.test.labels,</span><br><span class="line">                              prediction_result, <span class="number">10</span>, <span class="number">25</span>)</span><br><span class="line">plot_images_labels_prediction(mnist.test.images,</span><br><span class="line">                              mnist.test.labels,</span><br><span class="line">                              prediction_result, <span class="number">610</span>, <span class="number">20</span>)</span><br></pre></td></tr></table></figure>
<h3 id="6-ç»“æœå±•ç¤º"><a href="#6-ç»“æœå±•ç¤º" class="headerlink" title="6. ç»“æœå±•ç¤º"></a>6. ç»“æœå±•ç¤º</h3><p>ä¸Šé¢çš„ä»£ç ä¸­éšå±‚èŠ‚ç‚¹ä¸ªæ•°ä¸º256ä¸ªï¼Œå­¦ä¹ ç‡ä¸º0.01ï¼Œè¿­ä»£æ¬¡æ•°ä¸º40æ¬¡ã€‚è®­ç»ƒç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="image4\256-0.01-40.jpg" alt=""></p>
<p>éƒ¨åˆ†åˆ†ç±»å›¾åƒå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<p><img src="image4\256-0.01-40-1.jpg" alt=""></p>
<p><img src="image4\256-0.01-40-2.jpg" alt=""></p>
<h2 id="å››ã€ç®—æ³•è°ƒä¼˜"><a href="#å››ã€ç®—æ³•è°ƒä¼˜" class="headerlink" title="å››ã€ç®—æ³•è°ƒä¼˜"></a>å››ã€ç®—æ³•è°ƒä¼˜</h2><p>åœ¨ä¸Šé¢çš„æ¨¡å‹ä¸­éšå±‚ç»“ç‚¹æ•°ä¸º256ï¼Œå­¦ä¹ ç‡ä¸º0.01ï¼Œè¿­ä»£æ¬¡æ•°ä¸º40æ¬¡ã€‚</p>
<p>ä¸‹é¢åˆ†åˆ«ä»éšå±‚èŠ‚ç‚¹æ•°ã€å­¦ä¹ ç‡å’Œè¿­ä»£æ¬¡æ•°ä¸‰ä¸ªè§’åº¦è¿›è¡Œè°ƒä¼˜ã€‚</p>
<h3 id="1-éšå±‚èŠ‚ç‚¹æ•°"><a href="#1-éšå±‚èŠ‚ç‚¹æ•°" class="headerlink" title="1. éšå±‚èŠ‚ç‚¹æ•°"></a>1. éšå±‚èŠ‚ç‚¹æ•°</h3><p>å°†éšå±‚èŠ‚ç‚¹æ•°è®¾ä¸º10ï¼Œå¾—åˆ°çš„ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src="image4\10-0.01-40.jpg" alt=""></p>
<p>å°†éšå±‚èŠ‚ç‚¹è®¾ä¸º30ï¼Œ100ï¼Œ300ï¼Œ1000çš„æ•ˆæœä¸å†å…·ä½“å±•ç¤ºï¼Œæ•ˆæœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">éšå±‚èŠ‚ç‚¹ä¸ªæ•°</th>
<th style="text-align:center">æ€»è¿è¡Œæ—¶é—´/s</th>
<th style="text-align:center">é¢„æµ‹é”™è¯¯çš„å›¾ç‰‡æ•°</th>
<th style="text-align:center">å‡†ç¡®ç‡</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">10</td>
<td style="text-align:center">46.29</td>
<td style="text-align:center">736</td>
<td style="text-align:center">0.9264</td>
</tr>
<tr>
<td style="text-align:center">30</td>
<td style="text-align:center">43.46</td>
<td style="text-align:center">528</td>
<td style="text-align:center">0.9472</td>
</tr>
<tr>
<td style="text-align:center">100</td>
<td style="text-align:center">59.06</td>
<td style="text-align:center">343</td>
<td style="text-align:center">0.9657</td>
</tr>
<tr>
<td style="text-align:center">256</td>
<td style="text-align:center">84.48</td>
<td style="text-align:center">249</td>
<td style="text-align:center">0.9751</td>
</tr>
<tr>
<td style="text-align:center">300</td>
<td style="text-align:center">76.64</td>
<td style="text-align:center">269</td>
<td style="text-align:center">0.9731</td>
</tr>
<tr>
<td style="text-align:center">1000</td>
<td style="text-align:center">302.27</td>
<td style="text-align:center">240</td>
<td style="text-align:center">0.976</td>
</tr>
</tbody>
</table>
</div>
<p>ç”±è¡¨å¯çŸ¥ï¼Œå‡†ç¡®ç‡éšç€éšå±‚èŠ‚ç‚¹ä¸ªæ•°çš„å¢åŠ è€Œå¢åŠ ï¼Œå¢åŠ é€Ÿç‡é€æ­¥å‡å°‘ã€‚</p>
<h3 id="2-å­¦ä¹ ç‡"><a href="#2-å­¦ä¹ ç‡" class="headerlink" title="2. å­¦ä¹ ç‡"></a>2. å­¦ä¹ ç‡</h3><p>å­¦ä¹ ç‡åˆ†åˆ«ä¸º0.005ï¼Œ0.01ï¼Œ 0.02ï¼Œ 0.1ï¼Œéšå±‚èŠ‚ç‚¹æ•°é€‰æ‹©256ï¼Œè¿­ä»£æ¬¡æ•°é€‰æ‹©40ã€‚åˆ†ç±»ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">å­¦ä¹ ç‡</th>
<th style="text-align:center">æ€»è¿è¡Œæ—¶é—´/s</th>
<th style="text-align:center">é¢„æµ‹é”™è¯¯çš„å›¾ç‰‡æ•°</th>
<th style="text-align:center">å‡†ç¡®ç‡</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0.005</td>
<td style="text-align:center">78.81</td>
<td style="text-align:center">231</td>
<td style="text-align:center">0.9769</td>
</tr>
<tr>
<td style="text-align:center">0.01</td>
<td style="text-align:center">84.48</td>
<td style="text-align:center">249</td>
<td style="text-align:center">0.9751</td>
</tr>
<tr>
<td style="text-align:center">0.02</td>
<td style="text-align:center">69.72</td>
<td style="text-align:center">446</td>
<td style="text-align:center">0.9554</td>
</tr>
<tr>
<td style="text-align:center">0.1</td>
<td style="text-align:center">73.87</td>
<td style="text-align:center">2561</td>
<td style="text-align:center">0.7439</td>
</tr>
</tbody>
</table>
</div>
<p>ç”±è¡¨å¯çŸ¥ï¼Œå‡†ç¡®ç‡éšç€å­¦ä¹ ç‡çš„å¢åŠ è€Œé™ä½ã€‚åœ¨å­¦ä¹ ç‡ä½äº0.01æ—¶ï¼Œå›¾ç‰‡åˆ†ç±»çš„å‡†ç¡®ç‡æå‡çš„é€Ÿç‡è¾ƒå°ã€‚</p>
<h3 id="3-è¿­ä»£æ¬¡æ•°"><a href="#3-è¿­ä»£æ¬¡æ•°" class="headerlink" title="3. è¿­ä»£æ¬¡æ•°"></a>3. è¿­ä»£æ¬¡æ•°</h3><p>è¿­ä»£æ¬¡æ•°åˆ†åˆ«ä¸º20ï¼Œ40ï¼Œ100ï¼Œéšå±‚èŠ‚ç‚¹æ•°é€‰æ‹©256ï¼Œå­¦ä¹ ç‡é€‰æ‹©0.01ã€‚åˆ†ç±»ç»“æœå¦‚ä¸‹ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">è¿­ä»£æ¬¡æ•°</th>
<th style="text-align:center">æ€»è¿è¡Œæ—¶é—´/s</th>
<th style="text-align:center">é¢„æµ‹é”™è¯¯çš„å›¾ç‰‡æ•°</th>
<th style="text-align:center">å‡†ç¡®ç‡</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">20</td>
<td style="text-align:center">37.12</td>
<td style="text-align:center">307</td>
<td style="text-align:center">0.9693</td>
</tr>
<tr>
<td style="text-align:center">40</td>
<td style="text-align:center">84.48</td>
<td style="text-align:center">249</td>
<td style="text-align:center">0.9751</td>
</tr>
<tr>
<td style="text-align:center">100</td>
<td style="text-align:center">184.39</td>
<td style="text-align:center">239</td>
<td style="text-align:center">0.9761</td>
</tr>
</tbody>
</table>
</div>
<p>ç”±è¡¨å¯çŸ¥ï¼Œè¿­ä»£æ¬¡æ•°å¯¹æ€»è¿è¡Œæ—¶é—´çš„å½±å“ç‡å¾ˆå¤§ï¼Œå‡†ç¡®ç‡éšç€è¿­ä»£æ¬¡æ•°çš„å¢åŠ è€Œå¢åŠ ï¼Œä½†å¯¹å‡†ç¡®ç‡èµ·å†³å®šå› ç´ çš„è¿˜æ˜¯éšå±‚çš„èŠ‚ç‚¹ä¸ªæ•°ä»¥åŠå­¦ä¹ ç‡ã€‚</p>
<h3 id="4-æ”¹å˜æ•°æ®æ ‡å‡†åŒ–æ–¹æ³•"><a href="#4-æ”¹å˜æ•°æ®æ ‡å‡†åŒ–æ–¹æ³•" class="headerlink" title="4. æ”¹å˜æ•°æ®æ ‡å‡†åŒ–æ–¹æ³•"></a>4. æ”¹å˜æ•°æ®æ ‡å‡†åŒ–æ–¹æ³•</h3><h4 id="æœ€å¤§-æœ€å°è§„èŒƒåŒ–"><a href="#æœ€å¤§-æœ€å°è§„èŒƒåŒ–" class="headerlink" title="æœ€å¤§-æœ€å°è§„èŒƒåŒ–"></a>æœ€å¤§-æœ€å°è§„èŒƒåŒ–</h4><h4 id="Z-scoreè§„èŒƒåŒ–"><a href="#Z-scoreè§„èŒƒåŒ–" class="headerlink" title="Z-scoreè§„èŒƒåŒ–"></a><code>Z-score</code>è§„èŒƒåŒ–</h4><h2 id="äº”ã€Hebbå­¦ä¹ è§„åˆ™"><a href="#äº”ã€Hebbå­¦ä¹ è§„åˆ™" class="headerlink" title="äº”ã€Hebbå­¦ä¹ è§„åˆ™"></a>äº”ã€<code>Hebb</code>å­¦ä¹ è§„åˆ™</h2><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://baike.baidu.com/item/Hebbå­¦ä¹ è§„åˆ™/3061563?fr=aladdin">https://baike.baidu.com/item/Hebb%E5%AD%A6%E4%B9%A0%E8%A7%84%E5%88%99/3061563?fr=aladdin</a></p>
<p><code>Hebb</code>å­¦ä¹ è§„åˆ™æ˜¯ä¸€ä¸ªæ— ç›‘ç£å­¦ä¹ è§„åˆ™ï¼Œè¿™ç§å­¦ä¹ çš„ç»“æœæ˜¯ä½¿ç½‘ç»œèƒ½å¤Ÿæå–è®­ç»ƒé›†çš„ç»Ÿè®¡ç‰¹æ€§ï¼Œä»è€ŒæŠŠè¾“å…¥ä¿¡æ¯æŒ‰ç…§å®ƒä»¬çš„ç›¸ä¼¼æ€§ç¨‹åº¦åˆ’åˆ†ä¸ºè‹¥å¹²ç±»ã€‚è¿™ä¸€ç‚¹ä¸äººç±»è§‚å¯Ÿå’Œè®¤è¯†ä¸–ç•Œçš„è¿‡ç¨‹éå¸¸å»åˆï¼Œäººç±»è§‚å¯Ÿå’Œè®¤è¯†ä¸–ç•Œåœ¨ç›¸å½“ç¨‹åº¦ä¸Šå°±æ˜¯åœ¨æ ¹æ®äº‹ç‰©çš„ç»Ÿè®¡ç‰¹å¾è¿›è¡Œåˆ†ç±»ã€‚<code>Hebb</code>å­¦ä¹ è§„åˆ™åªæ ¹æ®ç¥ç»å…ƒè¿æ¥é—´çš„æ¿€æ´»æ°´å¹³æ”¹å˜æƒå€¼ï¼Œå› æ­¤è¿™ç§æ–¹æ³•åˆç§°ä¸ºç›¸å…³å­¦ä¹ æˆ–å¹¶è”å­¦ä¹ ã€‚</p>
<p>æ— ç›‘ç£å­¦ä¹ è§„åˆ™<br>â€ƒå”çº³å¾·Â·èµ«å¸ƒï¼ˆ1904-1985ï¼‰æ˜¯åŠ æ‹¿å¤§è‘—åç”Ÿç†å¿ƒç†å­¦å®¶ã€‚<code>Hebb</code>å­¦ä¹ è§„åˆ™ä¸â€œæ¡ä»¶åå°„â€æœºç†ä¸€è‡´ï¼Œå¹¶ä¸”å·²ç»å¾—åˆ°äº†ç¥ç»ç»†èƒå­¦è¯´çš„è¯å®ã€‚<br>â€ƒå·´ç”«æ´›å¤«çš„æ¡ä»¶åå°„å®éªŒï¼šæ¯æ¬¡ç»™ç‹—å–‚é£Ÿå‰éƒ½å…ˆå“é“ƒï¼Œæ—¶é—´ä¸€é•¿ï¼Œç‹—å°±ä¼šå°†é“ƒå£°å’Œé£Ÿç‰©è”ç³»èµ·æ¥ã€‚ä»¥åå¦‚æœå“é“ƒä½†æ˜¯ä¸ç»™é£Ÿç‰©ï¼Œç‹—ä¹Ÿä¼šæµå£æ°´ã€‚<br>â€ƒå—è¯¥å®éªŒçš„å¯å‘ï¼ŒHebbçš„ç†è®ºè®¤ä¸ºåœ¨åŒä¸€æ—¶é—´è¢«æ¿€å‘çš„ç¥ç»å…ƒé—´çš„è”ç³»ä¼šè¢«å¼ºåŒ–ã€‚æ¯”å¦‚ï¼Œé“ƒå£°å“æ—¶ä¸€ä¸ªç¥ç»å…ƒè¢«æ¿€å‘ï¼Œåœ¨åŒä¸€æ—¶é—´é£Ÿç‰©çš„å‡ºç°ä¼šæ¿€å‘é™„è¿‘çš„å¦ä¸€ä¸ªç¥ç»å…ƒï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªç¥ç»å…ƒé—´çš„è”ç³»å°±ä¼šå¼ºåŒ–ï¼Œä»è€Œè®°ä½è¿™ä¸¤ä¸ªäº‹ç‰©ä¹‹é—´å­˜åœ¨ç€è”ç³»ã€‚ç›¸åï¼Œå¦‚æœä¸¤ä¸ªç¥ç»å…ƒæ€»æ˜¯ä¸èƒ½åŒæ­¥æ¿€å‘ï¼Œé‚£ä¹ˆå®ƒä»¬é—´çš„è”ç³»å°†ä¼šè¶Šæ¥è¶Šå¼±ã€‚<br>â€ƒ<code>Hebb</code>å­¦ä¹ å¾‹å¯è¡¨ç¤ºä¸ºï¼š<br>$W<em>{ij}(t+1)=W</em>{ij}(t)+aâ‹…y<em>iâ‹…y_j$<br>$W</em>{ij}(t+1)=W_{ij}(t)+aâ‹…y_iâ‹…y_j$</p>
<p>â€ƒå…¶ä¸­$W<em>{ij}$è¡¨ç¤ºç¥ç»å…ƒ$j$åˆ°ç¥ç»å…ƒ$i$çš„è¿æ¥æƒï¼Œ$y_i$ä¸$y_j$è¡¨ç¤ºä¸¤ä¸ªç¥ç»å…ƒçš„è¾“å‡ºï¼Œ$a$æ˜¯è¡¨ç¤ºå­¦ä¹ é€Ÿç‡çš„å¸¸æ•°ï¼Œå¦‚æœ$y_i$ä¸$y_j$åŒæ—¶è¢«æ¿€æ´»ï¼Œå³$y_i$ä¸$y_j$åŒæ—¶ä¸ºæ­£ï¼Œé‚£ä¹ˆ$W</em>{ij}$å°†å¢å¤§ã€‚å¦‚æœ$y<em>i$è¢«æ¿€æ´»ï¼Œè€Œ$y_j$å¤„äºæŠ‘åˆ¶çŠ¶æ€ï¼Œå³$y_i$ä¸ºæ­£$y_j$ä¸ºè´Ÿï¼Œé‚£ä¹ˆ$W</em>{ij}$å°†å˜å°ã€‚</p>
<p><img src="https://images2015.cnblogs.com/blog/520787/201510/520787-20151021081107630-1544768706.png" alt=""></p>
<h2 id="å…­ã€-è‡ªå·±å®ç°å•éšå±‚ç¥ç»ç½‘ç»œ"><a href="#å…­ã€-è‡ªå·±å®ç°å•éšå±‚ç¥ç»ç½‘ç»œ" class="headerlink" title="å…­ã€ è‡ªå·±å®ç°å•éšå±‚ç¥ç»ç½‘ç»œ"></a>å…­ã€ è‡ªå·±å®ç°å•éšå±‚ç¥ç»ç½‘ç»œ</h2><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://blog.csdn.net/hellozhxy/article/details/81055391">https://blog.csdn.net/hellozhxy/article/details/81055391</a></p>
<p>ç½‘ç»œç»“æ„çš„å‡½æ•°å®šä¹‰ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">layer_sizes</span>(<span class="params">X, Y</span>):</span><br><span class="line">    n_x = X.shape[<span class="number">0</span>] <span class="comment"># size of input layer</span></span><br><span class="line">    n_h = <span class="number">4</span> <span class="comment"># size of hidden layer</span></span><br><span class="line">    n_y = Y.shape[<span class="number">0</span>] <span class="comment"># size of output layer</span></span><br><span class="line">    <span class="keyword">return</span> (n_x, n_h, n_y)</span><br></pre></td></tr></table></figure>
<p>å‚æ•°åˆå§‹åŒ–å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">initialize_parameters</span>(<span class="params">n_x, n_h, n_y</span>):</span><br><span class="line">    W1 = np.random.randn(n_h, n_x)*<span class="number">0.01</span></span><br><span class="line">    b1 = np.zeros((n_h, <span class="number">1</span>))</span><br><span class="line">    W2 = np.random.randn(n_y, n_h)*<span class="number">0.01</span></span><br><span class="line">    b2 = np.zeros((n_y, <span class="number">1</span>)) </span><br><span class="line">   </span><br><span class="line">    <span class="keyword">assert</span> (W1.shape == (n_h, n_x))    </span><br><span class="line">    <span class="keyword">assert</span> (b1.shape == (n_h, <span class="number">1</span>))    </span><br><span class="line">    <span class="keyword">assert</span> (W2.shape == (n_y, n_h))    </span><br><span class="line">    <span class="keyword">assert</span> (b2.shape == (n_y, <span class="number">1</span>))</span><br><span class="line">    parameters = &#123;<span class="string">&quot;W1&quot;</span>: W1, </span><br><span class="line">                  <span class="string">&quot;b1&quot;</span>: b1,                 </span><br><span class="line">                  <span class="string">&quot;W2&quot;</span>: W2,                  </span><br><span class="line">                  <span class="string">&quot;b2&quot;</span>: b2&#125;   </span><br><span class="line">                   </span><br><span class="line">    <span class="keyword">return</span> parameters</span><br></pre></td></tr></table></figure>
<p>å‰å‘ä¼ æ’­è®¡ç®—å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">forward_propagation</span>(<span class="params">X, parameters</span>):</span><br><span class="line">    <span class="comment"># Retrieve each parameter from the dictionary &quot;parameters&quot;</span></span><br><span class="line">    W1 = parameters[<span class="string">&#x27;W1&#x27;</span>]</span><br><span class="line">    b1 = parameters[<span class="string">&#x27;b1&#x27;</span>]</span><br><span class="line">    W2 = parameters[<span class="string">&#x27;W2&#x27;</span>]</span><br><span class="line">    b2 = parameters[<span class="string">&#x27;b2&#x27;</span>]    </span><br><span class="line">    <span class="comment"># Implement Forward Propagation to calculate A2 (probabilities)</span></span><br><span class="line">    Z1 = np.dot(W1, X) + b1</span><br><span class="line">    A1 = np.tanh(Z1)</span><br><span class="line">    Z2 = np.dot(W2, Z1) + b2</span><br><span class="line">    A2 = sigmoid(Z2)    </span><br><span class="line">    <span class="keyword">assert</span>(A2.shape == (<span class="number">1</span>, X.shape[<span class="number">1</span>]))</span><br><span class="line">    cache = &#123;<span class="string">&quot;Z1&quot;</span>: Z1,                   </span><br><span class="line">             <span class="string">&quot;A1&quot;</span>: A1,                   </span><br><span class="line">             <span class="string">&quot;Z2&quot;</span>: Z2,                  </span><br><span class="line">             <span class="string">&quot;A2&quot;</span>: A2&#125;    </span><br><span class="line">    <span class="keyword">return</span> A2, cache</span><br></pre></td></tr></table></figure>
<p>è®¡ç®—æŸå¤±å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">compute_cost</span>(<span class="params">A2, Y, parameters</span>):</span><br><span class="line">    m = Y.shape[<span class="number">1</span>] <span class="comment"># number of example</span></span><br><span class="line">    <span class="comment"># Compute the cross-entropy cost</span></span><br><span class="line">    logprobs = np.multiply(np.log(A2),Y) + np.multiply(np.log(<span class="number">1</span>-A2), <span class="number">1</span>-Y)</span><br><span class="line">    cost = -<span class="number">1</span>/m * np.<span class="built_in">sum</span>(logprobs)</span><br><span class="line">    cost = np.squeeze(cost)     <span class="comment"># makes sure cost is the dimension we expect.</span></span><br><span class="line">    <span class="keyword">assert</span>(<span class="built_in">isinstance</span>(cost, <span class="built_in">float</span>))    </span><br><span class="line">    <span class="keyword">return</span> cost</span><br></pre></td></tr></table></figure>
<p>åå‘ä¼ æ’­å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">backward_propagation</span>(<span class="params">parameters, cache, X, Y</span>):</span><br><span class="line">    m = X.shape[<span class="number">1</span>]    </span><br><span class="line">    <span class="comment"># First, retrieve W1 and W2 from the dictionary &quot;parameters&quot;.</span></span><br><span class="line">    W1 = parameters[<span class="string">&#x27;W1&#x27;</span>]</span><br><span class="line">    W2 = parameters[<span class="string">&#x27;W2&#x27;</span>]    </span><br><span class="line">    <span class="comment"># Retrieve also A1 and A2 from dictionary &quot;cache&quot;.</span></span><br><span class="line">    A1 = cache[<span class="string">&#x27;A1&#x27;</span>]</span><br><span class="line">    A2 = cache[<span class="string">&#x27;A2&#x27;</span>]    </span><br><span class="line">    <span class="comment"># Backward propagation: calculate dW1, db1, dW2, db2. </span></span><br><span class="line">    dZ2 = A2-Y</span><br><span class="line">    dW2 = <span class="number">1</span>/m * np.dot(dZ2, A1.T)</span><br><span class="line">    db2 = <span class="number">1</span>/m * np.<span class="built_in">sum</span>(dZ2, axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>)</span><br><span class="line">    dZ1 = np.dot(W2.T, dZ2)*(<span class="number">1</span>-np.power(A1, <span class="number">2</span>))</span><br><span class="line">    dW1 = <span class="number">1</span>/m * np.dot(dZ1, X.T)</span><br><span class="line">    db1 = <span class="number">1</span>/m * np.<span class="built_in">sum</span>(dZ1, axis=<span class="number">1</span>, keepdims=<span class="literal">True</span>)</span><br><span class="line">    grads = &#123;<span class="string">&quot;dW1&quot;</span>: dW1,</span><br><span class="line">             <span class="string">&quot;db1&quot;</span>: db1,                      </span><br><span class="line">             <span class="string">&quot;dW2&quot;</span>: dW2,             </span><br><span class="line">             <span class="string">&quot;db2&quot;</span>: db2&#125;   </span><br><span class="line">    <span class="keyword">return</span> grads</span><br></pre></td></tr></table></figure>
<p>æƒå€¼æ›´æ–°å‡½æ•°ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">update_parameters</span>(<span class="params">parameters, grads, learning_rate = <span class="number">1.2</span></span>):</span><br><span class="line">    <span class="comment"># Retrieve each parameter from the dictionary &quot;parameters&quot;</span></span><br><span class="line">    W1 = parameters[<span class="string">&#x27;W1&#x27;</span>]</span><br><span class="line">    b1 = parameters[<span class="string">&#x27;b1&#x27;</span>]</span><br><span class="line">    W2 = parameters[<span class="string">&#x27;W2&#x27;</span>]</span><br><span class="line">    b2 = parameters[<span class="string">&#x27;b2&#x27;</span>]    </span><br><span class="line">    <span class="comment"># Retrieve each gradient from the dictionary &quot;grads&quot;</span></span><br><span class="line">    dW1 = grads[<span class="string">&#x27;dW1&#x27;</span>]</span><br><span class="line">    db1 = grads[<span class="string">&#x27;db1&#x27;</span>]</span><br><span class="line">    dW2 = grads[<span class="string">&#x27;dW2&#x27;</span>]</span><br><span class="line">    db2 = grads[<span class="string">&#x27;db2&#x27;</span>]    </span><br><span class="line">    <span class="comment"># Update rule for each parameter</span></span><br><span class="line">    W1 -= dW1 * learning_rate</span><br><span class="line">    b1 -= db1 * learning_rate</span><br><span class="line">    W2 -= dW2 * learning_rate</span><br><span class="line">    b2 -= db2 * learning_rate</span><br><span class="line">    parameters = &#123;<span class="string">&quot;W1&quot;</span>: W1, </span><br><span class="line">                  <span class="string">&quot;b1&quot;</span>: b1,            </span><br><span class="line">                  <span class="string">&quot;W2&quot;</span>: W2,   </span><br><span class="line">                  <span class="string">&quot;b2&quot;</span>: b2&#125;    </span><br><span class="line">    <span class="keyword">return</span> parameters</span><br></pre></td></tr></table></figure>
<p>æœ€ç»ˆçš„ç¥ç»ç½‘ç»œæ¨¡å‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">nn_model</span>(<span class="params">X, Y, n_h, num_iterations = <span class="number">10000</span>, print_cost=<span class="literal">False</span></span>):</span><br><span class="line">    np.random.seed(<span class="number">3</span>)</span><br><span class="line">    n_x = layer_sizes(X, Y)[<span class="number">0</span>]</span><br><span class="line">    n_y = layer_sizes(X, Y)[<span class="number">2</span>]    </span><br><span class="line">    <span class="comment"># Initialize parameters, then retrieve W1, b1, W2, b2. Inputs: &quot;n_x, n_h, n_y&quot;. Outputs = &quot;W1, b1, W2, b2, parameters&quot;.</span></span><br><span class="line">    parameters = initialize_parameters(n_x, n_h, n_y)</span><br><span class="line">    W1 = parameters[<span class="string">&#x27;W1&#x27;</span>]</span><br><span class="line">    b1 = parameters[<span class="string">&#x27;b1&#x27;</span>]</span><br><span class="line">    W2 = parameters[<span class="string">&#x27;W2&#x27;</span>]</span><br><span class="line">    b2 = parameters[<span class="string">&#x27;b2&#x27;</span>]    </span><br><span class="line">    <span class="comment"># Loop (gradient descent)</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, num_iterations):        </span><br><span class="line">    <span class="comment"># Forward propagation. Inputs: &quot;X, parameters&quot;. Outputs: &quot;A2, cache&quot;.</span></span><br><span class="line">        A2, cache = forward_propagation(X, parameters)        </span><br><span class="line">        <span class="comment"># Cost function. Inputs: &quot;A2, Y, parameters&quot;. Outputs: &quot;cost&quot;.</span></span><br><span class="line">        cost = compute_cost(A2, Y, parameters)        </span><br><span class="line">        <span class="comment"># Backpropagation. Inputs: &quot;parameters, cache, X, Y&quot;. Outputs: &quot;grads&quot;.</span></span><br><span class="line">        grads = backward_propagation(parameters, cache, X, Y)        </span><br><span class="line">        <span class="comment"># Gradient descent parameter update. Inputs: &quot;parameters, grads&quot;. Outputs: &quot;parameters&quot;.</span></span><br><span class="line">        parameters = update_parameters(parameters, grads, learning_rate=<span class="number">1.2</span>)        </span><br><span class="line">        <span class="comment"># Print the cost every 1000 iterations</span></span><br><span class="line">        <span class="keyword">if</span> print_cost <span class="keyword">and</span> i % <span class="number">1000</span> == <span class="number">0</span>:            </span><br><span class="line">            <span class="built_in">print</span> (<span class="string">&quot;Cost after iteration %i: %f&quot;</span> %(i, cost))    </span><br><span class="line">            </span><br><span class="line">    <span class="keyword">return</span> parameters</span><br></pre></td></tr></table></figure>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>ç¥ç»ç½‘ç»œ</tag>
      </tags>
  </entry>
  <entry>
    <title>Findsç®—æ³•å’ŒID3ç®—æ³•</title>
    <url>/201910/FINDS%E7%AE%97%E6%B3%95%E5%92%8CID3%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h2 id="ä½œä¸šè¦æ±‚"><a href="#ä½œä¸šè¦æ±‚" class="headerlink" title="ä½œä¸šè¦æ±‚"></a>ä½œä¸šè¦æ±‚</h2><ol>
<li>å®ç°<code>FINDS</code>ç®—æ³•</li>
<li>å®ç°<code>ID3</code>ç®—æ³•</li>
</ol>
<ul>
<li>ä¸è¦è°ƒåº“è‡ªå·±å†™ã€‚å¦‚æœæœ‰èƒ½åŠ›å¯ä»¥ç»§ç»­ç”¨è¯¾ä»¶é‡Œçš„æ•°æ®é›†æµ‹è¯•ä¸¤ä¸ªç®—æ³•ï¼ˆç”¨å¤©æ°”çš„4æ¡è®°å½•æµ‹è¯•<code>FINDS</code>ï¼Œç”¨è´·æ¬¾çš„15æ¡è®°å½•æµ‹è¯•<code>ID3</code>ï¼‰ç»™å‡ºè®­ç»ƒè¯¯å·®æµ‹è¯•è¯¯å·®ç­‰ï¼›  </li>
<li>å†æœ‰èƒ½åŠ›å¯ä»¥ä½¿ç”¨æ›´å¤§çš„æ•°æ®é›†æµ‹è¯•ç®—æ³•ã€‚</li>
</ul>
<span id="more"></span>
<h2 id="ç®—æ³•å®ç°"><a href="#ç®—æ³•å®ç°" class="headerlink" title="ç®—æ³•å®ç°"></a>ç®—æ³•å®ç°</h2><h3 id="FINDSç®—æ³•"><a href="#FINDSç®—æ³•" class="headerlink" title="FINDSç®—æ³•"></a><code>FINDS</code>ç®—æ³•</h3><ol>
<li>ç›®æ ‡ï¼šå¯»æ‰¾æå¤§ç‰¹æ®Šå‡è®¾ã€‚</li>
<li>ä»å‡è®¾é›†åˆHä¸­æœ€ç‰¹æ®Šçš„å‡è®¾å¼€å§‹ã€‚åœ¨è¯¥å‡è®¾ä¸èƒ½æ­£ç¡®åœ°åˆ’åˆ†ä¸€ä¸ªæ­£ä¾‹çš„æ—¶å€™å°†å…¶è¿›è¡Œä¸€èˆ¬åŒ–ã€‚ç®—æ³•å¦‚ä¸‹ï¼š<br><img src="https://s2.ax1x.com/2019/10/22/K3ymOH.jpg" alt="ç®—æ³•æµç¨‹"></li>
<li><code>FINDS</code>ç®—æ³•æ˜¯ä¸€ç§åˆ©ç”¨<code>more-general-than</code>çš„ååºç»“æ„æ¥æœç´¢å‡è®¾ç©ºé—´çš„æ–¹æ³•ï¼Œè¿™ä¸€æœç´¢æ²¿ç€ååºé“¾ï¼Œä»è¾ƒç‰¹æ®Šçš„å‡è®¾é€æ¸æ¼”å˜ä¸ºè¾ƒä¸€èˆ¬çš„å‡è®¾ã€‚</li>
<li>ç®—æ³•<code>Python</code>å®ç°ï¼š</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"> -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string"> Created on 2019/10/21 21:02</span></span><br><span class="line"><span class="string"> FINDS</span></span><br><span class="line"><span class="string"> @Author  : Zhouy</span></span><br><span class="line"><span class="string"> @Blog    : www.crocodilezs.top</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># create dataset</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">CreateDataset</span>():</span><br><span class="line">    dataset = [[<span class="string">&#x27;Sunny&#x27;</span>, <span class="string">&#x27;Warm&#x27;</span>, <span class="string">&#x27;Normal&#x27;</span>, <span class="string">&#x27;Strong&#x27;</span>, <span class="string">&#x27;Warm&#x27;</span>, <span class="string">&#x27;Same&#x27;</span>, <span class="string">&#x27;Yes&#x27;</span>],</span><br><span class="line">               [<span class="string">&#x27;Sunny&#x27;</span>, <span class="string">&#x27;Warm&#x27;</span>, <span class="string">&#x27;High&#x27;</span>, <span class="string">&#x27;Strong&#x27;</span>, <span class="string">&#x27;Warm&#x27;</span>, <span class="string">&#x27;Same&#x27;</span>, <span class="string">&#x27;Yes&#x27;</span>],</span><br><span class="line">               [<span class="string">&#x27;Rainy&#x27;</span>, <span class="string">&#x27;Cold&#x27;</span>, <span class="string">&#x27;High&#x27;</span>, <span class="string">&#x27;Strong&#x27;</span>, <span class="string">&#x27;Warm&#x27;</span>, <span class="string">&#x27;Change&#x27;</span>, <span class="string">&#x27;No&#x27;</span>],</span><br><span class="line">               [<span class="string">&#x27;Sunny&#x27;</span>, <span class="string">&#x27;Warm&#x27;</span>, <span class="string">&#x27;High&#x27;</span>, <span class="string">&#x27;Strong&#x27;</span>, <span class="string">&#x27;Cold&#x27;</span>, <span class="string">&#x27;Change&#x27;</span>, <span class="string">&#x27;Yes&#x27;</span>]]</span><br><span class="line">    labels = [<span class="string">&#x27;Sky&#x27;</span>, <span class="string">&#x27;Temp&#x27;</span>, <span class="string">&#x27;Humidity&#x27;</span>, <span class="string">&#x27;Wind&#x27;</span>, <span class="string">&#x27;Water&#x27;</span>, <span class="string">&#x27;Forest&#x27;</span>, <span class="string">&#x27;OutdoorSport&#x27;</span>]</span><br><span class="line">    <span class="keyword">return</span> dataset, labels</span><br><span class="line"></span><br><span class="line"><span class="comment"># Find one version space by using FINDS</span></span><br><span class="line"><span class="comment"># &#x27;/&#x27; means null, and &#x27;*&#x27; means generalization</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">FINDS</span>(<span class="params">dataset</span>):</span><br><span class="line">    constraint = [<span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;/&#x27;</span>]</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> dataset:</span><br><span class="line">        <span class="keyword">if</span> item[-<span class="number">1</span>] == <span class="string">&#x27;Yes&#x27;</span>:</span><br><span class="line">            <span class="comment"># only go through positive instances</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(item)-<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span>(item[i] != constraint[i] <span class="keyword">and</span> constraint[i] != <span class="string">&#x27;*&#x27;</span>):</span><br><span class="line">                    <span class="keyword">if</span>(constraint[i] == <span class="string">&#x27;/&#x27;</span>):</span><br><span class="line">                        constraint[i] = item[i]</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        constraint[i] = <span class="string">&#x27;*&#x27;</span></span><br><span class="line">    <span class="keyword">return</span> constraint</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    dataset, labels = CreateDataset()</span><br><span class="line">    constraint = FINDS(dataset)</span><br><span class="line">    <span class="built_in">print</span>(constraint)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<h3 id="ID3ç®—æ³•"><a href="#ID3ç®—æ³•" class="headerlink" title="ID3ç®—æ³•"></a><code>ID3</code>ç®—æ³•</h3><ol>
<li>å†³ç­–æ ‘ï¼šå†³ç­–æ ‘æ˜¯ä¸€ç§å¸¸ç”¨çš„åˆ†ç±»ä¸å›å½’æ–¹æ³•ã€‚å†³ç­–æ ‘çš„æ¨¡å‹ä¸ºæ ‘å½¢ç»“æ„ï¼Œåœ¨é’ˆå¯¹åˆ†ç±»é—®é¢˜æ—¶ï¼Œå®é™…ä¸Šå°±æ˜¯é’ˆå¯¹è¾“å…¥æ•°æ®çš„å„ä¸ªç‰¹å¾å¯¹å®ä¾‹è¿›è¡Œåˆ†ç±»çš„è¿‡ç¨‹ï¼Œå³é€šè¿‡æ ‘å½¢ç»“æ„çš„æ¨¡å‹ï¼Œåœ¨æ¯ä¸€å±‚çº§ä¸Šå¯¹ç‰¹å¾å€¼è¿›è¡Œåˆ¤æ–­ï¼Œè¿›è€Œåˆ°è¾¾å†³ç­–æ ‘å¶å­èŠ‚ç‚¹ï¼Œå³å®Œæˆåˆ†ç±»è¿‡ç¨‹ã€‚<br><strong>å†³ç­–æ ‘çš„æœ¬è´¨æ˜¯æ¦‚å¿µå­¦ä¹ ã€‚</strong></li>
<li><p>ä¿¡æ¯ç†µï¼ˆé¦™æµ“ç†µï¼‰ã€æ¡ä»¶ç†µå’Œä¿¡æ¯å¢ç›Šçš„æ¦‚å¿µ</p>
<ul>
<li>ä¿¡æ¯é‡ï¼šä¸€ä»¶äº‹å‘ç”Ÿçš„æ¦‚ç‡è¶Šå°ï¼Œæˆ‘ä»¬è¯´å®ƒæ‰€è•´å«çš„ä¿¡æ¯é‡è¶Šå¤§ã€‚<br><img src="https://s2.ax1x.com/2019/10/22/K36VNq.jpg" alt="ä¿¡æ¯é‡"></li>
<li>ä¿¡æ¯ç†µï¼šä¿¡æ¯ç†µå°±æ˜¯æ‰€æœ‰å¯èƒ½å‘ç”Ÿçš„äº‹ä»¶çš„ä¿¡æ¯é‡çš„æœŸæœ›<br><img src="https://s2.ax1x.com/2019/10/22/K36EEn.jpg" alt="ä¿¡æ¯ç†µ"></li>
<li>æ¡ä»¶ç†µï¼šè¡¨ç¤ºåœ¨Xç»™å®šæ¡ä»¶ä¸‹ï¼ŒYçš„æ¡ä»¶æ¦‚ç‡åˆ†å¸ƒçš„ç†µå¯¹Xçš„æ•°å­¦æœŸæœ›ã€‚<br>![æ¡ä»¶ç†µ(<a href="https://s2.ax1x.com/2019/10/22/K36FBj.jpg">https://s2.ax1x.com/2019/10/22/K36FBj.jpg</a>)</li>
<li>ä¿¡æ¯å¢ç›Šï¼šå½“æˆ‘ä»¬ç”¨å¦ä¸€ä¸ªå˜é‡Xå¯¹åŸå˜é‡Yåˆ†ç±»åï¼ŒåŸå˜é‡Yçš„ä¸ç¡®å®šæ€§å°±ä¼šå‡å°äº†(å³ç†µå€¼å‡å°)ã€‚è€Œç†µå°±æ˜¯ä¸ç¡®å®šæ€§ï¼Œä¸ç¡®å®šç¨‹åº¦å‡å°‘äº†å¤šå°‘å…¶å®å°±æ˜¯ä¿¡æ¯å¢ç›Šã€‚è¿™å°±æ˜¯ä¿¡æ¯å¢ç›Šçš„ç”±æ¥ï¼Œæ‰€ä»¥ä¿¡æ¯å¢ç›Šå®šä¹‰å¦‚ä¸‹ï¼š<br><img src="https://s2.ax1x.com/2019/10/22/K36kHs.jpg" alt="ä¿¡æ¯å¢ç›Š"></li>
</ul>
</li>
<li><p>ç®—æ³•â€™pythonâ€™å®ç°:<br>(ç”¨è¯¾ä»¶ä¸Šçš„è´·æ¬¾æ•°æ®é›†ä¸€ç›´æ²¡æ³•æˆåŠŸåˆ†ç±»ï¼Œäºæ˜¯å‚è€ƒäº†csdnåšå®¢çš„å¦ä¸€ä¸ªæ•°æ®é›†åˆä»£ç )</p>
</li>
</ol>
<p><code>myTrees.py</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"> -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string"> Created on 2019/10/22 11:59</span></span><br><span class="line"><span class="string"> myTrees</span></span><br><span class="line"><span class="string"> @Author  : Zhouy</span></span><br><span class="line"><span class="string"> @Blog    : www.crocodilezs.top</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">from</span> math <span class="keyword">import</span> log</span><br><span class="line"><span class="keyword">import</span> operator</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åŸå§‹æ•°æ®</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">createDataSet</span>():</span><br><span class="line">    dataSet = [[<span class="number">1</span>, <span class="number">1</span>, <span class="string">&#x27;yes&#x27;</span>],</span><br><span class="line">               [<span class="number">1</span>, <span class="number">1</span>, <span class="string">&#x27;yes&#x27;</span>],</span><br><span class="line">               [<span class="number">1</span>, <span class="number">0</span>, <span class="string">&#x27;no&#x27;</span>],</span><br><span class="line">               [<span class="number">0</span>, <span class="number">1</span>, <span class="string">&#x27;no&#x27;</span>],</span><br><span class="line">               [<span class="number">0</span>, <span class="number">1</span>, <span class="string">&#x27;no&#x27;</span>]]</span><br><span class="line">    labels = [<span class="string">&#x27;no surfacing&#x27;</span>,<span class="string">&#x27;flippers&#x27;</span>]</span><br><span class="line">    <span class="keyword">return</span> dataSet, labels</span><br><span class="line"></span><br><span class="line"><span class="comment"># å¤šæ•°è¡¨å†³å™¨</span></span><br><span class="line"><span class="comment"># åˆ—ä¸­ç›¸åŒå€¼æ•°é‡æœ€å¤šä¸ºç»“æœ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">majorityCnt</span>(<span class="params">classList</span>):</span><br><span class="line">    classCounts = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> classList:</span><br><span class="line">        <span class="keyword">if</span> (value <span class="keyword">not</span> <span class="keyword">in</span> classCounts.keys()):</span><br><span class="line">            classCounts[value] = <span class="number">0</span></span><br><span class="line">        classCounts[value] += <span class="number">1</span></span><br><span class="line">    sortedClassCount = <span class="built_in">sorted</span>(classCounts.iteritems(), key=operator.itemgetter(<span class="number">1</span>), reverse=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> sortedClassCount[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># åˆ’åˆ†æ•°æ®é›†</span></span><br><span class="line"><span class="comment"># dataSet:åŸå§‹æ•°æ®é›†</span></span><br><span class="line"><span class="comment"># axis:è¿›è¡Œåˆ†å‰²çš„æŒ‡å®šåˆ—ç´¢å¼•</span></span><br><span class="line"><span class="comment"># value:æŒ‡å®šåˆ—ä¸­çš„å€¼</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">splitDataSet</span>(<span class="params">dataSet, axis, value</span>):</span><br><span class="line">    retDataSet = []</span><br><span class="line">    <span class="keyword">for</span> featDataVal <span class="keyword">in</span> dataSet:</span><br><span class="line">        <span class="keyword">if</span> featDataVal[axis] == value:</span><br><span class="line">            <span class="comment"># ä¸‹é¢ä¸¤è¡Œå»é™¤æŸä¸€é¡¹æŒ‡å®šåˆ—çš„å€¼ï¼Œå¾ˆå·§å¦™æœ‰æ²¡æœ‰</span></span><br><span class="line">            reducedFeatVal = featDataVal[:axis]</span><br><span class="line">            reducedFeatVal.extend(featDataVal[axis + <span class="number">1</span>:])</span><br><span class="line">            retDataSet.append(reducedFeatVal)</span><br><span class="line">    <span class="keyword">return</span> retDataSet</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è®¡ç®—é¦™å†œç†µ</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calcShannonEnt</span>(<span class="params">dataSet</span>):</span><br><span class="line">    <span class="comment"># æ•°æ®é›†æ€»é¡¹æ•°</span></span><br><span class="line">    numEntries = <span class="built_in">len</span>(dataSet)</span><br><span class="line">    <span class="comment"># æ ‡ç­¾è®¡æ•°å¯¹è±¡åˆå§‹åŒ–</span></span><br><span class="line">    labelCounts = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> featDataVal <span class="keyword">in</span> dataSet:</span><br><span class="line">        <span class="comment"># è·å–æ•°æ®é›†æ¯ä¸€é¡¹çš„æœ€åä¸€åˆ—çš„æ ‡ç­¾å€¼</span></span><br><span class="line">        currentLabel = featDataVal[-<span class="number">1</span>]</span><br><span class="line">        <span class="comment"># å¦‚æœå½“å‰æ ‡ç­¾ä¸åœ¨æ ‡ç­¾å­˜å‚¨å¯¹è±¡é‡Œï¼Œåˆ™åˆå§‹åŒ–ï¼Œç„¶åè®¡æ•°</span></span><br><span class="line">        <span class="keyword">if</span> currentLabel <span class="keyword">not</span> <span class="keyword">in</span> labelCounts.keys():</span><br><span class="line">            labelCounts[currentLabel] = <span class="number">0</span></span><br><span class="line">        labelCounts[currentLabel] += <span class="number">1</span></span><br><span class="line">    <span class="comment"># ç†µåˆå§‹åŒ–</span></span><br><span class="line">    shannonEnt = <span class="number">0.0</span></span><br><span class="line">    <span class="comment"># éå†æ ‡ç­¾å¯¹è±¡ï¼Œæ±‚æ¦‚ç‡ï¼Œè®¡ç®—ç†µ</span></span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> labelCounts.keys():</span><br><span class="line">        prop = labelCounts[key] / <span class="built_in">float</span>(numEntries)</span><br><span class="line">        shannonEnt -= prop * log(prop, <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> shannonEnt</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># é€‰å‡ºæœ€ä¼˜ç‰¹å¾åˆ—ç´¢å¼•</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">chooseBestFeatureToSplit</span>(<span class="params">dataSet</span>):</span><br><span class="line">    <span class="comment"># è®¡ç®—ç‰¹å¾ä¸ªæ•°ï¼ŒdataSetæœ€åä¸€åˆ—æ˜¯æ ‡ç­¾å±æ€§ï¼Œä¸æ˜¯ç‰¹å¾é‡</span></span><br><span class="line">    numFeatures = <span class="built_in">len</span>(dataSet[<span class="number">0</span>]) - <span class="number">1</span></span><br><span class="line">    <span class="comment"># è®¡ç®—åˆå§‹æ•°æ®é¦™å†œç†µ</span></span><br><span class="line">    baseEntropy = calcShannonEnt(dataSet)</span><br><span class="line">    <span class="comment"># åˆå§‹åŒ–ä¿¡æ¯å¢ç›Šï¼Œæœ€ä¼˜åˆ’åˆ†ç‰¹å¾åˆ—ç´¢å¼•</span></span><br><span class="line">    bestInfoGain = <span class="number">0.0</span></span><br><span class="line">    bestFeatureIndex = -<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numFeatures):</span><br><span class="line">        <span class="comment"># è·å–æ¯ä¸€åˆ—æ•°æ®</span></span><br><span class="line">        featList = [example[i] <span class="keyword">for</span> example <span class="keyword">in</span> dataSet]</span><br><span class="line">        <span class="comment"># å°†æ¯ä¸€åˆ—æ•°æ®å»é‡</span></span><br><span class="line">        uniqueVals = <span class="built_in">set</span>(featList)</span><br><span class="line">        newEntropy = <span class="number">0.0</span></span><br><span class="line">        <span class="keyword">for</span> value <span class="keyword">in</span> uniqueVals:</span><br><span class="line">            subDataSet = splitDataSet(dataSet, i, value)</span><br><span class="line">            <span class="comment"># è®¡ç®—æ¡ä»¶æ¦‚ç‡</span></span><br><span class="line">            prob = <span class="built_in">len</span>(subDataSet) / <span class="built_in">float</span>(<span class="built_in">len</span>(dataSet))</span><br><span class="line">            <span class="comment"># è®¡ç®—æ¡ä»¶ç†µ</span></span><br><span class="line">            newEntropy += prob * calcShannonEnt(subDataSet)</span><br><span class="line">        <span class="comment"># è®¡ç®—ä¿¡æ¯å¢ç›Š</span></span><br><span class="line">        infoGain = baseEntropy - newEntropy</span><br><span class="line">        <span class="keyword">if</span> (infoGain &gt; bestInfoGain):</span><br><span class="line">            bestInfoGain = infoGain</span><br><span class="line">            bestFeatureIndex = i</span><br><span class="line">    <span class="keyword">return</span> bestFeatureIndex</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å†³ç­–æ ‘åˆ›å»º</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">createTree</span>(<span class="params">dataSet, labels</span>):</span><br><span class="line">    <span class="comment"># è·å–æ ‡ç­¾å±æ€§ï¼ŒdataSetæœ€åä¸€åˆ—ï¼ŒåŒºåˆ«äºlabelsæ ‡ç­¾åç§°</span></span><br><span class="line">    classList = [example[-<span class="number">1</span>] <span class="keyword">for</span> example <span class="keyword">in</span> dataSet]</span><br><span class="line">    <span class="comment"># æ ‘æç«¯ç»ˆæ­¢æ¡ä»¶åˆ¤æ–­</span></span><br><span class="line">    <span class="comment"># æ ‡ç­¾å±æ€§å€¼å…¨éƒ¨ç›¸åŒï¼Œè¿”å›æ ‡ç­¾å±æ€§ç¬¬ä¸€é¡¹å€¼</span></span><br><span class="line">    <span class="keyword">if</span> classList.count(classList[<span class="number">0</span>]) == <span class="built_in">len</span>(classList):</span><br><span class="line">        <span class="keyword">return</span> classList[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># åªæœ‰ä¸€ä¸ªç‰¹å¾ï¼ˆ1åˆ—ï¼‰</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(dataSet[<span class="number">0</span>]) == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> majorityCnt(classList)</span><br><span class="line">    <span class="comment"># è·å–æœ€ä¼˜ç‰¹å¾åˆ—ç´¢å¼•</span></span><br><span class="line">    bestFeatureIndex = chooseBestFeatureToSplit(dataSet)</span><br><span class="line">    <span class="comment"># è·å–æœ€ä¼˜ç´¢å¼•å¯¹åº”çš„æ ‡ç­¾åç§°</span></span><br><span class="line">    bestFeatureLabel = labels[bestFeatureIndex]</span><br><span class="line">    <span class="comment"># åˆ›å»ºæ ¹èŠ‚ç‚¹</span></span><br><span class="line">    myTree = &#123;bestFeatureLabel: &#123;&#125;&#125;</span><br><span class="line">    <span class="comment"># å»é™¤æœ€ä¼˜ç´¢å¼•å¯¹åº”çš„æ ‡ç­¾åï¼Œä½¿labelsæ ‡ç­¾èƒ½æ­£ç¡®éå†</span></span><br><span class="line">    <span class="keyword">del</span> (labels[bestFeatureIndex])</span><br><span class="line">    <span class="comment"># è·å–æœ€ä¼˜åˆ—</span></span><br><span class="line">    bestFeature = [example[bestFeatureIndex] <span class="keyword">for</span> example <span class="keyword">in</span> dataSet]</span><br><span class="line">    uniquesVals = <span class="built_in">set</span>(bestFeature)</span><br><span class="line">    <span class="keyword">for</span> value <span class="keyword">in</span> uniquesVals:</span><br><span class="line">        <span class="comment"># å­æ ‡ç­¾åç§°é›†åˆ</span></span><br><span class="line">        subLabels = labels[:]</span><br><span class="line">        <span class="comment"># é€’å½’</span></span><br><span class="line">        myTree[bestFeatureLabel][value] = createTree(splitDataSet(dataSet, bestFeatureIndex, value), subLabels)</span><br><span class="line">    <span class="keyword">return</span> myTree</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–åˆ†ç±»ç»“æœ</span></span><br><span class="line"><span class="comment"># inputTree:å†³ç­–æ ‘å­—å…¸</span></span><br><span class="line"><span class="comment"># featLabels:æ ‡ç­¾åˆ—è¡¨</span></span><br><span class="line"><span class="comment"># testVec:æµ‹è¯•å‘é‡  ä¾‹å¦‚ï¼šç®€å•å®ä¾‹ä¸‹æŸä¸€è·¯å¾„ [1,1]  =&gt; yesï¼ˆæ ‘å¹²å€¼ç»„åˆï¼Œä»æ ¹ç»“ç‚¹åˆ°å¶å­èŠ‚ç‚¹ï¼‰</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">classify</span>(<span class="params">inputTree, featLabels, testVec</span>):</span><br><span class="line">    <span class="comment"># è·å–æ ¹ç»“ç‚¹åç§°ï¼Œå°†dictè½¬åŒ–ä¸ºlist</span></span><br><span class="line">    firstSide = <span class="built_in">list</span>(inputTree.keys())</span><br><span class="line">    <span class="comment"># æ ¹ç»“ç‚¹åç§°Stringç±»å‹</span></span><br><span class="line">    firstStr = firstSide[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># è·å–æ ¹ç»“ç‚¹å¯¹åº”çš„å­èŠ‚ç‚¹</span></span><br><span class="line">    secondDict = inputTree[firstStr]</span><br><span class="line">    <span class="comment"># è·å–æ ¹ç»“ç‚¹åç§°åœ¨æ ‡ç­¾åˆ—è¡¨ä¸­å¯¹åº”çš„ç´¢å¼•</span></span><br><span class="line">    featIndex = featLabels.index(firstStr)</span><br><span class="line">    <span class="comment"># ç”±ç´¢å¼•è·å–å‘é‡è¡¨ä¸­çš„å¯¹åº”å€¼</span></span><br><span class="line">    key = testVec[featIndex]</span><br><span class="line">    <span class="comment"># è·å–æ ‘å¹²å‘é‡åçš„å¯¹è±¡</span></span><br><span class="line">    valueOfFeat = secondDict[key]</span><br><span class="line">    <span class="comment"># åˆ¤æ–­æ˜¯å­ç»“ç‚¹è¿˜æ˜¯å¶å­èŠ‚ç‚¹ï¼šå­ç»“ç‚¹å°±å›è°ƒåˆ†ç±»å‡½æ•°ï¼Œå¶å­ç»“ç‚¹å°±æ˜¯åˆ†ç±»ç»“æœ</span></span><br><span class="line">    <span class="comment"># if type(valueOfFeat).__name__==&#x27;dict&#x27;: ç­‰ä»· if isinstance(valueOfFeat, dict):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">isinstance</span>(valueOfFeat, <span class="built_in">dict</span>):</span><br><span class="line">        classLabel = classify(valueOfFeat, featLabels, testVec)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        classLabel = valueOfFeat</span><br><span class="line">    <span class="keyword">return</span> classLabel</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†å†³ç­–æ ‘åˆ†ç±»å™¨å­˜å‚¨åœ¨ç£ç›˜ä¸­ï¼Œfilenameä¸€èˆ¬ä¿å­˜ä¸ºtxtæ ¼å¼</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">storeTree</span>(<span class="params">inputTree, filename</span>):</span><br><span class="line">    <span class="keyword">import</span> pickle</span><br><span class="line">    fw = <span class="built_in">open</span>(filename, <span class="string">&#x27;wb+&#x27;</span>)</span><br><span class="line">    pickle.dump(inputTree, fw)</span><br><span class="line">    fw.close()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># å°†ç“·ç›˜ä¸­çš„å¯¹è±¡åŠ è½½å‡ºæ¥ï¼Œè¿™é‡Œçš„filenameå°±æ˜¯ä¸Šé¢å‡½æ•°ä¸­çš„txtæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">grabTree</span>(<span class="params">filename</span>):</span><br><span class="line">    <span class="keyword">import</span> pickle</span><br><span class="line">    fr = <span class="built_in">open</span>(filename, <span class="string">&#x27;rb&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> pickle.load(fr)</span><br></pre></td></tr></table></figure>
<p><code>treePlotter.py</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"> -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string"> Created on 2019/10/22 12:00</span></span><br><span class="line"><span class="string"> treePlotter</span></span><br><span class="line"><span class="string"> @Author  : Zhouy</span></span><br><span class="line"><span class="string"> @Blog    : www.crocodilezs.top</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">decisionNode = <span class="built_in">dict</span>(boxstyle=<span class="string">&quot;sawtooth&quot;</span>, fc=<span class="string">&quot;0.8&quot;</span>)</span><br><span class="line">leafNode = <span class="built_in">dict</span>(boxstyle=<span class="string">&quot;round4&quot;</span>, fc=<span class="string">&quot;0.8&quot;</span>)</span><br><span class="line">arrow_args = <span class="built_in">dict</span>(arrowstyle=<span class="string">&quot;&lt;-&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ ‘çš„å¶å­èŠ‚ç‚¹</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getNumLeafs</span>(<span class="params">myTree</span>):</span><br><span class="line">    numLeafs = <span class="number">0</span></span><br><span class="line">    <span class="comment"># dictè½¬åŒ–ä¸ºlist</span></span><br><span class="line">    firstSides = <span class="built_in">list</span>(myTree.keys())</span><br><span class="line">    firstStr = firstSides[<span class="number">0</span>]</span><br><span class="line">    secondDict = myTree[firstStr]</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> secondDict.keys():</span><br><span class="line">        <span class="comment"># åˆ¤æ–­æ˜¯å¦æ˜¯å¶å­èŠ‚ç‚¹ï¼ˆé€šè¿‡ç±»å‹åˆ¤æ–­ï¼Œå­ç±»ä¸å­˜åœ¨ï¼Œåˆ™ç±»å‹ä¸ºstrï¼›å­ç±»å­˜åœ¨ï¼Œåˆ™ä¸ºdictï¼‰</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span>(secondDict[</span><br><span class="line">                    key]).__name__ == <span class="string">&#x27;dict&#x27;</span>:  <span class="comment"># test to see if the nodes are dictonaires, if not they are leaf nodes</span></span><br><span class="line">            numLeafs += getNumLeafs(secondDict[key])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            numLeafs += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> numLeafs</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># è·å–æ ‘çš„å±‚æ•°</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">getTreeDepth</span>(<span class="params">myTree</span>):</span><br><span class="line">    maxDepth = <span class="number">0</span></span><br><span class="line">    <span class="comment"># dictè½¬åŒ–ä¸ºlist</span></span><br><span class="line">    firstSides = <span class="built_in">list</span>(myTree.keys())</span><br><span class="line">    firstStr = firstSides[<span class="number">0</span>]</span><br><span class="line">    secondDict = myTree[firstStr]</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> secondDict.keys():</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span>(secondDict[</span><br><span class="line">                    key]).__name__ == <span class="string">&#x27;dict&#x27;</span>:  <span class="comment"># test to see if the nodes are dictonaires, if not they are leaf nodes</span></span><br><span class="line">            thisDepth = <span class="number">1</span> + getTreeDepth(secondDict[key])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            thisDepth = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> thisDepth &gt; maxDepth: maxDepth = thisDepth</span><br><span class="line">    <span class="keyword">return</span> maxDepth</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plotNode</span>(<span class="params">nodeTxt, centerPt, parentPt, nodeType</span>):</span><br><span class="line">    createPlot.ax1.annotate(nodeTxt, xy=parentPt, xycoords=<span class="string">&#x27;axes fraction&#x27;</span>,</span><br><span class="line">                            xytext=centerPt, textcoords=<span class="string">&#x27;axes fraction&#x27;</span>,</span><br><span class="line">                            va=<span class="string">&quot;center&quot;</span>, ha=<span class="string">&quot;center&quot;</span>, bbox=nodeType, arrowprops=arrow_args)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plotMidText</span>(<span class="params">cntrPt, parentPt, txtString</span>):</span><br><span class="line">    xMid = (parentPt[<span class="number">0</span>] - cntrPt[<span class="number">0</span>]) / <span class="number">2.0</span> + cntrPt[<span class="number">0</span>]</span><br><span class="line">    yMid = (parentPt[<span class="number">1</span>] - cntrPt[<span class="number">1</span>]) / <span class="number">2.0</span> + cntrPt[<span class="number">1</span>]</span><br><span class="line">    createPlot.ax1.text(xMid, yMid, txtString, va=<span class="string">&quot;center&quot;</span>, ha=<span class="string">&quot;center&quot;</span>, rotation=<span class="number">30</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">plotTree</span>(<span class="params">myTree, parentPt, nodeTxt</span>):  <span class="comment"># if the first key tells you what feat was split on</span></span><br><span class="line">    numLeafs = getNumLeafs(myTree)  <span class="comment"># this determines the x width of this tree</span></span><br><span class="line">    depth = getTreeDepth(myTree)</span><br><span class="line">    firstSides = <span class="built_in">list</span>(myTree.keys())</span><br><span class="line">    firstStr = firstSides[<span class="number">0</span>]  <span class="comment"># the text label for this node should be this</span></span><br><span class="line">    cntrPt = (plotTree.xOff + (<span class="number">1.0</span> + <span class="built_in">float</span>(numLeafs)) / <span class="number">2.0</span> / plotTree.totalW, plotTree.yOff)</span><br><span class="line">    plotMidText(cntrPt, parentPt, nodeTxt)</span><br><span class="line">    plotNode(firstStr, cntrPt, parentPt, decisionNode)</span><br><span class="line">    secondDict = myTree[firstStr]</span><br><span class="line">    plotTree.yOff = plotTree.yOff - <span class="number">1.0</span> / plotTree.totalD</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> secondDict.keys():</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">type</span>(secondDict[</span><br><span class="line">                    key]).__name__ == <span class="string">&#x27;dict&#x27;</span>:  <span class="comment"># test to see if the nodes are dictonaires, if not they are leaf nodes</span></span><br><span class="line">            plotTree(secondDict[key], cntrPt, <span class="built_in">str</span>(key))  <span class="comment"># recursion</span></span><br><span class="line">        <span class="keyword">else</span>:  <span class="comment"># it&#x27;s a leaf node print the leaf node</span></span><br><span class="line">            plotTree.xOff = plotTree.xOff + <span class="number">1.0</span> / plotTree.totalW</span><br><span class="line">            plotNode(secondDict[key], (plotTree.xOff, plotTree.yOff), cntrPt, leafNode)</span><br><span class="line">            plotMidText((plotTree.xOff, plotTree.yOff), cntrPt, <span class="built_in">str</span>(key))</span><br><span class="line">    plotTree.yOff = plotTree.yOff + <span class="number">1.0</span> / plotTree.totalD</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># if you do get a dictonary you know it&#x27;s a tree, and the first element will be another dict</span></span><br><span class="line"><span class="comment"># ç»˜åˆ¶å†³ç­–æ ‘</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">createPlot</span>(<span class="params">inTree</span>):</span><br><span class="line">    fig = plt.figure(<span class="number">1</span>, facecolor=<span class="string">&#x27;white&#x27;</span>)</span><br><span class="line">    fig.clf()</span><br><span class="line">    axprops = <span class="built_in">dict</span>(xticks=[], yticks=[])</span><br><span class="line">    createPlot.ax1 = plt.subplot(<span class="number">111</span>, frameon=<span class="literal">False</span>, **axprops)  <span class="comment"># no ticks</span></span><br><span class="line">    <span class="comment"># createPlot.ax1 = plt.subplot(111, frameon=False) #ticks for demo puropses</span></span><br><span class="line">    plotTree.totalW = <span class="built_in">float</span>(getNumLeafs(inTree))</span><br><span class="line">    plotTree.totalD = <span class="built_in">float</span>(getTreeDepth(inTree))</span><br><span class="line">    plotTree.xOff = -<span class="number">0.5</span> / plotTree.totalW</span><br><span class="line">    plotTree.yOff = <span class="number">1.0</span></span><br><span class="line">    plotTree(inTree, (<span class="number">0.5</span>, <span class="number">1.0</span>), <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    plt.show()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç»˜åˆ¶æ ‘çš„æ ¹èŠ‚ç‚¹å’Œå¶å­èŠ‚ç‚¹ï¼ˆæ ¹èŠ‚ç‚¹å½¢çŠ¶ï¼šé•¿æ–¹å½¢ï¼Œå¶å­èŠ‚ç‚¹ï¼šæ¤­åœ†å½¢ï¼‰</span></span><br><span class="line"><span class="comment"># def createPlot():</span></span><br><span class="line"><span class="comment">#    fig = plt.figure(1, facecolor=&#x27;white&#x27;)</span></span><br><span class="line"><span class="comment">#    fig.clf()</span></span><br><span class="line"><span class="comment">#    createPlot.ax1 = plt.subplot(111, frameon=False) #ticks for demo puropses</span></span><br><span class="line"><span class="comment">#    plotNode(&#x27;a decision node&#x27;, (0.5, 0.1), (0.1, 0.5), decisionNode)</span></span><br><span class="line"><span class="comment">#    plotNode(&#x27;a leaf node&#x27;, (0.8, 0.1), (0.3, 0.8), leafNode)</span></span><br><span class="line"><span class="comment">#    plt.show()</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">retrieveTree</span>(<span class="params">i</span>):</span><br><span class="line">    listOfTrees = [&#123;<span class="string">&#x27;no surfacing&#x27;</span>: &#123;<span class="number">0</span>: <span class="string">&#x27;no&#x27;</span>, <span class="number">1</span>: &#123;<span class="string">&#x27;flippers&#x27;</span>: &#123;<span class="number">0</span>: <span class="string">&#x27;no&#x27;</span>, <span class="number">1</span>: <span class="string">&#x27;yes&#x27;</span>&#125;&#125;&#125;&#125;,</span><br><span class="line">                   &#123;<span class="string">&#x27;no surfacing&#x27;</span>: &#123;<span class="number">0</span>: <span class="string">&#x27;no&#x27;</span>, <span class="number">1</span>: &#123;<span class="string">&#x27;flippers&#x27;</span>: &#123;<span class="number">0</span>: &#123;<span class="string">&#x27;head&#x27;</span>: &#123;<span class="number">0</span>: <span class="string">&#x27;no&#x27;</span>, <span class="number">1</span>: <span class="string">&#x27;yes&#x27;</span>&#125;&#125;, <span class="number">1</span>: <span class="string">&#x27;no&#x27;</span>&#125;&#125;&#125;&#125;</span><br><span class="line">                   ]</span><br><span class="line">    <span class="keyword">return</span> listOfTrees[i]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># thisTree = retrieveTree(0)</span></span><br><span class="line"><span class="comment"># createPlot(thisTree)</span></span><br><span class="line"><span class="comment"># createPlot()</span></span><br><span class="line"><span class="comment"># myTree = retrieveTree(0)</span></span><br><span class="line"><span class="comment"># numLeafs =getNumLeafs(myTree)</span></span><br><span class="line"><span class="comment"># treeDepth =getTreeDepth(myTree)</span></span><br><span class="line"><span class="comment"># print(u&quot;å¶å­èŠ‚ç‚¹æ•°ç›®ï¼š%d&quot;% numLeafs)</span></span><br><span class="line"><span class="comment"># print(u&quot;æ ‘æ·±åº¦ï¼š%d&quot;%treeDepth)</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>testTrees_3.py</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string"> -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="string"> Created on 2019/10/22 12:00</span></span><br><span class="line"><span class="string"> testTrees_3</span></span><br><span class="line"><span class="string"> @Author  : Zhouy</span></span><br><span class="line"><span class="string"> @Blog    : www.crocodilezs.top</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> myTrees <span class="keyword">as</span> mt</span><br><span class="line"><span class="keyword">import</span> treePlotter <span class="keyword">as</span> tp</span><br><span class="line"><span class="comment">#æµ‹è¯•</span></span><br><span class="line">dataSet, labels = mt.createDataSet()</span><br><span class="line"><span class="comment">#copyå‡½æ•°ï¼šæ–°å¼€è¾Ÿä¸€å—å†…å­˜ï¼Œç„¶åå°†listçš„æ‰€æœ‰å€¼å¤åˆ¶åˆ°æ–°å¼€è¾Ÿçš„å†…å­˜ä¸­</span></span><br><span class="line">labels1 = labels.copy()</span><br><span class="line"><span class="comment">#createTreeå‡½æ•°ä¸­å°†labels1çš„å€¼æ”¹å˜äº†ï¼Œæ‰€ä»¥åœ¨åˆ†ç±»æµ‹è¯•æ—¶ä¸èƒ½ç”¨labels1</span></span><br><span class="line">myTree = mt.createTree(dataSet,labels1)</span><br><span class="line"><span class="comment">#ä¿å­˜æ ‘åˆ°æœ¬åœ°</span></span><br><span class="line">mt.storeTree(myTree,<span class="string">&#x27;myTree.txt&#x27;</span>)</span><br><span class="line"><span class="comment">#åœ¨æœ¬åœ°ç£ç›˜è·å–æ ‘</span></span><br><span class="line">myTree = mt.grabTree(<span class="string">&#x27;myTree.txt&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span> (<span class="string">u&quot;å†³ç­–æ ‘ç»“æ„ï¼š%s&quot;</span>%myTree)</span><br><span class="line"><span class="comment">#ç»˜åˆ¶å†³ç­–æ ‘</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">u&quot;ç»˜åˆ¶å†³ç­–æ ‘ï¼š&quot;</span>)</span><br><span class="line">tp.createPlot(myTree)</span><br><span class="line">numLeafs =tp.getNumLeafs(myTree)</span><br><span class="line">treeDepth =tp.getTreeDepth(myTree)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">u&quot;å¶å­èŠ‚ç‚¹æ•°ç›®ï¼š%d&quot;</span>% numLeafs)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">u&quot;æ ‘æ·±åº¦ï¼š%d&quot;</span>%treeDepth)</span><br><span class="line"><span class="comment">#æµ‹è¯•åˆ†ç±» ç®€å•æ ·æœ¬æ•°æ®3åˆ—</span></span><br><span class="line">labelResult =mt.classify(myTree,labels,[<span class="number">1</span>,<span class="number">1</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">u&quot;[1,1] æµ‹è¯•ç»“æœä¸ºï¼š%s&quot;</span>%labelResult)</span><br><span class="line">labelResult =mt.classify(myTree,labels,[<span class="number">1</span>,<span class="number">0</span>])</span><br><span class="line"><span class="built_in">print</span>(<span class="string">u&quot;[1,0] æµ‹è¯•ç»“æœä¸ºï¼š%s&quot;</span>%labelResult)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>FindS</tag>
        <tag>ID3</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¡ç®—æœºç³»ç»ŸåŸºç¡€å®éªŒä¸€ã€Linuxç¯å¢ƒå’ŒGCCå·¥å…·é“¾</title>
    <url>/201910/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F%E5%9F%BA%E7%A1%80%E5%AE%9E%E9%AA%8C%E4%B8%80/</url>
    <content><![CDATA[<h1 id="Linuxæ“ä½œç³»ç»Ÿæ¦‚è¿°å’Œå®éªŒç¯å¢ƒä»‹ç»"><a href="#Linuxæ“ä½œç³»ç»Ÿæ¦‚è¿°å’Œå®éªŒç¯å¢ƒä»‹ç»" class="headerlink" title="Linuxæ“ä½œç³»ç»Ÿæ¦‚è¿°å’Œå®éªŒç¯å¢ƒä»‹ç»"></a><code>Linux</code>æ“ä½œç³»ç»Ÿæ¦‚è¿°å’Œå®éªŒç¯å¢ƒä»‹ç»</h1><h2 id="æ“ä½œç³»ç»Ÿæ¦‚å¿µ"><a href="#æ“ä½œç³»ç»Ÿæ¦‚å¿µ" class="headerlink" title="æ“ä½œç³»ç»Ÿæ¦‚å¿µ"></a>æ“ä½œç³»ç»Ÿæ¦‚å¿µ</h2><p><code>OS</code>æ˜¯ç®¡ç†å’Œæ§åˆ¶è®¡ç®—æœºç¡¬ä»¶ä¸è½¯ä»¶èµ„æºçš„è®¡ç®—æœºç¨‹åºï¼Œæ˜¯ç›´æ¥åœ¨â€œè£¸æœºâ€ä¸Šçš„æœ€åŸºæœ¬çš„ç³»ç»Ÿè½¯ä»¶ã€‚</p>
<h2 id="Linuxçš„åº”ç”¨"><a href="#Linuxçš„åº”ç”¨" class="headerlink" title="Linuxçš„åº”ç”¨"></a><code>Linux</code>çš„åº”ç”¨</h2><ol>
<li>æœåŠ¡å™¨ç«¯ï¼šLinuxéå¸¸ç¨³å®šï¼Œç‰¹åˆ«é€‚åˆå¤§å‹ä¼ä¸šç”Ÿäº§ç¯å¢ƒã€‚</li>
<li>ä½œä¸ºç½‘ç»œå¹³å°çš„åç«¯æœåŠ¡å™¨è¢«ä½¿ç”¨ã€‚</li>
<li>ä½œä¸ºåº”ç”¨æœåŠ¡å™¨ã€æ•°æ®åº“æœåŠ¡å™¨è¢«ä½¿ç”¨ï¼šè§£å†³æµ·é‡æ•°æ®ã€é«˜å¹¶å‘çš„é—®é¢˜ï¼›</li>
<li>ä½œä¸ºåµŒå…¥å¼æ“ä½œç³»ç»Ÿè¢«ä½¿ç”¨ï¼šæ™ºèƒ½æ§åˆ¶ã€è‡ªåŠ¨åŒ–ã€ç‰©è”ç½‘ç­‰é¢†åŸŸã€‚</li>
</ol>
<span id="more"></span>
<h2 id="Linuxå†å²"><a href="#Linuxå†å²" class="headerlink" title="Linuxå†å²"></a><code>Linux</code>å†å²</h2><p>è¿½æº¯åˆ°<code>UNIX</code><br>ç®€å•åœ°è¯´ï¼Œ<code>Linux</code>æ˜¯å¯¹<code>UNIX</code>çš„é‡æ–°å®ç°ã€‚ä¸–ç•Œå„åœ°çš„<code>Linux</code>å¼€å‘äººå‘˜å€Ÿé‰´äº†<code>UNIX</code>çš„æŠ€æœ¯å’Œç”¨æˆ·ç•Œé¢ï¼Œå¹¶ä¸”èå…¥äº†å¾ˆå¤šç‹¬åˆ›çš„æŠ€æœ¯ã€‚<code>Linux</code>ä¸å±äº<code>BSD</code>å’Œ<code>AT&amp;T</code>é£æ ¼çš„<code>UNIX</code>ä¸­çš„ä»»ä½•ä¸€ç§ã€‚å› æ­¤ï¼Œä¸¥æ ¼æ¥è¯´ï¼Œ<code>Linux</code>æ˜¯æœ‰åˆ«äº<code>UNIX</code>çš„å¦ä¸€ç§æ“ä½œç³»ç»Ÿã€‚</p>
<h2 id="Linuxç®€ä»‹"><a href="#Linuxç®€ä»‹" class="headerlink" title="Linuxç®€ä»‹"></a><code>Linux</code>ç®€ä»‹</h2><p><code>Linux</code>å‘ç°è¡Œç‰ˆæœ¬ä¸¾ä¾‹ï¼š<code>Ubuntu</code>ã€<code>redhat</code></p>
<h2 id="æ“ä½œç³»ç»Ÿçš„ä¸‰ä¸ªéƒ¨åˆ†"><a href="#æ“ä½œç³»ç»Ÿçš„ä¸‰ä¸ªéƒ¨åˆ†" class="headerlink" title="æ“ä½œç³»ç»Ÿçš„ä¸‰ä¸ªéƒ¨åˆ†"></a>æ“ä½œç³»ç»Ÿçš„ä¸‰ä¸ªéƒ¨åˆ†</h2><h3 id="å†…æ ¸"><a href="#å†…æ ¸" class="headerlink" title="å†…æ ¸"></a>å†…æ ¸</h3><p>æ“ä½œç³»ç»Ÿäº”å¤§ç®¡ç†åŠŸèƒ½ä¸€èˆ¬éƒ½ç”±æ“ä½œç³»ç»Ÿå†…æ ¸è´Ÿè´£ã€‚</p>
<h3 id="å¤–å£³"><a href="#å¤–å£³" class="headerlink" title="å¤–å£³"></a>å¤–å£³</h3><ul>
<li>å¤–å£³ç¨‹åºè´Ÿè´£æ¥æ”¶ç”¨æˆ·æ“ä½œï¼Œæä¾›ä¸ ç”¨æˆ·çš„äº¤äº’ç•Œé¢ã€‚</li>
<li>ä¸€èˆ¬æ“ä½œç³»ç»Ÿæä¾›ç»™ç”¨æˆ·çš„ç•Œé¢ä¸»è¦æœ‰ä¸¤ç§ï¼šæ–‡æœ¬ç•Œé¢ã€<code>GUI</code>å›¾å½¢ç•Œé¢ã€‚<h3 id="ç®¡ç†å·¥å…·å’Œé™„å±è½¯ä»¶"><a href="#ç®¡ç†å·¥å…·å’Œé™„å±è½¯ä»¶" class="headerlink" title="ç®¡ç†å·¥å…·å’Œé™„å±è½¯ä»¶"></a>ç®¡ç†å·¥å…·å’Œé™„å±è½¯ä»¶</h3></li>
</ul>
<h2 id="æ“ä½œç³»ç»Ÿçš„åŠŸèƒ½"><a href="#æ“ä½œç³»ç»Ÿçš„åŠŸèƒ½" class="headerlink" title="æ“ä½œç³»ç»Ÿçš„åŠŸèƒ½"></a>æ“ä½œç³»ç»Ÿçš„åŠŸèƒ½</h2><ol>
<li><code>CPU</code>çš„æ§åˆ¶ä¸ç®¡ç†ï¼šå¤„ç†å™¨ç®¡ç†</li>
<li>å†…å­˜çš„åˆ†é…ä¸ç®¡ç†ï¼šå­˜å‚¨å™¨ç®¡ç†</li>
<li>å¤–éƒ¨è®¾å¤‡çš„æ§åˆ¶ä¸ç®¡ç†ï¼šè®¾å¤‡ç®¡ç†</li>
<li>æ–‡ä»¶ç®¡ç†</li>
<li>ä½œä¸šç®¡ç†å’Œæ§åˆ¶ï¼šç”¨æˆ·æ¥å£</li>
</ol>
<h2 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a><code>Shell</code></h2><ol>
<li>å¤–å£³ç¨‹åºå¯¹ç”¨æˆ·çš„è¾“å…¥å‘½ä»¤è¿›è¡Œè§£é‡Šï¼Œä¸ºç”¨æˆ·æä¾›ä¸€ç§é€šè¿‡æ“ä½œç³»ç»Ÿä½¿ç”¨è®¡ç®—æœºçš„æ“ä½œç¯å¢ƒã€‚</li>
<li><code>Windows</code>çš„å›¾å½¢ç•Œé¢ï¼Œç”±ä¸€ä¸ªæˆä¸º<code>Explorer</code>çš„æ¨¡å—è§£é‡Šç”¨æˆ·çš„è¾“å…¥ã€‚</li>
<li>å¦‚<code>DOS</code>çš„å‘½ä»¤è¡Œç•Œé¢ï¼Œ<code>Command.com</code>æ˜¯å¯¹å‘½ä»¤è¾“å…¥è¿›è¡Œè§£é‡Šçš„å¤–å£³ç¨‹åº(<code>Linux</code>çš„<code>Shell</code>)</li>
<li>Shellå‘½ä»¤ï¼šä»å‘½ä»¤è¡Œè¾“å…¥è¯­å¥ï¼Œæ¯è¾“å…¥ä¸€æ¬¡å°±èƒ½å¾—åˆ°ä¸€æ¬¡å“åº”ï¼Œè¿™äº›è¯­å¥å°±æ˜¯<code>shell</code>å‘½ä»¤ã€‚</li>
<li><code>Shell</code>ç¨‹åºï¼šåˆç§°<code>Shell</code>è„šæœ¬ã€‚ï¼ˆæŠŠä¸€ç³»åˆ—çš„<code>shell</code>å‘½ä»¤ï¼ŒæŒ‰ç…§ä¸€å®šçš„è¯­æ³•è§„åˆ™å’Œæ§åˆ¶ç»“æ„ï¼Œç»„ç»‡åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­ï¼Œç„¶åç”±å†…æ ¸æ¥ä¸€æ¡æ¥ä¸€æ¡åœ°è§£é‡Šå’Œæ‰§è¡Œè¿™äº›å‘½ä»¤ï¼Œè¿™ä¸ªæ–‡ä»¶å°±æ˜¯shellç¨‹åºï¼Œç±»ä¼¼<code>DOS</code>/<code>Winsows</code>ä¸­çš„ã€‚batæ‰¹å¤„ç†æ–‡ä»¶ã€‚ï¼‰</li>
<li>[username@computername ~]$<br>user nameä¸ºå½“å‰ç”¨æˆ·åï¼Œcomputername ä¸ºå½“å‰è®¡ç®—æœºå ï¼Œ$è¡¨ç¤ºå½“å‰ç”¨æˆ·æ˜¯ä¸€èˆ¬ç”¨æˆ·ã€‚ <h2 id="ssh-secure-shell"><a href="#ssh-secure-shell" class="headerlink" title="ssh secure shell"></a><code>ssh</code> secure shell</h2>æŠŠ<code>Linux</code>ç»ˆç«¯æ¬åˆ°<code>Windows</code>ä¸‹ï¼Œè¿æ¥åˆ°BUPT1.<h2 id="Shellå¸¸ç”¨å‘½ä»¤"><a href="#Shellå¸¸ç”¨å‘½ä»¤" class="headerlink" title="Shellå¸¸ç”¨å‘½ä»¤"></a><code>Shell</code>å¸¸ç”¨å‘½ä»¤</h2><h3 id="ç›®å½•æ“ä½œå‘½ä»¤"><a href="#ç›®å½•æ“ä½œå‘½ä»¤" class="headerlink" title="ç›®å½•æ“ä½œå‘½ä»¤"></a>ç›®å½•æ“ä½œå‘½ä»¤</h3>ç›®å½•æ“ä½œå‘½ä»¤èƒ½å¤Ÿå¯¹å½“å‰çš„ç›®å½•è¿›è¡ŒæŸ¥çœ‹ã€åˆ›å»ºã€åˆ é™¤ï¼Œä»¥åŠæ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•å’Œæ”¹å˜å½“å‰ç›®å½•ç­‰æ“ä½œã€‚</li>
</ol>
<div note="class info">
    1. /etc - ç³»ç»Ÿæ‰€éœ€çš„é‡è¦é…ç½®å’Œç®¡ç†æ–‡ä»¶<br />
    2. /dev - å­˜æ”¾device fileï¼ˆè£…ç½®æ–‡ä»¶ï¼‰<br />
    3. /boot - å­˜æ”¾ç³»ç»Ÿæ¿€æ´»çš„ç›¸å…³æ–‡ä»¶ï¼Œä¸å¯ä»»æ„åˆ é™¤ã€‚<br />
    4. /home - ç™»é™†ç”¨æˆ·çš„ä¸»ç›®å½•<br />
    5. /lib - å­˜æ”¾ç³»ç»Ÿæ¿€æ´»æ—¶éœ€è¦çš„ç³»ç»Ÿå‡½æ•°åº“<br />
    6. /usr/lib - å­˜æ”¾ä¸€äº›åº”ç”¨ç¨‹åºçš„å…±äº«å‡½æ•°åº“<br />
    7. /mnt - ç³»ç»Ÿé»˜è®¤çš„æŒ‚è½½ç‚¹(mount point)
    8. /proc - è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œä¸å ç”¨ç¡¬ç›˜ç©ºé—´ï¼Œç›®å½•ä¸‹çš„æ–‡ä»¶å‡æ”¾ç½®äºå†…å­˜ä¸­<br />
    9. /root - ç³»ç»Ÿç®¡ç†ç”¨æˆ·rootçš„ä¸»ç›®å½•<br />
    10. /bin - å­˜æ”¾ä¸€äº›ç³»ç»Ÿå¯åŠ¨æ—¶æ‰€éœ€çš„æ™®é€šç¨‹åºå’Œç³»ç»Ÿç¨‹åº<br />
    11. /tmp - å­˜æ”¾ä¸´æ—¶æ–‡ä»¶
    12. /var - å­˜æ”¾è¢«ç³»ç»Ÿä¿®æ”¹è¿‡çš„æ•°æ®ã€‚
</div>

<p>å¸¸ç”¨çš„ç›®å½•æ“ä½œå‘½ä»¤åŒ…æ‹¬ï¼š</p>
<ol>
<li>pwd æ‰“å°å½“å‰å·¥ä½œç›®å½•</li>
<li>cd æ”¹å˜å½“å‰æ‰€åœ¨ç›®å½•</li>
<li>ls æŸ¥çœ‹å½“å‰ç›®å½•ä¸‹çš„å†…å®¹</li>
<li>dir ç±»ä¼¼lså‘½ä»¤</li>
<li>mkdir åˆ›å»ºç›®å½•</li>
<li>rmdir åˆ é™¤ç©ºç›®å½•</li>
</ol>
<h3 id="æ–‡ä»¶æ“ä½œå‘½ä»¤"><a href="#æ–‡ä»¶æ“ä½œå‘½ä»¤" class="headerlink" title="æ–‡ä»¶æ“ä½œå‘½ä»¤"></a>æ–‡ä»¶æ“ä½œå‘½ä»¤</h3><ul>
<li>åœ¨å‘½ä»¤è¡Œç¯å¢ƒä¸‹å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œå°†æ¯”åœ¨å›¾å½¢ç¯å¢ƒä¸‹æ“ä½œæ–‡ä»¶æ›´åŠ å¿«æ·å’Œé«˜æ•ˆ</li>
<li>æ–‡ä»¶æ“ä½œä¸»è¦åŒ…æ‹¬ï¼šæœç´¢æ–‡ä»¶ã€å¤åˆ¶å’Œç§»åŠ¨æ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶ä»¥åŠåˆå¹¶æ–‡ä»¶å†…å®¹</li>
</ul>
<p>å¸¸ç”¨æ–‡ä»¶æ“ä½œå‘½ä»¤ï¼š  </p>
<ul>
<li><code>cat</code>  </li>
<li><code>more</code>  </li>
<li><code>less</code>  </li>
<li><code>head</code></li>
<li><code>tail</code></li>
<li><code>cp</code></li>
<li><code>mv</code></li>
<li><code>rm</code></li>
<li><code>find</code></li>
<li><code>touch</code></li>
<li><code>ln</code></li>
</ul>
<h3 id="ä½¿ç”¨å¸®åŠ©å‘½ä»¤"><a href="#ä½¿ç”¨å¸®åŠ©å‘½ä»¤" class="headerlink" title="ä½¿ç”¨å¸®åŠ©å‘½ä»¤"></a>ä½¿ç”¨å¸®åŠ©å‘½ä»¤</h3><ol>
<li><code>man å‘½ä»¤å</code> </li>
<li><code>whatis å‘½ä»¤å</code>  </li>
<li><code>help å‘½ä»¤å</code>ï¼šé€‚ç”¨äºéƒ¨åˆ†å‘½ä»¤</li>
</ol>
<h2 id="Viç¼–è¾‘å™¨"><a href="#Viç¼–è¾‘å™¨" class="headerlink" title="Viç¼–è¾‘å™¨"></a>Viç¼–è¾‘å™¨</h2><h3 id="Viç®€ä»‹"><a href="#Viç®€ä»‹" class="headerlink" title="Viç®€ä»‹"></a><code>Vi</code>ç®€ä»‹</h3><ul>
<li><code>Vi</code>ç¼–è¾‘å™¨æ˜¯<code>Visual interface</code>çš„ç®€ç§°ï¼Œå®ƒå¯ä»¥æ‰§è¡Œè¾“å‡ºã€åˆ é™¤ã€æŸ¥æ‰¾ã€æ›¿æ¢ã€å—æ“ä½œç­‰ä¼—å¤šæ–‡æœ¬æ“ä½œ</li>
<li><code>Vi</code>ä¸æ˜¯ä¸€ä¸ªæ’ç‰ˆç¨‹åºï¼Œåªæ˜¯ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘ç¨‹åºã€‚</li>
<li>æ˜¯å…¨å±å¹•æ–‡æœ¬ç¼–è¾‘å™¨ï¼Œæ²¡æœ‰èœå•ï¼Œåªæœ‰å‘½ä»¤ã€‚</li>
</ul>
<h3 id="Viçš„åŸºæœ¬æ¦‚å¿µ"><a href="#Viçš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="Viçš„åŸºæœ¬æ¦‚å¿µ"></a><code>Vi</code>çš„åŸºæœ¬æ¦‚å¿µ</h3><ol>
<li>å‘½ä»¤è¡Œæ¨¡å¼ï¼ˆcommand modeï¼‰<br>æ§åˆ¶å±å¹•å…‰æ ‡çš„ç§»åŠ¨ã€å­—ç¬¦ã€å­—æˆ–è¡Œçš„åˆ é™¤ã€ç§»åŠ¨å¤åˆ¶æŸåŒºæ®µåŠè¿›å…¥<code>Insert mode</code>ä¸‹ï¼Œæˆ–è€…åˆ°<code>last line mode</code>ã€‚</li>
<li>æ’å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰<br>åªæœ‰åœ¨<code>Insert mode</code>ä¸‹ï¼Œæ‰å¯ä»¥åšæ–‡å­—è¾“å…¥ï¼ŒæŒ‰ESCé”®å¯å›åˆ°å‘½ä»¤è¡Œæ¨¡å¼ã€‚</li>
<li>åº•è¡Œæ¨¡å¼(last line mode)<br>å°†æ–‡ä»¶ä¿å­˜æˆ–é€€å‡ºviï¼Œä¹Ÿå¯ä»¥è®¾ç½®ç¼–è¾‘ç¯å¢ƒï¼Œå¦‚å¯»æ‰¾å­—ç¬¦ä¸²ã€åˆ—å‡ºè¡Œå·ã€‚</li>
</ol>
<div class="note info">
    $ vi test.txt<br />
    å³å¯è¿›å…¥viï¼ˆæ‰“å¼€æˆ–æ–°å»ºæ–‡ä»¶ï¼‰
</div>

<p>æ“ä½œï¼š</p>
<ol>
<li>å‘½ä»¤è¡Œæ¨¡å¼ â€”-&gt;(i)  æ’å…¥æ¨¡å¼</li>
<li>æ’å…¥æ¨¡å¼  â€”-&gt;ï¼ˆESCï¼‰  å‘½ä»¤è¡Œæ¨¡å¼</li>
<li>å¦‚æœå¤„äºã€Œæ’å…¥æ¨¡å¼ã€ï¼Œå°±åªèƒ½ä¸€ç›´è¾“å…¥æ–‡å­—ï¼Œå¦‚æœå‘ç°è¾“é”™äº†å­—æƒ³ç”¨å…‰æ ‡å¾€å›ç§»åŠ¨å°†è¯¥å­—åˆ é™¤ï¼Œå°±å¾—å…ˆå›åˆ°ã€Œå‘½ä»¤è¡Œæ¨¡å¼ã€</li>
<li>åœ¨ã€Œå‘½ä»¤è¡Œæ¨¡å¼ã€ä¸‹ï¼ŒæŒ‰ä¸‹ï¼šè¿›å…¥åº•è¡Œæ¨¡å¼<br><code>: w filename</code><br><code>: wq</code><br><code>: q!</code></li>
</ol>
<h2 id="GCCå·¥å…·é“¾"><a href="#GCCå·¥å…·é“¾" class="headerlink" title="GCCå·¥å…·é“¾"></a><code>GCC</code>å·¥å…·é“¾</h2><h3 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h3><ol>
<li><code>GCC</code>ç¼–è¯‘å™¨èƒ½å°†<code>C</code>å’Œ<code>C++</code>è¯­è¨€æºç¨‹åºã€æ±‡ç¼–ç¨‹åºç¼–è¯‘ã€é“¾æ¥æˆå¯æ‰§è¡Œæ–‡ä»¶ã€‚</li>
<li>ä½¿ç”¨<code>GCC</code>ç¼–è¯‘å™¨æ—¶ï¼Œç¼–è¯‘è¿‡ç¨‹å¯ä»¥è¢«ç»†åˆ†ä¸ºå››ä¸ªé˜¶æ®µï¼š<ul>
<li>é¢„å¤„ç†(Pre-Processing)</li>
<li>ç¼–è¯‘(Compiling)</li>
<li>æ±‡ç¼–(Assembling)</li>
<li>é“¾æ¥(Linking)</li>
</ul>
</li>
</ol>
<h3 id="GDBçš„æ¦‚è¿°"><a href="#GDBçš„æ¦‚è¿°" class="headerlink" title="GDBçš„æ¦‚è¿°"></a><code>GDB</code>çš„æ¦‚è¿°</h3><p><code>GDB</code>æ˜¯ä¸€æ¬¾GNUå¼€å‘ç»„ç»‡å¹¶å‘å¸ƒçš„UNIX/Linuxä¸‹çš„ç¨‹åºè°ƒè¯•å·¥å…·ã€‚å®ƒä½¿ä½ èƒ½å¤Ÿåœ¨ç¨‹åºè¿è¡Œæ—¶è§‚å¯Ÿç¨‹åºçš„å†…éƒ¨ç»“æ„å’Œå†…å­˜çš„ä½¿ç”¨æƒ…å†µã€‚ä»¥ä¸‹æ˜¯<code>GDB</code>æä¾›çš„ä¸€äº›åŠŸèƒ½ï¼š</p>
<ol>
<li>ç›‘è§†ç¨‹åºä¸­å˜é‡çš„å€¼</li>
<li>è®¾ç½®æ–­ç‚¹ä»¥ä½¿ç¨‹åºåœ¨æŒ‡å®šçš„ä»£ç è¡Œä¸Šåœæ­¢è¿è¡Œ</li>
<li>èƒ½é€è¡Œæ‰§è¡Œä»£ç </li>
</ol>
<h2 id="Objdumpç®€ä»‹"><a href="#Objdumpç®€ä»‹" class="headerlink" title="Objdumpç®€ä»‹"></a><code>Objdump</code>ç®€ä»‹</h2><p><code>Objdump</code>æ˜¯ä»¥ä¸€ç§å¯é˜…è¯»çš„æ ¼å¼è®©ä½ æ›´å¤šåœ°äº†è§£äºŒè¿›åˆ¶æ–‡ä»¶å¯èƒ½å¸¦æœ‰åœ°é™„åŠ ä¿¡æ¯ã€‚<br>å¯¹äºæƒ³è¿›ä¸€æ­¥äº†è§£ç³»ç»Ÿåœ°ç¨‹åºå‘˜ï¼Œè¿™ä¸ªå‘½ä»¤æ²¡æœ‰æ²¡æœ‰æ›´å¤šæ„ä¹‰ï¼Œå¯¹äºæƒ³è¿›ä¸€æ­¥äº†è§£ç³»ç»Ÿçš„ç¨‹åºå‘˜ï¼Œåº”è¯¥æŒæ¡è¿™ç§å·¥å…·ï¼Œè‡³å°‘ä½ å¯ä»¥è‡ªå·±å†™å†™<code>shellcode</code>äº†ï¼Œæˆ–è€…çœ‹çœ‹äººå®¶ç»™çš„<code>exploit</code>ä¸­çš„<code>shellcode</code>æ˜¯ä»€ä¹ˆä¸œè¥¿ã€‚<br><strong>æŠŠCè¯­è¨€æºä»£ç ç¼–è¯‘é“¾æ¥ç”Ÿæˆçš„å¯æ‰§è¡Œç¨‹åºåæ±‡ç¼–åå¾—åˆ°å¯¹åº”çš„æ±‡ç¼–ä»£ç ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬ç†è§£Cè¯­è¨€å’Œæ±‡ç¼–è¯­è¨€ä¹‹é—´çš„å¯¹åº”å…³ç³»ã€‚éå¸¸æœ‰åŠ©äºæ·±å…¥ç†è§£Cè¯­è¨€</strong></p>
<div class="note warning">
    è‡³æ­¤ï¼Œå·²ç»å®Œæˆäº†è®¡ç®—æœºç³»ç»ŸåŸºç¡€ç¬¬ä¸€æ¬¡å®éªŒçš„ç†è®ºéƒ¨åˆ†ï¼Œå…¶ä¸­æœ‰å¤ªå¤šçš„ä¸œè¥¿è¿˜éœ€è¦è‡ªå·±å»å®è·µã€æ¥ä¸‹æ¥å¼€å§‹å®éªŒï¼
</div>]]></content>
      <categories>
        <category>è®¡ç®—æœºç³»ç»ŸåŸºç¡€</category>
      </categories>
  </entry>
  <entry>
    <title>KNNä¸Naive_Bayesä»£ç å®ç°</title>
    <url>/201911/KNN%E4%B8%8ENaive_Bayes%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0/</url>
    <content><![CDATA[<h2 id="ä»»åŠ¡è¦æ±‚"><a href="#ä»»åŠ¡è¦æ±‚" class="headerlink" title="ä»»åŠ¡è¦æ±‚"></a>ä»»åŠ¡è¦æ±‚</h2><p>é‡‡ç”¨Pythonå®ç°åˆ†ç±»ç®—æ³•ï¼š</p>
<ul>
<li>ä¸å¾—å€ŸåŠ©ç°æˆçš„å·¥å…·åŒ…è°ƒåº“ï¼Œä¾‹å¦‚SKlearn</li>
<li>è‡³å°‘å®ç°k-è¿‘é‚»ï¼Œæœ´ç´ è´å¶æ–¯ï¼Œé€»è¾‘å›å½’ï¼Œå†³ç­–æ ‘ä¸æ”¯æŒå‘é‡æœºä¸­çš„å…¶ä¸­ä¸€ä¸ªç®—æ³•ã€‚k-ä¸´è¿‘ï¼Œæœ´ç´ è´å¶æ–¯ç›¸å¯¹è¾ƒç®€å•ï¼Œé€»è¾‘å›å½’ï¼Œå†³ç­–æ ‘ä¸æ”¯æŒå‘é‡æœºç›¸å¯¹è¾ƒéš¾ã€‚</li>
<li>å¯¹breast canceræ•°æ®é›†è°ƒç”¨ç¼–å†™çš„å‡½æ•°è¿›è¡Œåˆ†ç±»æ¼”ç¤ºã€‚</li>
<li>èƒ½åŠ›å¼ºçš„å¯ä»¥å¤šå®ç°å‡ ç§ç®—æ³•</li>
</ul>
<span id="more"></span>
<h2 id="ç®—æ³•å®ç°â€”â€”kNN"><a href="#ç®—æ³•å®ç°â€”â€”kNN" class="headerlink" title="ç®—æ³•å®ç°â€”â€”kNN"></a>ç®—æ³•å®ç°â€”â€”kNN</h2><p>åˆ©ç”¨breast_cancerä¸­çš„æ•°æ®ï¼Œå®ç°kNNç®—æ³•ã€‚  </p>
<ol>
<li>å¯¼å…¥æ•°æ®é›†ï¼Œå¹¶åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†</li>
<li>å®ç°kNNç®—æ³•<ul>
<li>å¯¹æ¯ä¸€ä¸ªæµ‹è¯•é›†ä¸­çš„å®ä¾‹ï¼Œè®¡ç®—å®ƒè·ç¦»è®­ç»ƒé›†ä¸­çš„ç‚¹çš„è·ç¦»</li>
<li>æ ¹æ®é€‰å®šçš„kå€¼ï¼Œé€‰æ‹©è·ç¦»æœ€è¿‘çš„kä¸ªç‚¹æ•°é‡æ›´å¤šçš„â€œæ ‡ç­¾â€</li>
</ul>
</li>
<li>ç®—æ³•æ•ˆæœæµ‹è¯•ï¼Œæµ‹è¯•ç®—æ³•çš„ç²¾ç¡®åº¦ï¼Œå’ŒSKlearnæä¾›çš„kNNç®—æ³•è¿›è¡Œæ¯”è¾ƒã€‚</li>
</ol>
<h2 id="æºç "><a href="#æºç " class="headerlink" title="æºç "></a>æºç </h2><h3 id="å¯¼å…¥æ•°æ®"><a href="#å¯¼å…¥æ•°æ®" class="headerlink" title="å¯¼å…¥æ•°æ®"></a>å¯¼å…¥æ•°æ®</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># å¯¼å…¥æ•°æ®é›†</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> neighbors</span><br><span class="line"></span><br><span class="line">datasets = datasets.load_breast_cancer()</span><br><span class="line">X = datasets.data;</span><br><span class="line">y = datasets.target;</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = <span class="number">0.3</span>, random_state = <span class="number">0</span>)</span><br><span class="line">k = <span class="number">5</span></span><br><span class="line"><span class="comment"># print(datasets.DESCR)</span></span><br><span class="line"><span class="comment"># malignant - 0, benign - 1</span></span><br><span class="line">y_predict = []</span><br></pre></td></tr></table></figure>
<h3 id="kNNç®—æ³•å®ç°"><a href="#kNNç®—æ³•å®ç°" class="headerlink" title="kNNç®—æ³•å®ç°"></a>kNNç®—æ³•å®ç°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">knn</span>(<span class="params">X_train, y_train, X_test, y_predict</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    å¯¹æµ‹è¯•é›†çš„æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œå¾—åˆ°çš„ç»“æœä¸y_testæ¯”è¾ƒã€‚ç”¨æ¬§å¼è·ç¦»è¿›è¡Œè®¡ç®—ã€‚</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> test_data <span class="keyword">in</span> X_test:</span><br><span class="line">        first_k_instance = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(X_train)):</span><br><span class="line">            distance = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> attributes_no <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(X_train[<span class="number">0</span>])):</span><br><span class="line">                distance += (test_data[attributes_no] - X_train[i][attributes_no]) ** <span class="number">2</span></span><br><span class="line">            Euclid_distance = distance ** <span class="number">0.5</span></span><br><span class="line">            <span class="comment">#print(Euclid_distance)</span></span><br><span class="line">            <span class="keyword">if</span> i &lt; k:</span><br><span class="line">                first_k_instance.append((i, Euclid_distance))</span><br><span class="line">            <span class="keyword">elif</span> Euclid_distance &lt; first_k_instance[k-<span class="number">1</span>][<span class="number">1</span>]:</span><br><span class="line">                first_k_instance[k-<span class="number">1</span>] = (i, Euclid_distance)</span><br><span class="line">            first_k_instance = <span class="built_in">sorted</span>(first_k_instance, key = <span class="keyword">lambda</span> x:x[<span class="number">1</span>]) </span><br><span class="line">            <span class="comment">#print(first_k_instance)</span></span><br><span class="line">        <span class="comment"># ç°åœ¨å¾—åˆ°äº†è·ç¦»æµ‹è¯•ç‚¹æœ€è¿‘çš„kä¸ªç‚¹ï¼Œç”¨å¤šæ•°è¡¨å†³å™¨æ¥åˆ¤æ–­æµ‹è¯•ç‚¹æ˜¯è‰¯æ€§è¿˜æ˜¯æ¶æ€§</span></span><br><span class="line">        benign = <span class="number">0</span></span><br><span class="line">        malignant = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> instance <span class="keyword">in</span> first_k_instance:</span><br><span class="line">            <span class="keyword">if</span> y_train[instance[<span class="number">0</span>]] == <span class="number">0</span>:</span><br><span class="line">                malignant += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                benign += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> malignant &gt;= benign:</span><br><span class="line">            y_predict.append(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            y_predict.append(<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<h3 id="ç²¾ç¡®åº¦è®¡ç®—å‡½æ•°"><a href="#ç²¾ç¡®åº¦è®¡ç®—å‡½æ•°" class="headerlink" title="ç²¾ç¡®åº¦è®¡ç®—å‡½æ•°"></a>ç²¾ç¡®åº¦è®¡ç®—å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">accuracy</span>(<span class="params">y_predict, y_test</span>):</span><br><span class="line">    correct = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y_predict)):</span><br><span class="line">        <span class="keyword">if</span> y_predict[i] == y_test[i]:</span><br><span class="line">            correct += <span class="number">1</span></span><br><span class="line">    accuracy_rate = correct / <span class="built_in">len</span>(y_predict)</span><br><span class="line">    <span class="keyword">return</span> correct, accuracy_rate</span><br></pre></td></tr></table></figure>
<h3 id="ä¸»å‡½æ•°"><a href="#ä¸»å‡½æ•°" class="headerlink" title="ä¸»å‡½æ•°"></a>ä¸»å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    knn(X_train, y_train, X_test, y_predict)</span><br><span class="line">    correct, accuracy_rate = accuracy(y_predict, y_test)</span><br><span class="line">    <span class="built_in">print</span>(y_predict)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;kNNæ¨¡å‹æµ‹è¯•é›†é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š%.3f&quot;</span> % accuracy_rate);</span><br><span class="line">    KNN = neighbors.KNeighborsClassifier(n_neighbors = <span class="number">5</span>)</span><br><span class="line">    KNN.fit(X_train, y_train)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sklearnåº“ä¸­kNNæ¨¡å‹é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š%.3f&quot;</span> % KNN.score(X_test, y_test));</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<pre><code>[0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 0, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1, 1, 1]
kNNæ¨¡å‹æµ‹è¯•é›†é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š0.947
sklearnåº“ä¸­kNNæ¨¡å‹é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š0.947
</code></pre><p>é€šè¿‡å®éªŒç»“æœå¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬å®ç°çš„kNNä¸SKlearnä¸­æä¾›çš„kNNæ•ˆæœä¸€è‡´ã€‚<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®kçš„å€¼å’Œè½¬æ¢å¯»æ‰¾ç›¸ä¼¼æ ·æœ¬çš„ç­–ç•¥ï¼ˆå°†æ¬§å¼è·ç¦»æ›¿æ¢ä¸ºåŒ¹é…ç³»æ•°æˆ–Jaccardç­‰ï¼‰ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–ç²¾ç¡®åº¦ã€‚</p>
<h2 id="ç®—æ³•å®ç°â€”â€”Naive-Bayes"><a href="#ç®—æ³•å®ç°â€”â€”Naive-Bayes" class="headerlink" title="ç®—æ³•å®ç°â€”â€”Naive_Bayes"></a>ç®—æ³•å®ç°â€”â€”Naive_Bayes</h2><p>åˆ©ç”¨breast_cancerä¸­çš„æ•°æ®ï¼Œå®ç°Naive_Bayesç®—æ³•ã€‚  </p>
<ol>
<li>å¯¼å…¥æ•°æ®é›†ï¼Œå¹¶åˆ†ä¸ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†</li>
<li>å®ç°Naive Bayesç®—æ³•<ul>
<li>æŠŠè¿ç»­çš„å±æ€§åˆ’åˆ†åŒºé—´ï¼Œè®¡ç®—æ­£ä¾‹å’Œåä¾‹è½åœ¨æ¯ä¸ªå±æ€§çš„æ¯ä¸ªåŒºé—´çš„ä¸ªæ•°</li>
<li>è®¡ç®—æ¦‚ç‡å€¼ï¼Œé¢„æµ‹æµ‹è¯•é›†çš„æ ‡ç­¾</li>
</ul>
</li>
<li>ç®—æ³•æ•ˆæœæµ‹è¯•ï¼Œæµ‹è¯•ç®—æ³•çš„ç²¾ç¡®åº¦ï¼Œå’ŒSKlearnæä¾›çš„Naive Bayesç®—æ³•è¿›è¡Œæ¯”è¾ƒã€‚</li>
</ol>
<h2 id="æºç -1"><a href="#æºç -1" class="headerlink" title="æºç "></a>æºç </h2><h3 id="å¯¼å…¥æ•°æ®-1"><a href="#å¯¼å…¥æ•°æ®-1" class="headerlink" title="å¯¼å…¥æ•°æ®"></a>å¯¼å…¥æ•°æ®</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># load datasets</span></span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> datasets</span><br><span class="line"><span class="keyword">from</span> sklearn.model_selection <span class="keyword">import</span> train_test_split</span><br><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> naive_bayes</span><br><span class="line"></span><br><span class="line">datasets = datasets.load_breast_cancer()</span><br><span class="line">X = datasets.data;</span><br><span class="line">y = datasets.target;</span><br><span class="line">X_train, X_test, y_train, y_test = train_test_split(X, y, test_size = <span class="number">0.3</span>, random_state = <span class="number">0</span>)</span><br><span class="line"><span class="comment">#print(datasets.DESCR)</span></span><br><span class="line"><span class="comment">#malignant - 0, benign - 1</span></span><br><span class="line">y_predict = []</span><br></pre></td></tr></table></figure>
<p>ç”±äº30ä¸ªå±æ€§å…¨éƒ¨éƒ½æ˜¯è¿ç»­å€¼ï¼Œæˆ‘ä»¬ä½¿ç”¨æœ´ç´ è´å¶æ–¯çš„æ—¶å€™éœ€è¦å°†å±æ€§çš„å€¼çš„èŒƒå›´åˆ†ä¸ºå‡ ä¸ªåŒºé—´ï¼Œè®¡ç®—å®ä¾‹è½åœ¨è¯¥åŒºé—´çš„æ¦‚ç‡ã€‚è¿™é‡Œæ¯ä¸ªå±æ€§æˆ‘éƒ½ä»¥å¹³å‡å€¼ä½œä¸ºé—´éš”æ¥åˆ’åˆ†åŒºé—´ã€‚<br><img src="2-1.jpg" alt=""></p>
<h3 id="å¯¹æ¯ä¸ªè¿ç»­çš„å±æ€§åˆ’åˆ†åŒºé—´å¹¶ç»Ÿè®¡ä¸ªæ•°"><a href="#å¯¹æ¯ä¸ªè¿ç»­çš„å±æ€§åˆ’åˆ†åŒºé—´å¹¶ç»Ÿè®¡ä¸ªæ•°" class="headerlink" title="å¯¹æ¯ä¸ªè¿ç»­çš„å±æ€§åˆ’åˆ†åŒºé—´å¹¶ç»Ÿè®¡ä¸ªæ•°"></a>å¯¹æ¯ä¸ªè¿ç»­çš„å±æ€§åˆ’åˆ†åŒºé—´å¹¶ç»Ÿè®¡ä¸ªæ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">distribution</span>(<span class="params">X_train, y_train</span>):</span><br><span class="line">    <span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    å…ˆæŠŠåŒºé—´åˆ†å¥½ï¼Œç„¶åå†è®¡ç®—æ¦‚ç‡ã€‚</span></span><br><span class="line"><span class="string">    &#x27;&#x27;&#x27;</span></span><br><span class="line">    <span class="comment">#===============åŒºé—´åˆ’åˆ†====================#</span></span><br><span class="line">    attributes_max_min_mean = []</span><br><span class="line">    <span class="comment"># è®°å½•æ‰€æœ‰å±æ€§çš„æœ€å¤§å€¼ã€æœ€å°å€¼å’Œå¹³å‡å€¼</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(X_train[<span class="number">0</span>])):</span><br><span class="line">        <span class="comment">#å±æ€§å¾ªç¯</span></span><br><span class="line">        <span class="comment">#section = [max, min, mean]</span></span><br><span class="line">        section = [X_train[<span class="number">0</span>][i], X_train[<span class="number">0</span>][i], <span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> instance <span class="keyword">in</span> X_train:</span><br><span class="line">            <span class="comment">#è®­ç»ƒæ ·ä¾‹å¾ªç¯</span></span><br><span class="line">            <span class="keyword">if</span> instance[i] &gt; section[<span class="number">0</span>]:</span><br><span class="line">                section[<span class="number">0</span>] = instance[i]</span><br><span class="line">            <span class="keyword">if</span> instance[i] &lt; section[<span class="number">1</span>]:</span><br><span class="line">                section[<span class="number">1</span>] = instance[i]</span><br><span class="line">            section[<span class="number">2</span>] += instance[i]</span><br><span class="line">        section[<span class="number">2</span>] /= <span class="built_in">len</span>(X_train)</span><br><span class="line">        attributes_max_min_mean.append(section)</span><br><span class="line">        </span><br><span class="line">    <span class="comment">#=========è®¡ç®—æ¯ä¸ªå±æ€§è½åœ¨æ¯ä¸ªåŒºé—´çš„æ ·ä¾‹ä¸ªæ•°=========#</span></span><br><span class="line">    instance_distribution = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(X_train[<span class="number">0</span>])):</span><br><span class="line">        <span class="comment">#å±æ€§å¾ªç¯</span></span><br><span class="line">        smaller_benign = <span class="number">0</span></span><br><span class="line">        larger_benign = <span class="number">0</span></span><br><span class="line">        smaller_malignant = <span class="number">0</span></span><br><span class="line">        larger_malignant = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(X_train)):</span><br><span class="line">            <span class="comment">#è®­ç»ƒæ ·ä¾‹å¾ªç¯</span></span><br><span class="line">            <span class="keyword">if</span> X_train[j][i] &gt; attributes_max_min_mean[i][<span class="number">2</span>]:</span><br><span class="line">                <span class="keyword">if</span> y_train[j] == <span class="number">1</span>:</span><br><span class="line">                    larger_benign += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    larger_malignant +=<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> y_train[j] == <span class="number">1</span>:</span><br><span class="line">                smaller_benign += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                smaller_malignant += <span class="number">1</span>   </span><br><span class="line">        instance_distribution.append([smaller_benign, larger_benign, smaller_malignant, larger_malignant])</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> instance_distribution, attributes_max_min_mean</span><br></pre></td></tr></table></figure>
<h3 id="å®ç°æœ´ç´ è´å¶æ–¯"><a href="#å®ç°æœ´ç´ è´å¶æ–¯" class="headerlink" title="å®ç°æœ´ç´ è´å¶æ–¯"></a>å®ç°æœ´ç´ è´å¶æ–¯</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">Naive_Bayes</span>(<span class="params">X_test, y_predict, instance_distribution,attributes_max_min_mean</span>):</span><br><span class="line">    <span class="keyword">for</span> test_data <span class="keyword">in</span> X_test:</span><br><span class="line">        <span class="comment">#æµ‹è¯•æ ·ä¾‹å¾ªç¯</span></span><br><span class="line">        <span class="comment">#è®­ç»ƒé›†ä¸­è‰¯æ€§å’Œæ¶æ€§è‚¿ç˜¤çš„æ•°é‡</span></span><br><span class="line">        malignant = instance_distribution[<span class="number">0</span>][<span class="number">2</span>] + instance_distribution[<span class="number">0</span>][<span class="number">3</span>]</span><br><span class="line">        benign = instance_distribution[<span class="number">0</span>][<span class="number">0</span>] + instance_distribution[<span class="number">0</span>][<span class="number">1</span>]</span><br><span class="line">        <span class="comment">#æ¦‚ç‡åˆå§‹åŒ–ï¼Œä¸‹é¢è®¡ç®—æ¯ä¸ªå±æ€§çš„æ¦‚ç‡</span></span><br><span class="line">        p_xc0 = <span class="number">1</span></span><br><span class="line">        p_xc1 = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(X_train[<span class="number">0</span>])):</span><br><span class="line">            <span class="comment"># å±æ€§å¾ªç¯</span></span><br><span class="line">            <span class="keyword">if</span> test_data[i] &gt; attributes_max_min_mean[i][<span class="number">2</span>]:</span><br><span class="line">                p_xc0 *= instance_distribution[i][<span class="number">3</span>] / malignant</span><br><span class="line">                p_xc1 *= instance_distribution[i][<span class="number">1</span>] / benign</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                p_xc0 *= instance_distribution[i][<span class="number">2</span>] / malignant</span><br><span class="line">                p_xc1 *= instance_distribution[i][<span class="number">0</span>] / benign</span><br><span class="line">        p0 = p_xc0 * malignant / (malignant + benign)</span><br><span class="line">        p1 = p_xc1 * benign / (malignant + benign)</span><br><span class="line">        <span class="keyword">if</span> p0 &gt; p1:</span><br><span class="line">            y_predict.append(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            y_predict.append(<span class="number">1</span>)      </span><br></pre></td></tr></table></figure>
<h3 id="è®¡ç®—ç²¾ç¡®åº¦"><a href="#è®¡ç®—ç²¾ç¡®åº¦" class="headerlink" title="è®¡ç®—ç²¾ç¡®åº¦"></a>è®¡ç®—ç²¾ç¡®åº¦</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">accuracy</span>(<span class="params">y_predict, y_test</span>):</span><br><span class="line">    correct = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(y_predict)):</span><br><span class="line">        <span class="keyword">if</span> y_predict[i] == y_test[i]:</span><br><span class="line">            correct += <span class="number">1</span></span><br><span class="line">    accuracy_rate = correct / <span class="built_in">len</span>(y_predict)</span><br><span class="line">    <span class="keyword">return</span> correct, accuracy_rate</span><br></pre></td></tr></table></figure>
<h3 id="ä¸»å‡½æ•°-1"><a href="#ä¸»å‡½æ•°-1" class="headerlink" title="ä¸»å‡½æ•°"></a>ä¸»å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    instance_distribution, attributes_max_min_mean = distribution(X_train, y_train)</span><br><span class="line">    Naive_Bayes(X_test, y_predict, instance_distribution, attributes_max_min_mean)</span><br><span class="line">    correct, accuracy_rate = accuracy(y_predict, y_test)</span><br><span class="line">    <span class="built_in">print</span>(y_predict)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Naive Bayesæ¨¡å‹æµ‹è¯•é›†é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š%.3f&quot;</span> % accuracy_rate);</span><br><span class="line">    bayes = naive_bayes.GaussianNB()</span><br><span class="line">    bayes.fit(X_train, y_train)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;sklearnåº“ä¸­Naive Bayesæ¨¡å‹é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š%.3f&quot;</span> % bayes.score(X_test, y_test));</span><br><span class="line">    </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<pre><code>[0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 1, 0, 1, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 1, 0, 0, 1, 1, 1, 0, 0, 1, 1, 1, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 0, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1, 0, 0, 1, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 1, 0, 1, 1, 1, 0, 0, 1, 0, 0, 0, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, 0, 0, 1, 1, 1, 1, 0, 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 0, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 0, 0, 1, 1, 0, 1, 0, 0, 0, 1, 1, 1]
Naive Bayesæ¨¡å‹æµ‹è¯•é›†é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š0.930
sklearnåº“ä¸­Naive Bayesæ¨¡å‹é¢„æµ‹çš„å‡†ç¡®ç‡ä¸ºï¼š0.924
</code></pre><p>é€šè¿‡å®éªŒç»“æœå¯ä»¥å‘ç°ï¼Œæˆ‘ä»¬å®ç°çš„æœ´ç´ è´å¶æ–¯æ¯”SKlearnæä¾›çš„æœ´ç´ è´å¶æ–¯æ•ˆæœæ›´å¥½ã€‚<br>æˆ‘ä»¬å¯ä»¥é€šè¿‡å°è¯•å„å±æ€§ä¸åŒçš„åŒºé—´åˆ’åˆ†ï¼Œè¿›ä¸€æ­¥ä¼˜åŒ–ç²¾ç¡®åº¦ã€‚è€ŒSKlearnæä¾›çš„æœ´ç´ è´å¶æ–¯æ•ˆæœä¸å¥½çš„åŸå› å¯èƒ½å°±æ˜¯å°†è¿ç»­å€¼è½¬æ¢ä¸ºç¦»æ•£å€¼çš„åŒºé—´åˆ’åˆ†æ²¡æœ‰åšå¥½ã€‚</p>
]]></content>
      <categories>
        <category>æ•°æ®ç§‘å­¦å¯¼è®º</category>
      </categories>
  </entry>
  <entry>
    <title>Fisherç®—æ³•&amp;SVM&amp;K-MeansåŠå…¶ä¼˜åŒ–</title>
    <url>/201911/Fisher%E7%AE%97%E6%B3%95&amp;SVM&amp;K-Means%E5%8F%8A%E5%85%B6%E4%BC%98%E5%8C%96/</url>
    <content><![CDATA[<h2 id="fisherç®—æ³•åŠå…¶å®ç°"><a href="#fisherç®—æ³•åŠå…¶å®ç°" class="headerlink" title="fisherç®—æ³•åŠå…¶å®ç°"></a><code>fisher</code>ç®—æ³•åŠå…¶å®ç°</h2><ol>
<li>è¯·å®ç°<code>fisher</code>ç®—æ³•ï¼Œå¹¶é‡‡ç”¨è‡ªå·±éšæœºç”Ÿæˆ2ç±»æ•°æ®ï¼ˆæ¯ç±»100ä¸ªï¼‰çš„æ–¹å¼ï¼ŒéªŒè¯è‡ªå·±çš„ç®—æ³•ã€‚<br><a href="https://blog.csdn.net/pengjian444/article/details/71138003">å‚è€ƒèµ„æ–™:https://blog.csdn.net/pengjian444/article/details/71138003</a></li>
</ol>
<span id="more"></span>
<h3 id="æ•°æ®ç”Ÿæˆ"><a href="#æ•°æ®ç”Ÿæˆ" class="headerlink" title="æ•°æ®ç”Ÿæˆ"></a>æ•°æ®ç”Ÿæˆ</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> make_multilabel_classification</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x, y = make_multilabel_classification(n_samples=<span class="number">200</span>, n_features=<span class="number">2</span>,</span><br><span class="line">                                      n_labels=<span class="number">1</span>, n_classes=<span class="number">1</span>,</span><br><span class="line">                                      random_state=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ ¹æ®ç±»åˆ«åˆ†ç±»</span></span><br><span class="line">index1 = np.array([index <span class="keyword">for</span> (index, value) <span class="keyword">in</span> <span class="built_in">enumerate</span>(y) <span class="keyword">if</span> value == <span class="number">0</span>])  <span class="comment"># è·å–ç±»åˆ«1çš„indexs</span></span><br><span class="line">index2 = np.array([index <span class="keyword">for</span> (index, value) <span class="keyword">in</span> <span class="built_in">enumerate</span>(y) <span class="keyword">if</span> value == <span class="number">1</span>])  <span class="comment"># è·å–ç±»åˆ«2çš„indexs</span></span><br><span class="line"></span><br><span class="line">c_1 = x[index1]   <span class="comment"># ç±»åˆ«1çš„æ‰€æœ‰æ•°æ®(x1, x2) in X_1</span></span><br><span class="line">c_2 = x[index2]  <span class="comment"># ç±»åˆ«2çš„æ‰€æœ‰æ•°æ®(x1, x2) in X_2</span></span><br></pre></td></tr></table></figure>
<p><a href="http://lijiancheng0614.github.io/scikit-learn/modules/generated/sklearn.datasets.make_multilabel_classification.html#sklearn.datasets.make_multilabel_classification">make_multilabel_classificationæ–¹æ³•å‚æ•°è¯´æ˜</a><br><code>n_samples</code>:æ ·æœ¬çš„æ•°é‡ã€‚<br><code>n_features</code>ï¼šæ ·æœ¬çš„ç‰¹å¾ï¼Œè¿™é‡Œæ˜¯åœ¨äºŒç»´å¹³é¢ä¸­çš„ç‚¹ï¼Œæ‰€ä»¥ä¸º2.<br><code>n_labels</code>ï¼šæ¯ä¸ªå®ä¾‹çš„å¹³å‡æ ‡ç­¾æ•°ã€‚<br><code>n_classes</code>ï¼šåˆ†ç±»é—®é¢˜çš„åˆ†ç±»æ•°ã€‚<br><code>random_state</code>ï¼šè®¾ç½®éšæœºæ•°ç§å­ï¼Œä¿è¯æ¯æ¬¡äº§ç”Ÿç›¸åŒçš„æ•°æ®ã€‚</p>
<p><a href="https://www.runoob.com/python/python-func-enumerate.html">enumerate()å‡½æ•°è¯´æ˜</a><br><code>enumerate()</code>å‡½æ•°ç”¨äºå°†ä¸€ä¸ªå¯éå†çš„æ•°æ®å¯¹è±¡(å¦‚åˆ—è¡¨ã€å…ƒç»„æˆ–å­—ç¬¦ä¸²)ç»„åˆä¸ºä¸€ä¸ªç´¢å¼•åºåˆ—ï¼ŒåŒæ—¶åˆ—å‡ºæ•°æ®å’Œæ•°æ®ä¸‹æ ‡ï¼Œä¸€èˆ¬ç”¨åœ¨ for å¾ªç¯å½“ä¸­ã€‚</p>
<h3 id="fisherç®—æ³•å®ç°"><a href="#fisherç®—æ³•å®ç°" class="headerlink" title="fisherç®—æ³•å®ç°"></a>fisherç®—æ³•å®ç°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">cal_cov_and_avg</span>(<span class="params">samples</span>):</span><br><span class="line">    u1 = np.mean(samples, axis=<span class="number">0</span>)</span><br><span class="line">    cov_m = np.zeros((samples.shape[<span class="number">1</span>], samples.shape[<span class="number">1</span>]))</span><br><span class="line">    <span class="keyword">for</span> s <span class="keyword">in</span> samples:</span><br><span class="line">        t = s - u1</span><br><span class="line">        cov_m += t * t.reshape(<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> cov_m, u1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fisher</span>(<span class="params">c_1, c_2</span>):</span><br><span class="line">    cov_1, u1 = cal_cov_and_avg(c_1)</span><br><span class="line">    cov_2, u2 = cal_cov_and_avg(c_2)</span><br><span class="line">    s_w = cov_1 + cov_2</span><br><span class="line">    u, s, v = np.linalg.svd(s_w)  <span class="comment"># å¥‡å¼‚å€¼åˆ†è§£</span></span><br><span class="line">    s_w_inv = np.dot(np.dot(v.T, np.linalg.inv(np.diag(s))), u.T)</span><br><span class="line">    <span class="keyword">return</span> np.dot(s_w_inv, u1 - u2)</span><br></pre></td></tr></table></figure>
<p><code>np.mean</code>ï¼šè®¡ç®—åˆ¶å®šè½´ä¸Šçš„å¹³å‡å€¼ã€‚<br><code>np.zeros</code>ï¼šç»™å®šå½¢çŠ¶å’Œç±»å‹ç¡®å®šçš„æ•°ç»„ï¼Œå¹¶ç”¨0å¡«å……ã€‚</p>
<h3 id="åˆ¤å®šç±»åˆ«"><a href="#åˆ¤å®šç±»åˆ«" class="headerlink" title="åˆ¤å®šç±»åˆ«"></a>åˆ¤å®šç±»åˆ«</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">judge</span>(<span class="params">sample, w, c_1, c_2</span>):</span><br><span class="line">    u1 = np.mean(c_1, axis=<span class="number">0</span>)</span><br><span class="line">    u2 = np.mean(c_2, axis=<span class="number">0</span>)</span><br><span class="line">    center_1 = np.dot(w.T, u1)</span><br><span class="line">    center_2 = np.dot(w.T, u2)</span><br><span class="line">    pos = np.dot(w.T, sample)</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">abs</span>(pos - center_1) &lt; <span class="built_in">abs</span>(pos - center_2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">w = fisher(c_1, c_2)  <span class="comment"># è°ƒç”¨å‡½æ•°ï¼Œå¾—åˆ°å‚æ•°w</span></span><br><span class="line">out = judge(c_1[<span class="number">1</span>], w, c_1, c_2)   <span class="comment"># åˆ¤æ–­æ‰€å±çš„ç±»åˆ«</span></span><br><span class="line"><span class="comment"># print(out)</span></span><br></pre></td></tr></table></figure>
<h3 id="ç»˜å›¾"><a href="#ç»˜å›¾" class="headerlink" title="ç»˜å›¾"></a>ç»˜å›¾</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">plt.scatter(c_1[:, <span class="number">0</span>], c_1[:, <span class="number">1</span>], c=<span class="string">&#x27;#99CC99&#x27;</span>)</span><br><span class="line">plt.scatter(c_2[:, <span class="number">0</span>], c_2[:, <span class="number">1</span>], c=<span class="string">&#x27;#FFCC00&#x27;</span>)</span><br><span class="line">line_x = np.arange(<span class="built_in">min</span>(np.<span class="built_in">min</span>(c_1[:, <span class="number">0</span>]), np.<span class="built_in">min</span>(c_2[:, <span class="number">0</span>])),</span><br><span class="line">                   <span class="built_in">max</span>(np.<span class="built_in">max</span>(c_1[:, <span class="number">0</span>]), np.<span class="built_in">max</span>(c_2[:, <span class="number">0</span>])),</span><br><span class="line">                   step=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">line_y = - (w[<span class="number">0</span>] * line_x) / w[<span class="number">1</span>]</span><br><span class="line">plt.plot(line_x, line_y)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<pre><code>&lt;Figure size 640x480 with 1 Axes&gt;
</code></pre><h2 id="SVMä¼˜åŒ–å¯¹å¶é—®é¢˜çš„è¯¦ç»†æ¨å¯¼è¿‡ç¨‹"><a href="#SVMä¼˜åŒ–å¯¹å¶é—®é¢˜çš„è¯¦ç»†æ¨å¯¼è¿‡ç¨‹" class="headerlink" title="SVMä¼˜åŒ–å¯¹å¶é—®é¢˜çš„è¯¦ç»†æ¨å¯¼è¿‡ç¨‹"></a><code>SVM</code>ä¼˜åŒ–å¯¹å¶é—®é¢˜çš„è¯¦ç»†æ¨å¯¼è¿‡ç¨‹</h2><ol>
<li>è¯·ç»™å‡º<code>SVM</code>ä¼˜åŒ–å¯¹å¶é—®é¢˜çš„è¯¦ç»†æ¨å¯¼è¿‡ç¨‹ï¼›å¹¶ç»™å‡ºåªæœ‰2ç»´ç‰¹å¾æƒ…å†µä¸‹çš„ï¼Œå¯¹å¶é—®é¢˜çš„ä¼˜åŒ–æ±‚è§£è¿‡ç¨‹ï¼ˆå¯ä»¥é‡‡ç”¨<code>lagrange</code>æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨å…¶ä»–æ–¹æ³•ã€‚ï¼‰<br><a href="https://zhuanlan.zhihu.com/p/49331510">å‚è€ƒèµ„æ–™ï¼šhttps://zhuanlan.zhihu.com/p/49331510</a>  </li>
</ol>
<p><img src="https://s2.ax1x.com/2019/10/08/uWyoX4.png" alt=""><br><img src="https://s2.ax1x.com/2019/10/08/uWy4pT.png" alt=""><br><img src="https://s2.ax1x.com/2019/10/08/uWyIcF.png" alt=""><br><img src="https://s2.ax1x.com/2019/10/08/uWy51U.png" alt=""><br><img src="https://s2.ax1x.com/2019/10/08/uWyfhV.png" alt=""></p>
<h2 id="SVMç®—æ³•çš„å®ç°"><a href="#SVMç®—æ³•çš„å®ç°" class="headerlink" title="SVMç®—æ³•çš„å®ç°"></a><code>SVM</code>ç®—æ³•çš„å®ç°</h2><ol>
<li>è¯·å®ç°<code>SVM</code>ç®—æ³•ï¼›å¹¶é‡‡ç”¨è‡ªå·±éšæœºç”Ÿæˆ2ç±»çº¿æ€§å¯åˆ†æ•°æ®ï¼ˆæ¯ç±»100ä¸ªï¼‰çš„æ–¹å¼éªŒè¯è‡ªå·±çš„ç®—æ³•ã€‚<br><a href="https://www.jb51.net/article/131580.htm">å‚è€ƒèµ„æ–™ï¼šhttps://www.jb51.net/article/131580.htm</a></li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> sklearn <span class="keyword">import</span> svm </span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np </span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line">  </span><br><span class="line">np.random.seed(<span class="number">0</span>) </span><br><span class="line">x = np.r_[np.random.randn(<span class="number">100</span>,<span class="number">2</span>)-[<span class="number">2</span>,<span class="number">2</span>],np.random.randn(<span class="number">100</span>,<span class="number">2</span>)+[<span class="number">2</span>,<span class="number">2</span>]] <span class="comment">#æ­£æ€åˆ†å¸ƒæ¥äº§ç”Ÿæ•°å­—,20è¡Œ2åˆ—*2 </span></span><br><span class="line">y = [<span class="number">0</span>]*<span class="number">100</span>+[<span class="number">1</span>]*<span class="number">100</span> <span class="comment">#100ä¸ªclass0ï¼Œ100ä¸ªclass1 </span></span><br><span class="line">  </span><br><span class="line">clf = svm.SVC(kernel=<span class="string">&#x27;linear&#x27;</span>) </span><br><span class="line">clf.fit(x,y) </span><br><span class="line">  </span><br><span class="line">w = clf.coef_[<span class="number">0</span>] <span class="comment">#è·å–w </span></span><br><span class="line">a = -w[<span class="number">0</span>]/w[<span class="number">1</span>] <span class="comment">#æ–œç‡ </span></span><br><span class="line"><span class="comment">#ç”»å›¾åˆ’çº¿ </span></span><br><span class="line">xx = np.linspace(-<span class="number">5</span>,<span class="number">5</span>) <span class="comment">#(-5,5)ä¹‹é—´xçš„å€¼ </span></span><br><span class="line">yy = a*xx-(clf.intercept_[<span class="number">0</span>])/w[<span class="number">1</span>] <span class="comment">#xxå¸¦å…¥yï¼Œæˆªè· </span></span><br><span class="line">  </span><br><span class="line"><span class="comment">#ç”»å‡ºä¸ç‚¹ç›¸åˆ‡çš„çº¿ </span></span><br><span class="line">b = clf.support_vectors_[<span class="number">0</span>] </span><br><span class="line">yy_down = a*xx+(b[<span class="number">1</span>]-a*b[<span class="number">0</span>]) </span><br><span class="line">b = clf.support_vectors_[-<span class="number">1</span>] </span><br><span class="line">yy_up = a*xx+(b[<span class="number">1</span>]-a*b[<span class="number">0</span>]) </span><br><span class="line">  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;W:&quot;</span>,w) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;a:&quot;</span>,a) </span><br><span class="line">  </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;support_vectors_:&quot;</span>,clf.support_vectors_) </span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;clf.coef_:&quot;</span>,clf.coef_) </span><br><span class="line">  </span><br><span class="line">plt.figure(figsize=(<span class="number">8</span>,<span class="number">4</span>)) </span><br><span class="line">plt.plot(xx,yy) </span><br><span class="line">plt.plot(xx,yy_down) </span><br><span class="line">plt.plot(xx,yy_up) </span><br><span class="line">plt.scatter(clf.support_vectors_[:,<span class="number">0</span>],clf.support_vectors_[:,<span class="number">1</span>],s=<span class="number">80</span>) </span><br><span class="line">plt.scatter(x[:,<span class="number">0</span>],x[:,<span class="number">1</span>],c=y,cmap=plt.cm.Paired) <span class="comment">#[:ï¼Œ0]åˆ—åˆ‡ç‰‡ï¼Œç¬¬0åˆ— </span></span><br><span class="line">  </span><br><span class="line">plt.axis(<span class="string">&#x27;tight&#x27;</span>) </span><br><span class="line">  </span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<pre><code>W: [0.95070185 1.15607502]
a: -0.8223530762163854
support_vectors_: [[-0.51174781 -0.10411082]
 [ 0.16323595 -0.66347205]
 [ 2.39904635 -0.77259276]
 [ 0.66574153  0.65328249]
 [-0.25556423  0.97749316]]
clf.coef_: [[0.95070185 1.15607502]]
</code></pre><p><img src="output_12_1.png" alt="png"></p>
<h2 id="k-meansç®—æ³•çš„å®ç°"><a href="#k-meansç®—æ³•çš„å®ç°" class="headerlink" title="k-meansç®—æ³•çš„å®ç°"></a><code>k-means</code>ç®—æ³•çš„å®ç°</h2><ol>
<li>è¯·å®ç°<code>k-means</code>çš„ç®—æ³•ï¼›å¹¶é‡‡ç”¨è‡ªå·±éšæœºç”Ÿæˆ3ç±»æ•°æ®ï¼ˆæ¯ç±»100ä¸ªï¼‰çš„æ–¹å¼ï¼ŒéªŒè¯è‡ªå·±çš„ç®—æ³•ã€‚<br><a href="https://cloud.tencent.com/developer/article/1465020">å‚è€ƒèµ„æ–™1:https://cloud.tencent.com/developer/article/1465020</a><br><a href="https://blog.csdn.net/weixin_42029738/article/details/81978038">å‚è€ƒèµ„æ–™2:https://blog.csdn.net/weixin_42029738/article/details/81978038</a>  </li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    K-Means clustering algorithms</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(__doc__)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> MiniBatchKMeans, KMeans</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics.pairwise <span class="keyword">import</span> pairwise_distances_argmin</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets.samples_generator <span class="keyword">import</span> make_blobs</span><br><span class="line"></span><br><span class="line"><span class="comment"># #############################################################################</span></span><br><span class="line"><span class="comment"># Generate sample data</span></span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">batch_size = <span class="number">45</span></span><br><span class="line">centers = [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>], [<span class="number">1</span>, -<span class="number">1</span>]] <span class="comment"># åˆå§‹åŒ–3ä¸ªä¸­å¿ƒ</span></span><br><span class="line">n_clusters = <span class="built_in">len</span>(centers) <span class="comment"># èšç±»çš„æ•°ç›®ä¸º3</span></span><br><span class="line"><span class="comment"># äº§ç”Ÿ10000ç»„äºŒç»´æ•°æ®ï¼Œä»¥ä¸Šé¢ä¸‰ä¸ªç‚¹ä¸ºä¸­å¿ƒï¼Œä»¥(-10,10)ä¸ºè¾¹ç•Œï¼Œæ•°æ®é›†çš„æ ‡å‡†å·®æ˜¯0.7</span></span><br><span class="line">X, labels_true = make_blobs(n_samples=<span class="number">10000</span>, centers=centers, cluster_std=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># #############################################################################</span></span><br><span class="line"><span class="comment"># Compute clustering with Means</span></span><br><span class="line"></span><br><span class="line">k_means = KMeans(init=<span class="string">&#x27;k-means++&#x27;</span>, n_clusters=<span class="number">3</span>, n_init=<span class="number">10</span>)</span><br><span class="line">t0 = time.time()</span><br><span class="line">k_means.fit(X)</span><br><span class="line"><span class="comment"># ä½¿ç”¨k-meanså¯¹300ç»„æ•°æ®é›†è®­ç»ƒç®—æ³•çš„æ—¶é—´æ¶ˆè€—</span></span><br><span class="line">t_batch = time.time() - t0</span><br><span class="line"></span><br><span class="line"><span class="comment"># #############################################################################</span></span><br><span class="line"><span class="comment"># Plot result</span></span><br><span class="line"></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">8</span>, <span class="number">3</span>))</span><br><span class="line">fig.subplots_adjust(left=<span class="number">0.02</span>, right=<span class="number">0.98</span>, bottom=<span class="number">0.05</span>, top=<span class="number">0.9</span>)</span><br><span class="line">colors = [<span class="string">&#x27;#4EACC5&#x27;</span>, <span class="string">&#x27;#FF9C34&#x27;</span>, <span class="string">&#x27;#4E9A06&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># We want to have the same colors for the same cluster from the</span></span><br><span class="line"><span class="comment"># MiniBatchKMeans and the KMeans algorithm. Let&#x27;s pair the cluster centers per</span></span><br><span class="line"><span class="comment"># closest one.</span></span><br><span class="line">k_means_cluster_centers = np.sort(k_means.cluster_centers_, axis=<span class="number">0</span>)</span><br><span class="line">k_means_labels = pairwise_distances_argmin(X, k_means_cluster_centers)</span><br><span class="line"></span><br><span class="line"><span class="comment"># KMeans</span></span><br><span class="line">ax = fig.add_subplot(<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> k, col <span class="keyword">in</span> <span class="built_in">zip</span>(<span class="built_in">range</span>(n_clusters), colors):</span><br><span class="line">    my_members = k_means_labels == k</span><br><span class="line">    cluster_center = k_means_cluster_centers[k]</span><br><span class="line">    ax.plot(X[my_members, <span class="number">0</span>], X[my_members, <span class="number">1</span>], <span class="string">&#x27;w&#x27;</span>,</span><br><span class="line">            markerfacecolor=col, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    ax.plot(cluster_center[<span class="number">0</span>], cluster_center[<span class="number">1</span>], <span class="string">&#x27;o&#x27;</span>, markerfacecolor=col,</span><br><span class="line">            markeredgecolor=<span class="string">&#x27;k&#x27;</span>, markersize=<span class="number">6</span>)</span><br><span class="line">ax.set_title(<span class="string">&#x27;KMeans&#x27;</span>)</span><br><span class="line">ax.set_xticks(())</span><br><span class="line">ax.set_yticks(())</span><br><span class="line">plt.text(-<span class="number">3.5</span>, <span class="number">1.8</span>,  <span class="string">&#x27;train time: %.2fs\ninertia: %f&#x27;</span> % (</span><br><span class="line">    t_batch, k_means.inertia_))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<pre><code>    K-Means clustering algorithms
</code></pre><p><img src="output_14_1.png" alt="png"></p>
<h2 id="k-meansç®—æ³•çš„æ”¹è¿›"><a href="#k-meansç®—æ³•çš„æ”¹è¿›" class="headerlink" title="k-meansç®—æ³•çš„æ”¹è¿›"></a><code>k-means</code>ç®—æ³•çš„æ”¹è¿›</h2><ol>
<li>è¯·ç»™å‡ºä¸‰ç§<code>k-means</code>ç®—æ³•åœ¨å¤§æ•°æ®é‡æ—¶çš„æ”¹è¿›æ–¹æ³•ï¼Œå¹¶åˆ†ææ”¹è¿›çš„ç»“æœã€‚<br>æ”¹è¿›æ–¹æ³•åŒ…æ‹¬ï¼š<ol>
<li><code>k-means++</code>ï¼ˆæ”¹å˜ä¸­å¿ƒç‚¹çš„é€‰å–æ–¹æ³•ï¼‰</li>
<li><code>elkan K-Means</code>ï¼ˆå‡å°‘ä¸å¿…è¦çš„è·ç¦»è®¡ç®—ï¼‰</li>
<li><code>ISODATA</code>ç®—æ³•ï¼ˆåœ¨è¿è¡Œè¿‡ç¨‹ä¸­æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´èšç±»ä¸­å¿ƒæ•°kï¼‰</li>
<li><code>Mini Batch k-means</code>ç®—æ³•ï¼ˆé‡‡ç”¨éƒ¨åˆ†æ ·æœ¬ï¼Œèˆå¼ƒä¸€äº›ç²¾ç¡®åº¦å¤§å¤§åŠ å¿«æ”¶æ•›é€Ÿåº¦ï¼‰</li>
</ol>
</li>
</ol>
<p>å…¶ä¸­1å’Œ4æ”¹è¿›æ–¹æ³•ç»™å‡ºäº†æºç å’Œå¯¹æ¯”ã€‚</p>
<h3 id="k-means-ï¼ˆæ”¹å˜ä¸­å¿ƒç‚¹çš„é€‰æ‹©æ–¹æ³•ï¼‰"><a href="#k-means-ï¼ˆæ”¹å˜ä¸­å¿ƒç‚¹çš„é€‰æ‹©æ–¹æ³•ï¼‰" class="headerlink" title="k-means++ï¼ˆæ”¹å˜ä¸­å¿ƒç‚¹çš„é€‰æ‹©æ–¹æ³•ï¼‰"></a><code>k-means++</code>ï¼ˆæ”¹å˜ä¸­å¿ƒç‚¹çš„é€‰æ‹©æ–¹æ³•ï¼‰</h3><p><a href="https://blog.csdn.net/github_39261590/article/details/76910689">å‚è€ƒèµ„æ–™1:https://blog.csdn.net/github_39261590/article/details/76910689</a><br><a href="https://www.cnblogs.com/yszd/p/9672885.html">å‚è€ƒèµ„æ–™2:https://www.cnblogs.com/yszd/p/9672885.html</a><br><code>k-means++</code>ç®—æ³•é€‰æ‹©åˆå§‹seedsçš„åŸºæœ¬æ€æƒ³å°±æ˜¯ï¼š<strong>åˆå§‹çš„èšç±»ä¸­å¿ƒä¹‹é—´çš„ç›¸äº’è·ç¦»è¦å°½å¯èƒ½çš„è¿œã€‚</strong>  </p>
<p>ç®—æ³•æ­¥éª¤ï¼š</p>
<ol>
<li>ä»è¾“å…¥çš„æ•°æ®ç‚¹é›†åˆä¸­éšæœºé€‰æ‹©ä¸€ä¸ªç‚¹ä½œä¸ºç¬¬ä¸€ä¸ªèšç±»ä¸­å¿ƒ</li>
<li>å¯¹äºæ•°æ®é›†ä¸­çš„æ¯ä¸€ä¸ªç‚¹xï¼Œè®¡ç®—å®ƒä¸æœ€è¿‘èšç±»ä¸­å¿ƒ(æŒ‡å·²é€‰æ‹©çš„èšç±»ä¸­å¿ƒ)çš„è·ç¦»D(x)</li>
<li>é€‰æ‹©ä¸€ä¸ªæ–°çš„æ•°æ®ç‚¹ä½œä¸ºæ–°çš„èšç±»ä¸­å¿ƒï¼Œé€‰æ‹©çš„åŸåˆ™æ˜¯ï¼šD(x)è¾ƒå¤§çš„ç‚¹ï¼Œè¢«é€‰å–ä½œä¸ºèšç±»ä¸­å¿ƒçš„æ¦‚ç‡è¾ƒå¤§</li>
<li>é‡å¤2å’Œ3ç›´åˆ°kä¸ªèšç±»ä¸­å¿ƒè¢«é€‰å‡ºæ¥</li>
<li>åˆ©ç”¨è¿™kä¸ªåˆå§‹çš„èšç±»ä¸­å¿ƒæ¥è¿è¡Œæ ‡å‡†çš„k-meansç®—æ³•</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> sklearn.datasets <span class="keyword">as</span> ds</span><br><span class="line"><span class="keyword">import</span> matplotlib.colors</span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> MiniBatchKMeans</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">expand</span>(<span class="params">a, b</span>):</span><br><span class="line">    d = (b - a) * <span class="number">0.1</span></span><br><span class="line">    <span class="keyword">return</span> a-b, b+d</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    N = <span class="number">400</span></span><br><span class="line">    centers = <span class="number">4</span></span><br><span class="line">    data, y = ds.make_blobs(N, n_features=<span class="number">2</span>, centers=centers, random_state=<span class="number">2</span>)</span><br><span class="line">    data2, y2 = ds.make_blobs(N, n_features=<span class="number">2</span>, centers=centers, cluster_std=(<span class="number">1</span>, <span class="number">2.5</span>, <span class="number">0.5</span>, <span class="number">2</span>), random_state=<span class="number">2</span>)</span><br><span class="line">    <span class="comment"># æŒ‰è¡Œæ‹¼æ¥numpyæ•°ç»„</span></span><br><span class="line">    data3 = np.vstack((data[y == <span class="number">0</span>][:], data[y == <span class="number">1</span>][:<span class="number">50</span>], data[y == <span class="number">2</span>][:<span class="number">20</span>], data[y == <span class="number">3</span>][:<span class="number">5</span>]))</span><br><span class="line">    y3 = np.array([<span class="number">0</span>] * <span class="number">100</span> + [<span class="number">1</span>] * <span class="number">50</span> + [<span class="number">2</span>] * <span class="number">20</span> + [<span class="number">3</span>] * <span class="number">5</span>)</span><br><span class="line">    cls = KMeans(n_clusters=<span class="number">4</span>, init=<span class="string">&#x27;k-means++&#x27;</span>)</span><br><span class="line">    y_hat = cls.fit_predict(data)</span><br><span class="line">    y2_hat = cls.fit_predict(data2)</span><br><span class="line">    y3_hat = cls.fit_predict(data3)</span><br><span class="line">    </span><br><span class="line">    m = np.array(((<span class="number">1</span>, <span class="number">1</span>),(<span class="number">1</span>, <span class="number">3</span>)))</span><br><span class="line">    data_r = data.dot(m)</span><br><span class="line">    y_r_hat = cls.fit_predict(data_r)</span><br><span class="line">    </span><br><span class="line">    matplotlib.rcParams[<span class="string">&#x27;font.sans-serif&#x27;</span>] = [<span class="string">u&#x27;SimHei&#x27;</span>]</span><br><span class="line">    matplotlib.rcParams[<span class="string">&#x27;axes.unicode_minus&#x27;</span>] = <span class="literal">False</span></span><br><span class="line">    cm = matplotlib.colors.ListedColormap(<span class="built_in">list</span>(<span class="string">&#x27;rgbm&#x27;</span>))</span><br><span class="line">    plt.figure(figsize=(<span class="number">9</span>, <span class="number">10</span>), facecolor=<span class="string">&#x27;w&#x27;</span>)</span><br><span class="line">    plt.subplot(<span class="number">421</span>)</span><br><span class="line">    plt.title(<span class="string">u&#x27;åŸå§‹æ•°æ®&#x27;</span>)</span><br><span class="line">    plt.scatter(data[:, <span class="number">0</span>], data[:, <span class="number">1</span>], c=y, s=<span class="number">30</span>, cmap=cm, edgecolors=<span class="string">&#x27;none&#x27;</span>)</span><br><span class="line">    x1_min, x2_min = np.<span class="built_in">min</span>(data, axis=<span class="number">0</span>)</span><br><span class="line">    x1_max, x2_max = np.<span class="built_in">max</span>(data, axis=<span class="number">0</span>)</span><br><span class="line">    x1_min, x1_max = expand(x1_min, x1_max)</span><br><span class="line">    x2_min, x2_max = expand(x2_min, x2_max)</span><br><span class="line">    plt.xlim((x1_min, x1_max))</span><br><span class="line">    plt.ylim((x2_min, x2_max))</span><br><span class="line">    plt.grid(<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    plt.subplot(<span class="number">422</span>)</span><br><span class="line">    plt.title(<span class="string">u&#x27;KMeans++èšç±»&#x27;</span>)</span><br><span class="line">    plt.scatter(data[:, <span class="number">0</span>], data[:, <span class="number">1</span>], c=y_hat, s=<span class="number">30</span>, cmap=cm, edgecolors=<span class="string">&#x27;none&#x27;</span>)    </span><br><span class="line">    plt.xlim((x1_min, x1_max))</span><br><span class="line">    plt.ylim((x2_min, x2_max))</span><br><span class="line">    plt.grid(<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>
<p><img src="output_16_0.png" alt="png"></p>
<h3 id="elkan-k-meansç®—æ³•"><a href="#elkan-k-meansç®—æ³•" class="headerlink" title="elkan k-meansç®—æ³•"></a><code>elkan k-means</code>ç®—æ³•</h3><p><a href="https://blog.csdn.net/u014465639/article/details/71342072">å‚è€ƒèµ„æ–™:https://blog.csdn.net/u014465639/article/details/71342072</a><br><code>elkan K-Means</code>åˆ©ç”¨äº†ä¸¤è¾¹ä¹‹å’Œå¤§äºç­‰äºç¬¬ä¸‰è¾¹,ä»¥åŠä¸¤è¾¹ä¹‹å·®å°äºç¬¬ä¸‰è¾¹çš„ä¸‰è§’å½¢æ€§è´¨ï¼Œæ¥å‡å°‘è·ç¦»çš„è®¡ç®—ã€‚<br>ç¬¬ä¸€ç§è§„å¾‹æ˜¯å¯¹äºä¸€ä¸ªæ ·æœ¬ç‚¹å’Œä¸¤ä¸ªè´¨å¿ƒã€‚å¦‚æœæˆ‘ä»¬é¢„å…ˆè®¡ç®—å‡ºäº†è¿™ä¸¤ä¸ªè´¨å¿ƒä¹‹é—´çš„è·ç¦»ï¼Œåˆ™å¦‚æœè®¡ç®—å‘ç°,æˆ‘ä»¬ç«‹å³å°±å¯ä»¥çŸ¥é“ã€‚æ­¤æ—¶æˆ‘ä»¬ä¸éœ€è¦å†è®¡ç®—,ä¹Ÿå°±æ˜¯è¯´çœäº†ä¸€æ­¥è·ç¦»è®¡ç®—ã€‚<br>ç¬¬äºŒç§è§„å¾‹æ˜¯å¯¹äºä¸€ä¸ªæ ·æœ¬ç‚¹å’Œä¸¤ä¸ªè´¨å¿ƒã€‚æˆ‘ä»¬å¯ä»¥å¾—åˆ°ã€‚è¿™ä¸ªä»ä¸‰è§’å½¢çš„æ€§è´¨ä¹Ÿå¾ˆå®¹æ˜“å¾—åˆ°ã€‚<br>åˆ©ç”¨ä¸Šè¾¹çš„ä¸¤ä¸ªè§„å¾‹ï¼Œelkan K-Meansæ¯”èµ·ä¼ ç»Ÿçš„K-Meansè¿­ä»£é€Ÿåº¦æœ‰å¾ˆå¤§çš„æé«˜ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬çš„æ ·æœ¬çš„ç‰¹å¾æ˜¯ç¨€ç–çš„ï¼Œæœ‰ç¼ºå¤±å€¼çš„è¯ï¼Œè¿™ä¸ªæ–¹æ³•å°±ä¸ä½¿ç”¨äº†ï¼Œæ­¤æ—¶æŸäº›è·ç¦»æ— æ³•è®¡ç®—ï¼Œåˆ™ä¸èƒ½ä½¿ç”¨è¯¥ç®—æ³•ã€‚  </p>
<h3 id="ISODATAç®—æ³•"><a href="#ISODATAç®—æ³•" class="headerlink" title="ISODATAç®—æ³•"></a><code>ISODATA</code>ç®—æ³•</h3><p><a href="https://blog.csdn.net/houston11235/article/details/8511379">å‚è€ƒèµ„æ–™1:https://blog.csdn.net/houston11235/article/details/8511379</a><br><a href="https://www.cnblogs.com/huadongw/p/4101422.html">å‚è€ƒèµ„æ–™2:https://www.cnblogs.com/huadongw/p/4101422.html</a><br>k-means çš„ä¸€ä¸ªç¼ºç‚¹å°±æ˜¯å¿…é¡»æŒ‡å®šèšç±»çš„ä¸ªæ•°ï¼Œè¿™ä¸ªæœ‰äº›æ—¶å€™å¹¶ä¸å¤ªè¡Œå¾—é€šã€‚äºæ˜¯å°±è¦æ±‚æœ€å¥½è¿™ä¸ªç±»åˆ«çš„ä¸ªæ•°ä¹Ÿå¯ä»¥æ”¹å˜ï¼Œè¿™å°±å½¢æˆäº† isodata æ–¹æ³•ï¼Œé€šè¿‡è®¾å®šä¸€äº›ç±»åˆ«åˆ†è£‚å’Œåˆå¹¶çš„æ¡ä»¶ï¼Œåœ¨èšç±»çš„è¿‡ç¨‹ä¸­è‡ªåŠ¨å¢å‡ç±»åˆ«çš„æ•°ç›®ã€‚å½“ç„¶è¿™ä¹Ÿå¸¦æ¥äº†ä¸€ä¸ªé—®é¢˜ï¼Œå°±æ˜¯è¿™ä¸ªæ¡ä»¶æœ‰æ—¶å€™å¹¶ä¸é‚£ä¹ˆå¥½ç»™å‡ºã€‚å½“ç„¶ isodata åœ¨å¾ˆå¤šæƒ…å†µä¸‹è¿˜æ˜¯å¯ä»¥å¾—åˆ°æ¯”è¾ƒé è°±çš„ç»“æœã€‚  </p>
<h3 id="Mini-Batch-k-meansï¼ˆç”¨ä¸€éƒ¨åˆ†æ ·æœ¬åšä¼ ç»Ÿçš„k-meansï¼Œèˆå¼ƒä¸€éƒ¨åˆ†ç²¾ç¡®åº¦å¤§å¤§æé«˜æ”¶æ•›é€Ÿåº¦ï¼‰"><a href="#Mini-Batch-k-meansï¼ˆç”¨ä¸€éƒ¨åˆ†æ ·æœ¬åšä¼ ç»Ÿçš„k-meansï¼Œèˆå¼ƒä¸€éƒ¨åˆ†ç²¾ç¡®åº¦å¤§å¤§æé«˜æ”¶æ•›é€Ÿåº¦ï¼‰" class="headerlink" title="Mini Batch k-meansï¼ˆç”¨ä¸€éƒ¨åˆ†æ ·æœ¬åšä¼ ç»Ÿçš„k-meansï¼Œèˆå¼ƒä¸€éƒ¨åˆ†ç²¾ç¡®åº¦å¤§å¤§æé«˜æ”¶æ•›é€Ÿåº¦ï¼‰"></a><code>Mini Batch k-means</code>ï¼ˆç”¨ä¸€éƒ¨åˆ†æ ·æœ¬åšä¼ ç»Ÿçš„k-meansï¼Œèˆå¼ƒä¸€éƒ¨åˆ†ç²¾ç¡®åº¦å¤§å¤§æé«˜æ”¶æ•›é€Ÿåº¦ï¼‰</h3><p><a href="https://cloud.tencent.com/developer/article/1465020">å‚è€ƒèµ„æ–™1:https://cloud.tencent.com/developer/article/1465020</a><br>Mini Batch KMeansç®—æ³•æ˜¯ä¸€ç§èƒ½<strong>å°½é‡ä¿æŒèšç±»å‡†ç¡®æ€§ä¸‹ä½†èƒ½å¤§å¹…åº¦é™ä½è®¡ç®—æ—¶é—´çš„èšç±»æ¨¡å‹</strong>ï¼Œé‡‡ç”¨å°æ‰¹é‡çš„æ•°æ®å­é›†å‡å°‘è®¡ç®—æ—¶é—´ï¼ŒåŒæ—¶ä»è¯•å›¾ä¼˜åŒ–ç›®æ ‡å‡½æ•°ï¼Œè¿™é‡Œæ‰€è°“çš„Mini Batchæ˜¯æŒ‡æ¯æ¬¡è®­ç»ƒç®—æ³•æ—¶éšæœºæŠ½å–çš„æ•°æ®å­é›†ï¼Œé‡‡ç”¨è¿™äº›éšæœºé€‰å–çš„æ•°æ®è¿›è¡Œè®­ç»ƒï¼Œå¤§å¤§çš„å‡å°‘äº†è®¡ç®—çš„æ—¶é—´ï¼Œå‡å°‘çš„KMeansç®—æ³•çš„æ”¶æ•›æ—¶é—´ï¼Œä½†è¦æ¯”æ ‡å‡†ç®—æ³•ç•¥å·®ä¸€ç‚¹ï¼Œå»ºè®®å½“æ ·æœ¬é‡å¤§äºä¸€ä¸‡åšèšç±»æ—¶ï¼Œå°±éœ€è¦è€ƒè™‘é€‰ç”¨Mini Batch KMeansç®—æ³•ã€‚  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">    Comparison of the K-Means and MiniBatchKMeans clustering algorithms</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(__doc__)</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> MiniBatchKMeans, KMeans</span><br><span class="line"><span class="keyword">from</span> sklearn.metrics.pairwise <span class="keyword">import</span> pairwise_distances_argmin</span><br><span class="line"><span class="keyword">from</span> sklearn.datasets.samples_generator <span class="keyword">import</span> make_blobs</span><br><span class="line"></span><br><span class="line"><span class="comment"># #############################################################################</span></span><br><span class="line"><span class="comment"># Generate sample data</span></span><br><span class="line">np.random.seed(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">batch_size = <span class="number">45</span></span><br><span class="line">centers = [[<span class="number">1</span>, <span class="number">1</span>], [-<span class="number">1</span>, -<span class="number">1</span>], [<span class="number">1</span>, -<span class="number">1</span>]] <span class="comment"># åˆå§‹åŒ–3ä¸ªä¸­å¿ƒ</span></span><br><span class="line">n_clusters = <span class="built_in">len</span>(centers) <span class="comment"># èšç±»çš„æ•°ç›®ä¸º3</span></span><br><span class="line"><span class="comment"># äº§ç”Ÿ10000ç»„äºŒç»´æ•°æ®ï¼Œä»¥ä¸Šé¢ä¸‰ä¸ªç‚¹ä¸ºä¸­å¿ƒï¼Œä»¥(-10,10)ä¸ºè¾¹ç•Œï¼Œæ•°æ®é›†çš„æ ‡å‡†å·®æ˜¯0.7</span></span><br><span class="line">X, labels_true = make_blobs(n_samples=<span class="number">10000</span>, centers=centers, cluster_std=<span class="number">0.7</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># #############################################################################</span></span><br><span class="line"><span class="comment"># Compute clustering with Means</span></span><br><span class="line"></span><br><span class="line">k_means = KMeans(init=<span class="string">&#x27;k-means++&#x27;</span>, n_clusters=<span class="number">3</span>, n_init=<span class="number">10</span>)</span><br><span class="line">t0 = time.time()</span><br><span class="line">k_means.fit(X)</span><br><span class="line"><span class="comment"># ä½¿ç”¨k-meanså¯¹300ç»„æ•°æ®é›†è®­ç»ƒç®—æ³•çš„æ—¶é—´æ¶ˆè€—</span></span><br><span class="line">t_batch = time.time() - t0</span><br><span class="line"></span><br><span class="line"><span class="comment"># #############################################################################</span></span><br><span class="line"><span class="comment"># Compute clustering with MiniBatchKMeans</span></span><br><span class="line"></span><br><span class="line">mbk = MiniBatchKMeans(init=<span class="string">&#x27;k-means++&#x27;</span>, n_clusters=<span class="number">3</span>, batch_size=batch_size,</span><br><span class="line">                      n_init=<span class="number">10</span>, max_no_improvement=<span class="number">10</span>, verbose=<span class="number">0</span>)</span><br><span class="line">t0 = time.time()</span><br><span class="line">mbk.fit(X)</span><br><span class="line"><span class="comment"># ä½¿ç”¨MiniBatchKMeanså¯¹300ç»„æ•°æ®é›†è®­ç»ƒç®—æ³•çš„æ—¶é—´æ¶ˆè€—</span></span><br><span class="line">t_mini_batch = time.time() - t0</span><br><span class="line"></span><br><span class="line"><span class="comment"># #############################################################################</span></span><br><span class="line"><span class="comment"># Plot result</span></span><br><span class="line"></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">8</span>, <span class="number">3</span>))</span><br><span class="line">fig.subplots_adjust(left=<span class="number">0.02</span>, right=<span class="number">0.98</span>, bottom=<span class="number">0.05</span>, top=<span class="number">0.9</span>)</span><br><span class="line">colors = [<span class="string">&#x27;#4EACC5&#x27;</span>, <span class="string">&#x27;#FF9C34&#x27;</span>, <span class="string">&#x27;#4E9A06&#x27;</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># We want to have the same colors for the same cluster from the</span></span><br><span class="line"><span class="comment"># MiniBatchKMeans and the KMeans algorithm. Let&#x27;s pair the cluster centers per</span></span><br><span class="line"><span class="comment"># closest one.</span></span><br><span class="line">k_means_cluster_centers = np.sort(k_means.cluster_centers_, axis=<span class="number">0</span>)</span><br><span class="line">mbk_means_cluster_centers = np.sort(mbk.cluster_centers_, axis=<span class="number">0</span>)</span><br><span class="line">k_means_labels = pairwise_distances_argmin(X, k_means_cluster_centers)</span><br><span class="line">mbk_means_labels = pairwise_distances_argmin(X, mbk_means_cluster_centers)</span><br><span class="line">order = pairwise_distances_argmin(k_means_cluster_centers,</span><br><span class="line">                                  mbk_means_cluster_centers)</span><br><span class="line"></span><br><span class="line"><span class="comment"># KMeans</span></span><br><span class="line">ax = fig.add_subplot(<span class="number">1</span>, <span class="number">3</span>, <span class="number">1</span>)</span><br><span class="line"><span class="keyword">for</span> k, col <span class="keyword">in</span> <span class="built_in">zip</span>(<span class="built_in">range</span>(n_clusters), colors):</span><br><span class="line">    my_members = k_means_labels == k</span><br><span class="line">    cluster_center = k_means_cluster_centers[k]</span><br><span class="line">    ax.plot(X[my_members, <span class="number">0</span>], X[my_members, <span class="number">1</span>], <span class="string">&#x27;w&#x27;</span>,</span><br><span class="line">            markerfacecolor=col, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    ax.plot(cluster_center[<span class="number">0</span>], cluster_center[<span class="number">1</span>], <span class="string">&#x27;o&#x27;</span>, markerfacecolor=col,</span><br><span class="line">            markeredgecolor=<span class="string">&#x27;k&#x27;</span>, markersize=<span class="number">6</span>)</span><br><span class="line">ax.set_title(<span class="string">&#x27;KMeans&#x27;</span>)</span><br><span class="line">ax.set_xticks(())</span><br><span class="line">ax.set_yticks(())</span><br><span class="line">plt.text(-<span class="number">3.5</span>, <span class="number">1.8</span>,  <span class="string">&#x27;train time: %.2fs\ninertia: %f&#x27;</span> % (</span><br><span class="line">    t_batch, k_means.inertia_))</span><br><span class="line"></span><br><span class="line"><span class="comment"># MiniBatchKMeans</span></span><br><span class="line">ax = fig.add_subplot(<span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>)</span><br><span class="line"><span class="keyword">for</span> k, col <span class="keyword">in</span> <span class="built_in">zip</span>(<span class="built_in">range</span>(n_clusters), colors):</span><br><span class="line">    my_members = mbk_means_labels == order[k]</span><br><span class="line">    cluster_center = mbk_means_cluster_centers[order[k]]</span><br><span class="line">    ax.plot(X[my_members, <span class="number">0</span>], X[my_members, <span class="number">1</span>], <span class="string">&#x27;w&#x27;</span>,</span><br><span class="line">            markerfacecolor=col, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">    ax.plot(cluster_center[<span class="number">0</span>], cluster_center[<span class="number">1</span>], <span class="string">&#x27;o&#x27;</span>, markerfacecolor=col,</span><br><span class="line">            markeredgecolor=<span class="string">&#x27;k&#x27;</span>, markersize=<span class="number">6</span>)</span><br><span class="line">ax.set_title(<span class="string">&#x27;MiniBatchKMeans&#x27;</span>)</span><br><span class="line">ax.set_xticks(())</span><br><span class="line">ax.set_yticks(())</span><br><span class="line">plt.text(-<span class="number">3.5</span>, <span class="number">1.8</span>, <span class="string">&#x27;train time: %.2fs\ninertia: %f&#x27;</span> %</span><br><span class="line">         (t_mini_batch, mbk.inertia_))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Initialise the different array to all False</span></span><br><span class="line">different = (mbk_means_labels == <span class="number">4</span>)</span><br><span class="line">ax = fig.add_subplot(<span class="number">1</span>, <span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(n_clusters):</span><br><span class="line">    different += ((k_means_labels == k) != (mbk_means_labels == order[k]))</span><br><span class="line"></span><br><span class="line">identic = np.logical_not(different)</span><br><span class="line">ax.plot(X[identic, <span class="number">0</span>], X[identic, <span class="number">1</span>], <span class="string">&#x27;w&#x27;</span>,</span><br><span class="line">        markerfacecolor=<span class="string">&#x27;#bbbbbb&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">ax.plot(X[different, <span class="number">0</span>], X[different, <span class="number">1</span>], <span class="string">&#x27;w&#x27;</span>,</span><br><span class="line">        markerfacecolor=<span class="string">&#x27;m&#x27;</span>, marker=<span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">ax.set_title(<span class="string">&#x27;Difference&#x27;</span>)</span><br><span class="line">ax.set_xticks(())</span><br><span class="line">ax.set_yticks(())</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<pre><code>    Comparison of the K-Means and MiniBatchKMeans clustering algorithms
</code></pre><p><img src="output_20_1.png" alt="png"></p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Fisher</tag>
        <tag>SVM</tag>
        <tag>K-Means</tag>
      </tags>
  </entry>
  <entry>
    <title>å†™äº10æœˆ15æ—¥â€”â€”åšå®¢æ­£å¼å¯¹å¤–å¼€æ”¾ä¹‹é™…</title>
    <url>/201909/%E5%86%99%E4%BA%8E%E5%8D%9A%E5%AE%A2%E6%AD%A3%E5%BC%8F%E5%AF%B9%E5%A4%96%E5%BC%80%E6%94%BE%E4%B9%8B%E9%99%85/</url>
    <content><![CDATA[<p><img src="https://s2.ax1x.com/2019/10/15/KPwEYd.jpg" alt=""></p>
<p class="tag-plugin quot" type="text">If you can quite, then quite.<br /> If you can't quite, you're a writer. <div style=text-align:right>â€”â€”R.A.Salvatore</div></p>
<span id="more"></span>
<p>ç»è¿‡å››ä¸ªæœˆçš„ç£¨å½ï¼Œæ–°çš„åšå®¢åŸºæœ¬å·²ç»å®Œå–„ã€‚<a href="www.crocodilezs.top">é³„é±¼å…ˆç”Ÿçš„æ°´æ—é¦†</a><br>æœ¬æ¥æƒ³ç€æŠŠåŸå…ˆ<code>wordpress</code>åšå®¢çš„æ–‡ç« æ…¢æ…¢æ¬è¿‡æ¥å†å‘å¤§å®¶å¼€æ”¾åšå®¢ï¼Œä½†æ˜¯ä»”ç»†çœ‹çœ‹è‡ªå·±åŸæ¥çš„é‚£äº›æ–‡ç« ï¼Œè¦ä¹ˆæ˜¯æ²¡ä»€ä¹ˆæ·±åº¦çš„ä¹¦è¯„å’Œå½±è¯„ï¼Œè¦ä¹ˆæ˜¯å¹³æ·¡çš„æµæ°´è´¦ã€‚  </p>
<p>ä½†æ˜¯è®²çœŸè¯ï¼Œçœ‹åˆ°è‡ªå·±ä»¥å‰çš„æ–‡å­—è§‰å¾—å¾ˆæœ‰æˆå°±æ„Ÿï¼Œå› ä¸ºé‚£äº›æ–‡ç« çš„ä¿¡æ¯é‡è™½ç„¶æ²¡é‚£ä¹ˆé«˜ã€æœ‰å¾ˆå¤šæ— æ„ä¹‰çš„æƒ…ç»ªå®£æ³„ï¼Œä½†æ˜¯é‡Œé¢éƒ½æœ‰å¾ˆæœ‰æ„æ€çš„é—ªå…‰ç‚¹ï¼Œè‡ªå·±å¤§ä¸€å¤§äºŒè¿˜çœŸæ˜¯ä¸€ä¸ªæœ‰äº›è‡ªè´Ÿçš„å¤©é©¬è¡Œç©ºå°‘å¹´ã€‚å¦‚æœè¿™ä¸ªå­¦æœŸè¿˜æœ‰æ—¶é—´ï¼Œå°±æŠŠè‡ªå·±æ›¾ç»çš„ä¸€äº›æƒ³æ³•æ•´ç†ä¸€ä¸‹å‘åˆ°åšå®¢ä¸Šæ¥ã€‚  </p>
<p>ä¸‹é¢å°±è®°å½•ä¸€ä¸‹è‡ªå·±æ¥è§¦åšå®¢è¿™ä¸ªåœˆå­ä»¥æ¥çš„ä¸€äº›æ„Ÿè§¦ã€‚</p>
<h1 id="æˆ‘ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ"><a href="#æˆ‘ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ" class="headerlink" title="æˆ‘ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ"></a>æˆ‘ä¸ºä»€ä¹ˆè¦å†™åšå®¢ï¼Ÿ</h1><p>è¡¨è¾¾è‡ªå·±çš„æ–¹å¼æœ‰å¤ªå¤šäº†ï¼Œå¾®ä¿¡æœ‹å‹åœˆã€å¾®ä¿¡å…¬ä¼—å¹³å°ã€QQç©ºé—´ã€å¾®åšã€çŸ¥ä¹ã€ç™¾åº¦è´´å§â€¦<br>ä½†æ˜¯æˆ‘é€æ¸å‘ç°ä¸¤ä¸ªéå¸¸ä¸¥é‡çš„é—®é¢˜ï¼Œå…¶ä¸€ã€è¿™äº›ç¤¾äº¤å¹³å°ä¸Šçš„åŸåˆ›ä¿¡æ¯éƒ½å¤ªå¤šäº†ï¼ŒæŠŠè‡ªå·±çš„æƒ³æ³•å’Œæ„Ÿè§¦å‘å¸ƒå‡ºå»çœŸçš„å°±æ˜¯çŸ³æ²‰å¤§æµ·ï¼Œå°‘æœ‰äººèƒ½æ³¨æ„åˆ°è‡ªå·±çš„æƒ³æ³•ï¼Œå³ä½¿çœ‹åˆ°äº†ï¼Œèƒ½è®©å¤§å®¶ç•™ä¸‹å°è±¡çœŸçš„éå¸¸å›°éš¾ï¼ˆå¾®ä¿¡å…¬ä¼—å¹³å°æœ€æ˜æ˜¾ï¼Œéšç€å¾®ä¿¡å…¬ä¼—å¹³å°çš„é—¨æ§›é™ä½ï¼Œâ€œå†™çš„æ¯”çœ‹çš„å¤šâ€çœŸçš„æˆä¸ºäº†ç°å®ï¼‰è¿™æ˜¯æ¶ˆæ¯çˆ†ç‚¸çš„å¿…ç„¶ç»“æœï¼Œéšç€æ—¶é—´çš„ç´¯ç§¯ï¼Œäº’è”ç½‘ä¸Šæ–‡å­—çš„å¹³å‡ä»·å€¼ä¸€å®šä¼šé€æ¸å‡å°‘ã€‚<br>å…¶äºŒã€å³ä½¿åœ¨è‡ªå·±å¾ˆæœ‰å­˜åœ¨æ„Ÿçš„æœ‹å‹åœˆå’Œç©ºé—´ï¼Œå‘å¸ƒçš„å†…å®¹ä¹Ÿåªæ˜¯è‡ªå·±å³æ—¶çš„æ„Ÿæ…¨å’Œä¾›å¤§å®¶å–ä¹çš„æ®µå­ï¼Œè¿™äº›ä¸œè¥¿èƒ½å¤Ÿæå¤§åœ°æ»¡è¶³æˆ‘çš„è™šè£å¿ƒï¼Œä¹Ÿè®°å½•ä¸‹äº†è‡ªå·±å¾ˆå¤šç¾å¥½çš„ç¬é—´ã€‚ä½†æ˜¯åœ¨è¿™äº›å¹³å°å‘å¸ƒä¸€äº›é•¿ç¯‡å¤§è®ºï¼Œå°±å°‘æœ‰äººé˜…è¯»ä¹Ÿå¾ˆéš¾å¼•å‘æ·±åˆ»çš„å…±é¸£ã€‚  </p>
<p><b>è‡ªå·±çš„æ–‡å­—è¶Šæ¥è¶Šæµ®èºã€ä¿¡æ¯é‡è¶Šæ¥è¶Šä½ï¼Œæœ€ç»ˆåœ¨2017å¹´12æœˆï¼Œæˆ‘å¼€å§‹æ¥è§¦åšå®¢ã€‚</b>  </p>
<p>åšå®¢å¯¹äºæˆ‘æ¥è¯´å°±åƒæ˜¯ä¿¡æ¯æµ·æ´‹é‡Œå±äºè‡ªå·±çš„è±¡ç‰™èˆŸâ€”â€”ä»»ç¼˜åˆ†æµï¼Œæœ€åè¿˜å›æ¸¯å£ã€‚</p>
<p>è€ç‹¼å°±æ˜¯ä¸€ä¸ªä¸ä¼šè¢«æ—¶é—´æ”¹å˜çš„äººï¼Œä½ åº”è¯¥åº†å¹¸èº«è¾¹æœ‰è¿™æ ·çš„äººã€‚<br /><br>æˆ‘æ˜¯é‚£ç§éšæ—¶è·Ÿç€æ—¶ä»£æ”¹å˜çš„ï¼Œä½†æ˜¯å¦‚æœä½ èº«è¾¹éƒ½æ˜¯è¿™æ ·çš„äººï¼Œå¤§å®¶éƒ½æ˜¯å¼„æ½®å„¿ï¼Œæœ€åå°±ä¸çŸ¥é“éšæ³¢é€æµåˆ°å“ªå„¿å»äº†ã€‚<br /><br>é‚£ä½ èº«è¾¹æœ‰è¿™ä¹ˆä¸€ä¸ªäººå‘¢ï¼Œä½ åœ¨å“ªå„¿å¼„æ½®ä¹Ÿå¥½ï¼Œè¿˜æ˜¯åŠˆæ³¢æ–©æµªä¹Ÿå¥½ï¼Œä½ è€èƒ½çœ‹è§ä»–ã€‚<br />ä½ ä¼šçŸ¥é“ï¼Œâ€œå“¦ï¼Œè¿™ä¸ªåœ°æ–¹æ˜¯æˆ‘ä»¬å‡ºå‘çš„åœ°æ–¹ï¼Œè¿™ä¸ªåœ°æ–¹æ˜¯æˆ‘ä»¬è¿˜è¦å›å»çš„åœ°æ–¹ã€‚â€</p>
<div style="text-align:right">â€”â€”é«˜æ™“æ¾</div>


<h1 id="æ­å»ºåšå®¢çš„å†å²"><a href="#æ­å»ºåšå®¢çš„å†å²" class="headerlink" title="æ­å»ºåšå®¢çš„å†å²"></a>æ­å»ºåšå®¢çš„å†å²</h1><p>å¤§ä¸€çš„æ—¶å€™æ ¹æœ¬ä¸æ‡‚ä»»ä½•æŠ€æœ¯ï¼Œç»çŸ¥ä¹å¤§ä½¬ä»¬å®‰åˆ©æœ€ç»ˆå†³å®šè‡ªå·±ä¹°æœåŠ¡å™¨ç”¨<code>wordpress</code>è¿›è¡Œå‚»ç“œæ“ä½œã€‚<br>ä¹°åŸŸåä¸»æœºä¸€æ°”å‘µæˆï¼ŒæŒ‰ç…§æ•™ç¨‹æ­å»ºå¥½äº†è‡ªå·±çš„åšå®¢ã€‚<br><code>wordpress</code>ä¹Ÿç¡®å®å¯¹å°ç™½å¾ˆå‹å¥½äº†ï¼Œä½†æ˜¯å®ƒæœ‰ä¸€ä¸ªå¾ˆä¸¥é‡çš„é—®é¢˜â€”â€”æ…¢ï¼Œè¿˜æœ‰ä¸€ä¸ªè‡´å‘½çš„é—®é¢˜â€”â€”è«åå…¶å¦™åœ°è‡ªå·±çš„åšå®¢å°±ä¼šæ‰“ä¸å¼€ã€‚<br><code>wordpress</code>æœ‰å¾ˆæ£’çš„åœ°æ–¹æ¯”å¦‚è¯´æ“ä½œç®€å•ã€æ–‡ç« å¯ä»¥å¸¦å¯†ç ï¼ˆæœ‰äº›æ–‡ç« åªå¼€æ”¾ç»™ç‰¹å®šäººç¾¤ï¼‰ï¼Œå½“ç„¶ç¼ºç‚¹å°±æ˜¯å¯å®šåˆ¶æ€§å¤ªä½äº†ï¼Œåšæ–‡å†…éƒ¨çš„æ’ä»¶å¾ˆå°‘å¾ˆå°‘ï¼Œä¸æƒ³ç°åœ¨çš„â€™hexoâ€™<code>NeXT</code>ä¸»é¢˜éå¸¸çµæ´»ã€‚<br>æœ€ç»ˆï¼Œåœ¨æˆ‘åˆä¸€æ¬¡æ‰“ä¸å¼€è‡ªå·±åšå®¢çš„æ—¶å€™ï¼Œæˆ‘é€‰æ‹©äº†æ”¾å¼ƒ<code>wordpress</code>ï¼Œæ”¾å¼ƒè‡ªå·±ä¹°çš„ä¸»æœºï¼Œå‡†å¤‡è½¬æˆ˜å…¶ä»–çš„åœ°æ–¹ã€‚</p>
<p><b>åšå®¢ä¸­å›½ã€åšå®¢å¤§å·´</b>è¿™äº›è€ç‰ŒBSPï¼ˆBlog Service Providerï¼‰å·²ç»åŠæ­»ä¸æ´»äº†ã€‚åšå®¢å›­ã€CSDNçš„åšå®¢æŠ€æœ¯æ€§åˆå¤ªå¼ºäº†ã€‚å½“æ—¶çš„æˆ‘å§‹ç»ˆé€ƒé¿è‡ªå·±ç ä»£ç ï¼Œè™½ç„¶å¯¹<code>hexo</code>æ—©æœ‰è€³é—»ï¼Œä½†æ˜¯æ€»æ„Ÿè§‰æŠ€æœ¯æ€§å¤ªå¼ºä¸€ç›´ä¸æ„¿å°è¯•ã€‚<br>æœ€åæ‰¾åˆ°äº†ä¸€ä¸ªå‘å¸ƒè½»åšæ–‡çš„åœ°æ–¹â€”â€”ç½‘æ˜“lofterï¼Œç„¶è€Œlofterç°åœ¨çš„ç”¨æˆ·æµé‡ä¹Ÿå¤§ä¸å¦‚å‰ã€‚æ— å¥ˆï¼Œæˆ‘æœ€ç»ˆè¿˜æ˜¯é€‰æ‹©äº†<code>hexo</code>+<code>github</code>ã€‚ç°åœ¨çœŸçš„å¯ä»¥è¯´æ˜¯çœŸé¦™äº†ã€‚  </p>
<p>æ­å»ºçš„è¿‡ç¨‹çœŸçš„éå¸¸éå¸¸è‰°è¾›ï¼Œä»å…­æœˆä»½ä¸€ç›´åˆ°ç°åœ¨ï¼ŒèŠ±äº†ä¸çŸ¥é“å¤šå°‘æ—¶é—´å’Œå¤šå°‘ç²¾åŠ›ï¼Œä»<code>git</code>çš„ä½¿ç”¨åˆ°å‰ç«¯çš„å­¦ä¹ ï¼Œä»<code>markdown</code>è¿›é˜¶åˆ°<code>next</code>åšæ–‡å†…åµŒçš„æ’ä»¶ï¼Œæ¯ä¸€é¡¹éƒ½å­¦çš„æˆ‘è¦ç–¯æ‰ã€‚æœ€å›°éš¾çš„å°±æ˜¯<code>next</code>ä¸»é¢˜æ›´æ–°çš„é€Ÿåº¦å¤ªå¿«ï¼Œæ ¹æœ¬æ‰¾ä¸åˆ°ä»€ä¹ˆæ–°ç‰ˆæœ¬çš„æŒ‡å¯¼æ•™ç¨‹ï¼Œåªèƒ½è‡ªå·±ä¸€ç‚¹ä¸€ç‚¹æ‘¸ç´¢ï¼Œå€Ÿé‰´åˆ«äººçš„åšå®¢ã€‚æœ€ç»ˆæ‰æŠŠè‡ªå·±çš„ä¸»é¢˜å†™å¥½ã€‚æœŸé—´å—åˆ°è¿‡å¾ˆå¤šå¤§ä½¬çš„åšå®¢çš„å¯å‘ï¼š  </p>
<ul>
<li><p>å†…å®¹æ–¹é¢<br><a href="https://www.cnfeat.com/">é™ˆç´ å°çš„åšå®¢</a>ï¼šé™ˆç´ å°è€å¸ˆæ˜¯æˆ‘æ­å»ºåšå®¢æœŸé—´æœ€ä½©æœçš„åšä¸»ï¼Œä»–çš„æ–‡ç« ä¿¡æ¯é‡æå¤§ï¼Œè®©æˆ‘è·ç›ŠåŒªæµ…ã€‚</p>
</li>
<li><p>æŠ€æœ¯æ–¹é¢<br><a href="https://bestzuo.cn/">Sanarousçš„åšå®¢</a>ï¼šæœ€å¥½çœ‹çš„ä¸»é¢˜æ²¡æœ‰ä¹‹ä¸€ï¼Œæˆ‘çš„åšå®¢çš„åšæ–‡å­—ä½“å’Œé…è‰²åŸºæœ¬éƒ½æ˜¯å€Ÿé‰´è¿™ä½å¤§ä½¬çš„ã€‚ä»–çš„åšå®¢æ­å»ºç³»åˆ—å¯¹æˆ‘çš„æŠ€æœ¯å’Œå®¡ç¾çš„æå‡éƒ½éå¸¸å¤§ã€‚ä»–çš„åšå®¢ä¹Ÿæ˜¯æˆ‘è§è¿‡çš„æœ€ä¼˜ç§€çš„åšå®¢ã€‚  </p>
</li>
</ul>
<p>ä¸‹é¢çš„åšå®¢å„æœ‰å¯å–ä¹‹å¤„ï¼Œåœ¨æ­å»ºçš„è¿‡ç¨‹ä¸­ä¹Ÿç»™äº†æˆ‘è«å¤§çš„å¸®åŠ©ï¼š</p>
<p><a href="https://lruihao.cn/">æç‘è±ªçš„åšå®¢</a><br><a href="https://asdfv1929.github.io/">asdfv1929â€™s blog</a><br><a href="https://xian6ge.cn/">è´¤æŸ³é˜</a><br><a href="https://yfzhou.coding.me/">Felix</a>ï¼šè¿™ä¸ªä¸»é¢˜çœŸçš„è®©äººçœ¼å‰ä¸€äº®<br><a href="https://www.zhyong.cn/">YouForever</a><br><a href="https://linchao1002.github.io">Linchaoâ€™s Blog</a></p>
<h1 id="æˆ‘çš„ç”Ÿæ´»"><a href="#æˆ‘çš„ç”Ÿæ´»" class="headerlink" title="æˆ‘çš„ç”Ÿæ´»"></a>æˆ‘çš„ç”Ÿæ´»</h1><p>åšå®¢æ­å»ºçš„å…·ä½“è¿‡ç¨‹å·²ç»å¿˜å¾—å·®ä¸å¤šäº†ï¼Œä¹Ÿä¸æƒ³å†è´¹å°½å¿ƒæ€åœ°å›æƒ³å’Œè®°å½•ã€‚<br>ç›®å‰è‡ªå·±åšå®¢çš„å®šä½å½“ç„¶ä¸ä¼šæ˜¯ä¸€ä¸ªå•çº¯çš„æŠ€æœ¯åšå®¢ï¼Œå¹³æ—¶ä¹Ÿä¼špostè‡ªå·±çš„å­¦ä¹ ç¬”è®°ã€å¥èº«è®°å½•ã€ä¹¦å½±è§‚åæ„Ÿã€æ¸¸è®°ã€æ‘„å½±å’Œéšç¬”ã€‚<br>å¯ä»¥è¯´è¿™æ˜¯è‡ªå·±çš„ä¸€ä¸ªä¸ªäººå“ç‰Œå§ï¼Œåœ¨æ¥ä¸‹æ¥çš„æ—¥å­é‡Œè¦ä¸æ–­åœ°å®Œå–„ã€‚<br>é™ˆç´ å°è€å¸ˆåœ¨è‡ªå·±åœ°ä¸€ç¯‡æ–‡ç« ä¸­æåˆ°è¿‡å†™åšå®¢çš„æ„ä¹‰ï¼š</p>
<ol>
<li>æä¾›æŒç»­å­¦ä¹ çš„åŠ¨åŠ›</li>
<li>ç§¯ç´¯æ›´å¤šçš„çŸ¥è¯†</li>
<li>æé«˜å°†äº‹æƒ…è®²æ¸…æ¥šçš„èƒ½åŠ›</li>
<li>åˆ†äº«å¸¦æ¥çš„è¿é”ååº”</li>
<li>å¸®ä½ æ‰¾åˆ°å¿—åŒé“åˆçš„äºº</li>
<li>è®°å½•æˆé•¿</li>
<li>åŸ¹å…»æŒç»­åšä¸€ä»¶äº‹çš„èƒ½åŠ›</li>
<li>è®¨è®ºåæ€</li>
<li>æœå¯»ä½ æ„æƒ³ä¸åˆ°çš„ä¸œè¥¿</li>
<li>ä¸€ä¸ªäººåœ¨åšä¸€ä»¶å±äºè‡ªå·±çš„äº‹</li>
<li>äº’è”ç½‘çš„èº«ä»½è¯†åˆ«</li>
</ol>
<p>ä»¥ä¸Šæ„ä¹‰å¯¹æˆ‘æ¥è¯´ï¼Œæœ€é‡è¦çš„åº”è¯¥æ˜¯1ã€5ã€10ã€11ï¼Œè¿˜æœ‰å°±æ˜¯è®©è‡ªå·±æ²‰æ·€ä¸‹æ¥ï¼Œèƒ½å¤Ÿå»æŠŠä¿¡æ¯ç¢ç‰‡æ•´åˆã€å½’çº³ã€æ‰©å±•ï¼Œå½¢æˆè‡ªå·±ç‹¬æ ‘ä¸€å¸œçš„è§‚ç‚¹ã€‚è¿™äº›æ˜¯åšå®¢å¯¹äºæˆ‘çš„æ„ä¹‰ã€‚</p>
<div style='display: none'>
æˆ‘ç°åœ¨çš„æ—¥ç¨‹è½¨è¿¹è‡ªå·±ä¹Ÿéå¸¸åœ°æ»¡æ„ï¼š
æ™šä¸Šåä¸€ç‚¹å¼€å§‹æ¸…ç†æ»´ç­”æ¸…å•çš„æ¯æ—¥Checklistï¼Œç„¶åä¸ºç¬¬äºŒå¤©å®‰æ’ä»»åŠ¡ã€‚æ»´ç­”æ¸…å•çš„å…·ä½“ä½¿ç”¨æ–¹æ³•å‚è€ƒäº†è¯¾ç¨‹ã€Šè·Ÿé‚¹å°å¼ºå­¦ç”¨æ»´ç­”æ¸…å•ã€‹ï¼Œè¯¾ç¨‹åœ¨ç½‘æ˜“äº‘è¯¾å ‚ä¸Šåº”è¯¥æœ‰ã€‚æ»´ç­”æ¸…å•æˆ‘ç”¨äº†å¿«åŠå¹´äº†ï¼Œè¿™æ˜¯æˆ‘ç›®å‰æ¥è§¦çš„æœ€å®Œç¾çš„æ—¶é—´ç®¡ç†ç±»appï¼Œæˆ‘éœ€è¦çš„åŠŸèƒ½å®ƒå…¨éƒ¨éƒ½æœ‰ï¼Œè€Œä¸”æœ‰äº§å“è‡ªå·±çš„å¯¹æ—¶é—´ç®¡ç†çš„ä¸€äº›æƒ³æ³•ã€‚â€œæ”¶é›†ç®±â€çš„å­˜åœ¨å¯¹æˆ‘æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚  
ä¸‹é¢æ˜¯æˆ‘æ¯æ™šçš„checklistï¼š

<div class="note info">
    1. ä¿¡æ¯é—¨æˆ·<br />
    2. åŒ—é‚®äººè®ºå›åå¤§<br />
    3. æ¸…ç†é˜…è¯»æ¸…å•<br />
    4. qqå®˜æ–¹é€šçŸ¥ç¾¤<br />
    5. æ¸…ç†æ»´ç­”æ¸…å•<br />
    6. æ•´ç†çŸ¥è¯†ç¢ç‰‡<br />
    7. è®¡ç®—æœºé™¢å…¬ä¼—å·
</div>

<p>æ¯æ—¥çš„æ‰“å¡æ¸…å•åŒ…æ‹¬ï¼š</p>
<div class="note success">
    1. æŸ¥çœ‹ä»Šå¤©èŠ±äº†å¤šå°‘é’±<br />
    2. å¥èº«ï¼ˆz1.2.3.5.6ï¼‰<br />
    3. åšæŒè®°å½•<br />
    4. é˜…è¯»<br />
    5. ä¸å‘è„¾æ°”<br />
    6. èƒŒå•è¯<br />
    7. åƒæ—©é¤<br />
    8. å–æ°´
</div>

<p>æ¯æ—¥çš„å’¨è¯¢è·å¾—åŒ…æ‹¬ï¼š36æ°ªã€æ¾æ¹ƒæ–°é—»ã€éƒ¨åˆ†å¾®ä¿¡å…¬ä¼—å·ã€ç½‘æ˜“äº‘è¯¾å ‚ã€åŒ—é‚®äººè®ºå›<br>æ”¶é›†çš„appï¼š<b>pocket</b>ï¼ˆå¾ˆä¼˜ç§€çš„appï¼ï¼‰<br>æ™šä¸Šè®°å½•çš„appï¼š<b>å¡ç‰‡æ—¥è®°</b>ï¼ˆè®°å½•appé‡Œç•Œé¢æˆ‘æœ€å–œæ¬¢çš„äº†ï¼Œæ¯å¤©è®°å½•çš„æ—¶å€™å¿ƒæƒ…æœ€é‡è¦ï¼Œæ‰€ä»¥æ—¥è®°è½¯ä»¶çš„é¢œå€¼è¦æ±‚åº”è¯¥æ˜¯æœ€é«˜çš„~ï¼‰<br>ç„¶åæœ‰æ—¶é—´çš„æ—¶å€™å†æ ¹æ®å¡ç‰‡æ—¥è®°é‡Œçš„æƒ³æ³•å½¢æˆé•¿ç¯‡å¤§è®ºå‘åˆ°åšå®¢ã€‚<br>&lt;/div&gt;</p>
<p>ç„¶è€Œã€ç„¶è€Œã€æœ€è¿‘è¯¾ç¨‹çœŸçš„å¤ªå¿™äº†å•Šï¼ä¸“ä¸šåˆ†æµå°±è·Ÿè½¬ä¸“ä¸šäº†ä¸€æ ·ï¼Œå‰ä¸¤å¹´å­¦çš„ä¸œè¥¿å’Œç°åœ¨çš„ä¸“ä¸šéƒ½è„±è½¨äº†å•Šï¼<br>è¿™å‡ å¤©ç´¯çš„ä¸è¡Œï¼Œä¹Ÿå¥½ä¹…éƒ½æ²¡å†™åšå®¢äº†ã€‚</p>
<p>ä»Šå¤©å†™çš„è¿™ä¸€ç¯‡çš„å†…å®¹ä¸€å®šè¿˜æœ‰å¤ªå¤šä¸å®Œå–„çš„åœ°æ–¹ï¼Œæ—¥åå†æ…¢æ…¢ç»†åŒ–å§ã€‚</p>
]]></content>
      <categories>
        <category>å‚çœä¹å·±</category>
      </categories>
      <tags>
        <tag>åšå®¢</tag>
      </tags>
  </entry>
  <entry>
    <title>å…³äºç»†èŠ‚</title>
    <url>/201909/2019-09-24-%E5%85%B3%E4%BA%8E%E7%BB%86%E8%8A%82/</url>
    <content><![CDATA[<p>æœ€è¿‘çš„ç”Ÿæ´»ä¸­â€œç»†èŠ‚â€è¿™ä¸ªè¯å‡ºç°äº†å¾ˆå¤šæ¬¡ã€‚æˆ‘ä»¬ä»å°å°±è¢«å¤§äººä»¬å®å˜±è¦â€œæ³¨æ„ç»†èŠ‚â€ï¼Œéšç€å¹´é¾„çš„å¢é•¿è¿™ä¸ªè¯å¾ˆå°‘å†è¢«äººæèµ·ã€‚è¿™ä¸¤å¤©å‘ç”Ÿçš„ä¸€ç³»åˆ—äº‹æƒ…éƒ½è®©æˆ‘å›è¿‡å¤´æ¥é‡æ–°å…³æ³¨è¿™ä¸ªè¯ã€‚  </p>
<p>è¿‘æœŸè®©æˆ‘é‡æ–°æ³¨æ„åˆ°è¿™ä¸ªè¯çš„æ—¶å€™æ˜¯åœ¨å‘ç»™åˆä¼™äººä¸­ç§‹èŒ¶è¯ä¼šçš„é—®å·æ—¶ï¼Œæ ‡é¢˜åé¢â€œã€å¤åˆ¶ã€‘â€ä¸¤ä¸ªå­—æ²¡æœ‰åˆ æ‰ï¼Œå‡¤æ°‘å­¦å§ä¸€å¥â€œè¦ç»†å¿ƒå‘â€è®©æˆ‘çªç„¶æ¥äº†ä¸€ä¸‹ã€‚ä¸Šæ¬¡å¬åˆ°è¿™ç§æé†’åº”è¯¥æ˜¯åœ¨å°å­¦äº†ã€‚é‚£ä¸ªæ—¶å€™åšé”™äº†è‡ªå·±æœ¬åº”è¯¥åšå¯¹çš„é¢˜ï¼Œä¼šæ”¶åˆ°è€å¸ˆè¿™æ ·çš„æé†’ã€‚  </p>
<p>æˆ‘çªç„¶æ„è¯†åˆ°è‡ªå·±åœ¨æµ®èºåœ°åšå¾ˆå¤šäº‹æƒ…ï¼Œè¿™ç§åšäº‹çš„çŠ¶æ€åº”è¯¥è°ƒæ•´è¿‡æ¥ã€‚è‡ªå·±æƒ³è¦åšçš„äº‹æƒ…å¤ªå¤šï¼Œä½†æ˜¯è¡ŒåŠ¨åŠ›æ²¡æœ‰é¢„æœŸçš„é‚£ä¹ˆé«˜ï¼Œæ‰€ä»¥å¾ˆå¤šäº‹æƒ…éƒ½æ²¡æœ‰åšåˆ°ç™¾åˆ†ç™¾çš„å®Œç¾ã€‚å¯¹äºä¸€ä¸ªæ€æƒ³æ´»è·ƒçš„å¤§å­¦ç”Ÿæ¥è¯´ï¼Œäº§ç”Ÿæ–°é²œçš„æƒ³æ³•æ˜¯ä¸€ä»¶æœ€å»‰ä»·çš„äº‹æƒ…ï¼ŒçœŸæ­£é‡è¦çš„æ˜¯åšäº‹çš„è¡ŒåŠ¨åŠ›ã€‚ç°åœ¨çš„è‡ªå·±åº”è¯¥æ˜¯æœ‰â€œåšå‡æ³•â€çš„éœ€æ±‚ï¼Œä¸€äº›äº‹æƒ…è¦ä¹ˆå°±ä¸åšï¼Œè¦ä¹ˆå°±åšåˆ°è‡ªå·±çš„ç™¾åˆ†ä¹‹ç™¾ã€‚å°¤å…¶æ˜¯æ— æ³•é€ƒé¿çš„è¯¾ç¨‹ä½œä¸šå’Œè¯¾ç¨‹è®¾è®¡ï¼Œè¿™äº›äº‹æƒ…ç†åº”åšåˆ°è‡ªå·±çš„æœ€å®Œç¾ã€‚  </p>
<p>åœ¨å’Œæäº¬è€å¸ˆçš„é¢è°ˆä¸­ä¹Ÿæåˆ°äº†å…³äºç»†èŠ‚çš„ä¸€äº›é—®é¢˜ã€‚æäº¬è€å¸ˆè®²åˆ°çš„å…³äºé¢è¯•æ¯”èµ›çš„ç­–åˆ’ï¼Œé¡¹ç›®ç»„ç»™å‡ºäº†106é¡µçš„ç­–åˆ’ä¹¦â€”â€”ä¸ç®¡ç­–åˆ’åˆ°åº•æ€æ ·ï¼Œä»…ä»…ä»ç­–åˆ’ä¹¦çš„é‡æ¥çœ‹ï¼Œå°±çŸ¥é“åšè¿™ä»¶äº‹çš„äººå·²ç»åšåˆ°å°½å–„å°½ç¾äº†ã€‚å½“æˆ‘ä»¬åœ¨èŒåœºä¸­æˆ–è€…åœ¨å¹³æ—¶çš„å­¦ä¹ ç”Ÿæ´»ä¸­ï¼Œæˆ‘ä»¬ä¸å¯èƒ½ä¸€ä¸Šæ¥å°±æ‹¥æœ‰å¾ˆä¼˜è¶Šçš„æœºä¼šï¼Œä¹Ÿä¸å¯èƒ½ä¸€ä¸‹å­å°±åšå‡ºæƒŠä¸ºå¤©äººçš„äº‹æƒ…ã€‚é‚£ä¹ˆæˆ‘ä»¬çš„èƒ½åŠ›å’Œå‡ºä¼—ç‚¹å°±ä½“ç°åœ¨ç»†èŠ‚ä¸Šï¼Œåœ¨ç»†èŠ‚ä¸Šåšåˆ°æ— å¯æŒ‘å‰”åŒæ ·èƒ½ç»™äººç•™ä¸‹å¾ˆæ·±çš„å°è±¡ã€‚â€œåšå¥½ç»†èŠ‚â€èƒ½å¤Ÿè®©æˆ‘ä»¬â€œè¢«äººæ³¨æ„åˆ°â€ã€‚  </p>
<p>è®¤çœŸé›•åˆ»ç»†èŠ‚èƒ½å¤Ÿè®©æˆ‘ä»¬ç»™äººç•™ä¸‹å¾ˆå¥½çš„ç¬¬ä¸€å°è±¡ã€‚ä»Šå¤©æ¬§è€å¸ˆåœ¨ä¸Šè¯¾çš„æ—¶å€™æåˆ°å…è¯•ç ”ç©¶ç”Ÿçš„å¤è¯•ï¼Œå•å•ä»ä¸€ä¸ªå­¦ç”Ÿçš„ç®€å†å°±èƒ½å‘ç°å¾ˆå¤šäº‹æƒ…â€”â€”é‚£äº›è®¤è®¤çœŸçœŸç¢ç£¨ç®€å†çš„äººè‡³å°‘è¯´æ˜ä»–ä»¬æŠŠè¿™ä»¶äº‹æƒ…â€œæ”¾åœ¨å¿ƒä¸Šâ€ï¼Œè¿™è¯´æ˜ä»–ä»¬æ„¿æ„æŠŠä¹‹åçš„æ—¶é—´æŠ•å…¥åˆ°å®éªŒå®¤ï¼Œæ„¿æ„å’Œèº«è¾¹çš„åŒå­¦äº¤æµç­‰ç­‰ã€‚ä¸€ä»½è®¤çœŸçš„ç®€å†èƒ½å¤Ÿè¡¨è¾¾å¾ˆå¤šä¸œè¥¿ã€‚è€å¸ˆæé†’æˆ‘ä»¬ï¼Œä¸€å®šè¦æ³¨æ„ç»†èŠ‚ï¼Œç‰¹åˆ«æ˜¯åœ¨ç¬¬ä¸€å°è±¡ä¸­çš„ç»†èŠ‚ååˆ†é‡è¦ã€‚  </p>
<p>ä»Šå¤©åœ¨çº¿ä¸Šå’Œä¸€ä½å¿«æ‰‹çš„å­¦é•¿äº¤æµï¼Œä»–ç€é‡å¼ºè°ƒäº†â€œäº®ç‚¹â€è¿™ä¸ªè¯ï¼Œå®ƒå¯ä»¥æ˜¯å­¦å†ã€ä¸“ä¸šã€è®ºæ–‡æˆ–è€…å®è·µç­‰ç­‰ï¼Œé‡è¦çš„æ˜¯æˆ‘ä»¬è¦ç•™æ„å¼€å§‹æ‰“é€ â€œä¸ªäººå“ç‰Œâ€ã€‚  </p>
<p>å¤§å‚ä¸ç¼ºå¥½å­¦æ ¡çš„å­¦ç”Ÿï¼Œæ¯”å¦‚å¿«æ‰‹ä¸€åº¦æ¸…åŒ—æ¯”ä¾‹é«˜è¾¾40%ï¼Œç»„é‡Œä¸€åŠä»¥ä¸Šçš„æ¸…åŒ—ä¸­ç§‘é™¢ï¼Œä½†æ˜¯æ°¸è¿œç¼ºä¹å²—ä½æåº¦åŒ¹é…çš„äººã€‚åŸå› å¹¶éæ˜¯å¤§å­¦çš„ä¸“ä¸šå’Œç ”ç©¶æ–¹å‘ä¸å¯¹å£ï¼Œä¹Ÿå¹¶éæ˜¯é«˜æ ¡çš„æ•™è‚²å’ŒèŒåœºè„±èŠ‚ï¼Œè€Œæ˜¯æˆ‘ä»¬ä¸€ç›´æ˜¯ä»å¤§å­¦çš„åŸ¹å…»æ–¹æ¡ˆå‡ºå‘ï¼Œå»é€‚åº”ä¸åŒå…¬å¸çš„éœ€æ±‚ï¼›è€Œéä»å²—ä½éœ€æ±‚å‡ºå‘ï¼Œé¢å‘å²—ä½æŠ€èƒ½åœ¨å¤§å­¦ä¸­å­¦ä¹ ã€‚è¿™ç§åŸ¹å…»æ–¹æ³•æ˜¯ä¸€æŠŠåŒåˆƒå‰‘ï¼Œå®ƒè™½ç„¶ä¿è¯äº†å¯¹å²—ä½çš„é«˜åº¦é€‚åº”ï¼Œä½†æ˜¯ä¹Ÿå‰Šå¼±äº†äººçš„å…¨é¢çš„èƒ½åŠ›ï¼Œåœ¨ç¤¾ä¼šé£é€Ÿå‘å±•ä¸­ï¼Œå¯èƒ½ä¼šéšç€èŒä¸šçš„æ²¡è½ï¼Œè¿™ç§åŸ¹è®­æ–¹å¼çš„åé¢‡ä¹Ÿå°±æ˜¾ç°å‡ºæ¥ã€‚  </p>
<p>æˆ‘ä»¬ä¹Ÿåº”è¯¥å»å°è¯•æ„å»ºä¸€ç§ç»“æœå¯¼å‘çš„åŸ¹å…»æ–¹æ¡ˆï¼ŒæŒ‰ç…§æœªæ¥çš„éœ€æ±‚åœ¨å¤§å­¦é˜¶æ®µé›†æˆèƒ½åŠ›ï¼Œå°¤å…¶æ˜¯åœ¨å¤§å­¦ä¸“ä¸šåˆ’åˆ†æ¨¡ç³Šä¸”è¡Œä¸šå‘å±•è¿…é€Ÿçš„æ—¶ä»£ã€‚</p>
<p>ä»Šå¤©ï¼šè‚æ•°æ®ç§‘å­¦å¯¼è®ºä½œä¸šåˆ°3ç‚¹ï¼Œç©æ‰‹æœºåˆ°4ç‚¹ã€‚ä¹ç‚¹äºŒåèµ·åºŠï¼Œé©¬é©¬è™è™å¬äº†è¯¾ ï¼ˆå¤§æ•°æ®æŠ€æœ¯åŸºç¡€ï¼‰ï¼Œä¸­åˆå®Œäº†ä¸€ä¼šæ¸¸æˆï¼Œç¾ç¾åœ°åƒäº†ä¸€é¡¿ï¼Œå®¿èˆç¡äº†ä¸€ä¼šå„¿ï¼Œå°±å»ä¸Šè¯¾ï¼Œæ²¡æ€ä¹ˆè®¤çœŸå¬ï¼ˆæ•°æ®ç§‘å­¦å¯¼è®ºï¼‰åœ¨ç ”ç©¶åšå®¢åœ°SEOã€‚æ™šä¸Šçœ‹äº†å¥½ä¹…çš„ä¹é˜Ÿçš„å¤å¤©ã€‚ç„¶åå¿™äºå„ç§çäº‹ï¼Œä¸€è¾¹å­¦ä¹ ä¸€è¾¹èŠå¤©ã€‚</p>
<p>æ•ˆç‡å¥½ä½å•Šï¼Œæ˜å¤©è¿˜è¦å†™ä½œä¸šå‘¢ã€‚</p>
]]></content>
      <categories>
        <category>å‚çœä¹å·±</category>
      </categories>
  </entry>
  <entry>
    <title>ã€Œå­¦ç”Ÿå®¿èˆç®¡ç†ç³»ç»Ÿã€å®éªŒæŠ¥å‘Š</title>
    <url>/201909/%E3%80%8C%E5%AD%A6%E7%94%9F%E5%AE%BF%E8%88%8D%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%E3%80%8D%E5%AE%9E%E9%AA%8C%E6%8A%A5%E5%91%8A/</url>
    <content><![CDATA[<h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h2><p>ä½¿ç”¨<code>Python</code>è¯­è¨€ï¼Œè®¾è®¡ä¸€ä¸ªå°å‹çš„å­¦ç”Ÿå®¿èˆç®¡ç†ç³»ç»Ÿï¼Œç³»ç»Ÿç”¨æˆ·ä¸ºå®¿èˆç®¡ç†å‘˜ã€‚</p>
<span id="more"></span>
<h2 id="åŠŸèƒ½è¦æ±‚"><a href="#åŠŸèƒ½è¦æ±‚" class="headerlink" title="åŠŸèƒ½è¦æ±‚"></a>åŠŸèƒ½è¦æ±‚</h2><ol>
<li>å­¦ç”Ÿä¿¡æ¯ï¼šå­¦å·ã€å§“åã€æ€§åˆ«ï¼ˆç”·/å¥³ï¼‰ã€å®¿èˆæˆ¿é—´å·ã€è”ç³»ç”µè¯ã€‚</li>
<li>ç³»ç»ŸåŠŸèƒ½<ol>
<li>å¯æŒ‰å­¦å·æŸ¥æ‰¾æŸä¸€ä½å­¦ç”Ÿçš„å…·ä½“ä¿¡æ¯</li>
<li>å¯ä»¥å½•å…¥æ–°çš„å­¦ç”Ÿä¿¡æ¯</li>
<li>å¯ä»¥æ˜¾ç¤ºç°æœ‰çš„æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯</li>
</ol>
</li>
</ol>
<h2 id="ç¨‹åºè¦æ±‚"><a href="#ç¨‹åºè¦æ±‚" class="headerlink" title="ç¨‹åºè¦æ±‚"></a>ç¨‹åºè¦æ±‚</h2><ol>
<li>ä½¿ç”¨å‡½æ•°ã€åˆ—è¡¨ã€å­—å…¸ã€å­—ç¬¦ä¸²ã€æ¡ä»¶å¾ªç¯ç­‰è§£å†³é—®é¢˜ï¼›</li>
<li>ç¨‹åºè§„æ¨¡åœ¨80~200è¡Œå·¦å³ã€‚</li>
</ol>
<hr>
<h2 id="ä»»åŠ¡åˆ†æ"><a href="#ä»»åŠ¡åˆ†æ" class="headerlink" title="ä»»åŠ¡åˆ†æ"></a>ä»»åŠ¡åˆ†æ</h2><p>å®ç°å®¿èˆç®¡ç†ç¨‹åºçš„ä¸‰ä¸ªåŠŸèƒ½ã€‚<br>æ·»åŠ çš„åŠŸèƒ½åŒ…æ‹¬ï¼šå¯ä»¥åˆ©ç”¨å­¦ç”Ÿçš„å§“åè¿›è¡ŒæŸ¥æ‰¾ã€‚<br>é”™è¯¯å¤„ç†ï¼šåœ¨åŠŸèƒ½é€‰æ‹©ã€è¾“å…¥å­¦å·ã€å§“åã€æ€§åˆ«ã€å®¿èˆæˆ¿é—´å·ã€è”ç³»ç”µè¯æ—¶éƒ½æœ‰å¯èƒ½å‡ºç°æ•°æ®æ ¼å¼ä¸æ­£ç¡®çš„æƒ…å†µï¼Œéœ€è¦è¯·æ±‚ç”¨æˆ·é‡æ–°è¾“å…¥ã€‚åœ¨æŸ¥æ‰¾å¤±è´¥æ—¶ï¼Œéœ€è¦å‘ç”¨æˆ·æä¾›æŸ¥æ‰¾å¤±è´¥ä¿¡æ¯ã€‚</p>
<h2 id="æ¨¡å—åˆ’åˆ†"><a href="#æ¨¡å—åˆ’åˆ†" class="headerlink" title="æ¨¡å—åˆ’åˆ†"></a>æ¨¡å—åˆ’åˆ†</h2><p>å…±æœ‰ä¸€ä¸ªä¸»å‡½æ•°å’Œä¸‰ä¸ªæ¨¡å—å‡½æ•°ï¼š</p>
<ol>
<li><code>search_stu</code>å¯æŒ‰ç…§å­¦å·æŸ¥æ‰¾æŸä¸€ä½å­¦ç”Ÿçš„å…·ä½“ä¿¡æ¯ã€‚ï¼ˆè¿™é‡Œåšäº†ä¸€ä¸ªåŠŸèƒ½æ‹“å±•ï¼Œå¯ä»¥é€šè¿‡å­¦ç”Ÿå§“åæ¥è¿›è¡ŒæŸ¥æ‰¾ï¼Œå¦‚æœæœ‰é‡åçš„åŒå­¦éƒ½ä¼šæŸ¥æ‰¾å‡ºæ¥ï¼‰</li>
<li><code>add_stu</code>æ¨¡å—å½•å…¥æ–°çš„å­¦ç”Ÿä¿¡æ¯</li>
<li><code>show_all_students</code>æ˜¾ç¤ºç°æœ‰çš„æ‰€æœ‰å­¦ç”Ÿä¿¡æ¯</li>
<li><code>main</code>å‡½æ•°è¿›è¡ŒåŠŸèƒ½é€‰æ‹©</li>
</ol>
<h2 id="æ•°æ®ç»“æ„å’Œå…³é”®ç®—æ³•"><a href="#æ•°æ®ç»“æ„å’Œå…³é”®ç®—æ³•" class="headerlink" title="æ•°æ®ç»“æ„å’Œå…³é”®ç®—æ³•"></a>æ•°æ®ç»“æ„å’Œå…³é”®ç®—æ³•</h2><ol>
<li>å¯¼å…¥<code>prettytable</code>æ¨¡å—ï¼Œä½¿è¾“å‡ºç»“æœæ›´ä¸ºç¾è§‚ã€‚</li>
<li><code>stu_info</code>æ˜¯ä¸€ä¸ª$n * 5$ çš„æ•°ç»„ï¼Œå…¶ä¸­$n$ä¸ºå­¦ç”Ÿæ•°é‡</li>
</ol>
<hr>
<h2 id="ç¨‹åºä»£ç "><a href="#ç¨‹åºä»£ç " class="headerlink" title="ç¨‹åºä»£ç "></a>ç¨‹åºä»£ç </h2><h3 id="search-stuå‡½æ•°"><a href="#search-stuå‡½æ•°" class="headerlink" title="search_stuå‡½æ•°"></a><code>search_stu</code>å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">search_stu</span>():</span><br><span class="line">    <span class="string">&quot;æŒ‰ç…§å­¦å·æˆ–å§“åæŸ¥æ‰¾æŸä¸€ä½å­¦ç”Ÿçš„å…·ä½“ä¿¡æ¯&quot;</span></span><br><span class="line">    find = -<span class="number">1</span></span><br><span class="line">    t = PrettyTable([<span class="string">&quot;å­¦å·&quot;</span>,<span class="string">&quot;å§“å&quot;</span>,<span class="string">&quot;æ€§åˆ«&quot;</span>,<span class="string">&quot;å®¿èˆæˆ¿é—´å·&quot;</span>,<span class="string">&quot;è”ç³»ç”µè¯&quot;</span>])</span><br><span class="line">    sea = <span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥è¦æœç´¢çš„å­¦å·æˆ–å§“åï¼š &quot;</span>)</span><br><span class="line">    <span class="keyword">if</span> sea.isdigit() == <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(stu_info)):</span><br><span class="line">            <span class="keyword">if</span> stu_info[i][<span class="number">0</span>] == sea:</span><br><span class="line">                find = i</span><br><span class="line">                t.add_row(stu_info[i])</span><br><span class="line">    <span class="keyword">if</span> sea.isalpha() == <span class="literal">True</span>:</span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(stu_info)):</span><br><span class="line">            <span class="keyword">if</span> stu_info[i][<span class="number">1</span>] == sea:</span><br><span class="line">                find = i</span><br><span class="line">                t.add_row(stu_info[i])</span><br><span class="line">    <span class="keyword">if</span> find == -<span class="number">1</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æŠ±æ­‰ï¼ŒæœªæŸ¥æ‰¾åˆ°è¯¥å­¦ç”Ÿã€‚&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(t)</span><br></pre></td></tr></table></figure>
<h3 id="add-stuå‡½æ•°"><a href="#add-stuå‡½æ•°" class="headerlink" title="add_stuå‡½æ•°"></a><code>add_stu</code>å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add_stu</span>():</span><br><span class="line">    <span class="string">&quot;å½•å…¥æ–°çš„å­¦ç”Ÿä¿¡æ¯&quot;</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;-&quot;</span>*<span class="number">50</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ–°å¢å­¦ç”Ÿ&quot;</span>)</span><br><span class="line">    num = <span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥å­¦å·ï¼š &quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> num.isdigit() != <span class="literal">True</span>:</span><br><span class="line">        num = <span class="built_in">input</span>(<span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š &quot;</span>)</span><br><span class="line">    name = <span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥å§“åï¼š &quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> name.isalpha() != <span class="literal">True</span>:</span><br><span class="line">        name = <span class="built_in">input</span>(<span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š &quot;</span>)</span><br><span class="line">    sex = <span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥æ€§åˆ«ï¼šï¼ˆç”·/å¥³ï¼‰ &quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> sex != <span class="string">&quot;ç”·&quot;</span> <span class="keyword">and</span> sex != <span class="string">&quot;å¥³&quot;</span>:</span><br><span class="line">        sex = <span class="built_in">input</span>(<span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š &quot;</span>)</span><br><span class="line">    room_no = <span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥æˆ¿é—´å·ï¼š &quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> room_no.isdigit() != <span class="literal">True</span>:</span><br><span class="line">        room_no = <span class="built_in">input</span>(<span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š &quot;</span>)</span><br><span class="line">    tel = <span class="built_in">input</span>(<span class="string">&quot;è¯·è¾“å…¥ç”µè¯ï¼š&quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> tel.isdigit() != <span class="literal">True</span>:</span><br><span class="line">        tel = <span class="built_in">input</span>(<span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥ï¼š &quot;</span>)</span><br><span class="line">    stu = [num, name, sex, room_no, tel]</span><br><span class="line">    stu_info.append(stu)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;æ·»åŠ &quot;</span>+num+<span class="string">&quot;æˆåŠŸ&quot;</span>)</span><br></pre></td></tr></table></figure>
<h3 id="show-all-studentså‡½æ•°"><a href="#show-all-studentså‡½æ•°" class="headerlink" title="show_all_studentså‡½æ•°"></a><code>show_all_students</code>å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">show_all_students</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(stu_info)):</span><br><span class="line">        table.add_row(stu_info[i])</span><br><span class="line">    <span class="built_in">print</span>(table)</span><br></pre></td></tr></table></figure>
<h3 id="ä¸»å‡½æ•°"><a href="#ä¸»å‡½æ•°" class="headerlink" title="ä¸»å‡½æ•°"></a>ä¸»å‡½æ•°</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span>*<span class="number">50</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿ä½¿ç”¨ã€å®¿èˆç®¡ç†ç³»ç»Ÿã€‘&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;1.æŸ¥æ‰¾å­¦ç”Ÿ&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;2.æ–°å¢å­¦ç”Ÿ&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;3.æ˜¾ç¤ºå…¨éƒ¨&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;0.é€€å‡ºç³»ç»Ÿ&quot;</span>)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;*&quot;</span>*<span class="number">50</span>)</span><br><span class="line">        <span class="built_in">print</span>()</span><br><span class="line">        instruct = <span class="built_in">input</span>(<span class="string">&quot;è¯·é€‰æ‹©å¸Œæœ›æ‰§è¡Œçš„æ“ä½œï¼š&quot;</span>)</span><br><span class="line">        <span class="keyword">if</span> instruct == <span class="string">&quot;1&quot;</span>:</span><br><span class="line">            search_stu()</span><br><span class="line">        <span class="keyword">elif</span> instruct == <span class="string">&quot;2&quot;</span>:</span><br><span class="line">            add_stu()</span><br><span class="line">        <span class="keyword">elif</span> instruct == <span class="string">&quot;3&quot;</span>:</span><br><span class="line">            show_all_students()</span><br><span class="line">        <span class="keyword">elif</span> instruct == <span class="string">&quot;0&quot;</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;æ¬¢è¿å†æ¬¡ä½¿ç”¨ã€å®¿èˆç®¡ç†ç³»ç»Ÿã€‘&quot;</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡æ–°è¾“å…¥æŒ‡ä»¤ï¼&quot;</span>)</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="æ‰§è¡Œç»“æœ"><a href="#æ‰§è¡Œç»“æœ" class="headerlink" title="æ‰§è¡Œç»“æœ"></a>æ‰§è¡Œç»“æœ</h2><h3 id="åŠŸèƒ½2-å½•å…¥å­¦ç”Ÿä¿¡æ¯"><a href="#åŠŸèƒ½2-å½•å…¥å­¦ç”Ÿä¿¡æ¯" class="headerlink" title="åŠŸèƒ½2. å½•å…¥å­¦ç”Ÿä¿¡æ¯"></a>åŠŸèƒ½2. å½•å…¥å­¦ç”Ÿä¿¡æ¯</h3><p><img src="https://s2.ax1x.com/2019/09/23/uCWEmF.jpg" alt=""></p>
<h3 id="åŠŸèƒ½3-æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿä¿¡æ¯"><a href="#åŠŸèƒ½3-æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿä¿¡æ¯" class="headerlink" title="åŠŸèƒ½3.æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿä¿¡æ¯"></a>åŠŸèƒ½3.æ˜¾ç¤ºæ‰€æœ‰å­¦ç”Ÿä¿¡æ¯</h3><p><img src="https://s2.ax1x.com/2019/09/23/uCWZTJ.jpg" alt=""></p>
<h3 id="åŠŸèƒ½1-æ ¹æ®å­¦å·æˆ–å§“åè¿›è¡ŒæŸ¥æ‰¾"><a href="#åŠŸèƒ½1-æ ¹æ®å­¦å·æˆ–å§“åè¿›è¡ŒæŸ¥æ‰¾" class="headerlink" title="åŠŸèƒ½1. æ ¹æ®å­¦å·æˆ–å§“åè¿›è¡ŒæŸ¥æ‰¾"></a>åŠŸèƒ½1. æ ¹æ®å­¦å·æˆ–å§“åè¿›è¡ŒæŸ¥æ‰¾</h3><ol>
<li><p>æ ¹æ®å­¦å·æŸ¥æ‰¾<br><img src="https://s2.ax1x.com/2019/09/23/uCWVw4.jpg" alt=""></p>
</li>
<li><p>æ ¹æ®å§“åæŸ¥æ‰¾<br><img src="https://s2.ax1x.com/2019/09/23/uCWkOU.jpg" alt=""></p>
</li>
</ol>
<div class="note success">
å¯è§ï¼Œé‡åçš„å­¦ç”Ÿè¢«æŸ¥æ‰¾å‡ºæ¥
</div>

<h3 id="åŠŸèƒ½0-é€€å‡ºç³»ç»Ÿ"><a href="#åŠŸèƒ½0-é€€å‡ºç³»ç»Ÿ" class="headerlink" title="åŠŸèƒ½0. é€€å‡ºç³»ç»Ÿ"></a>åŠŸèƒ½0. é€€å‡ºç³»ç»Ÿ</h3><p><img src="https://s2.ax1x.com/2019/09/23/uCW1OO.jpg" alt=""></p>
<h3 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h3><p><img src="https://s2.ax1x.com/2019/09/23/uCWmk9.jpg" alt="æŒ‡ä»¤é€‰æ‹©é”™è¯¯"></p>
<p><img src="https://s2.ax1x.com/2019/09/23/uCWuf1.jpg" alt="ä¿¡æ¯å½•å…¥é”™è¯¯"></p>
<p><img src="https://s2.ax1x.com/2019/09/23/uCWMSx.md.jpg" alt="æŸ¥æ‰¾é”™è¯¯"></p>
]]></content>
      <categories>
        <category>æ•°æ®ç§‘å­¦å¯¼è®º</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>å®éªŒå®¤è‹¦é€¼æ¬ç –æš‘å‡ç”Ÿæ´»çºªå®</title>
    <url>/201909/%E5%AE%9E%E9%AA%8C%E5%AE%A4%E8%8B%A6%E9%80%BC%E6%90%AC%E7%A0%96%E6%9A%91%E5%81%87%E7%94%9F%E6%B4%BB%E7%BA%AA%E5%AE%9E/</url>
    <content><![CDATA[<div class="note primary">
    è®°å½•ä¸€ä¸‹è‡ªå·±æš‘å‡åœ¨å®éªŒå®¤åšçš„ä¸€äº›äº‹æƒ…å’Œæ”¶è·å§ã€‚<br />
    è™½ç„¶è¿›æ­¥å¾ˆå°å¾ˆç¼“æ…¢ï¼Œä½†æ€»å½’æ˜¯æœ‰çš„ã€‚
</div>

<h2 id="7æœˆ13æ—¥"><a href="#7æœˆ13æ—¥" class="headerlink" title="7æœˆ13æ—¥"></a>7æœˆ13æ—¥</h2><ol>
<li><p>å…³äºè®ºæ–‡çš„ä¸»è¦å†…å®¹ï¼Œå­¦é•¿è¿›è¡Œäº†è®²è§£ï¼š<br /><br> <strong>ä»»åŠ¡ç›®æ ‡ï¼š</strong>é€šè¿‡è¿ç§»å­¦ä¹ å®ç°ç”¨æˆ·å¯¹é½é—®é¢˜ï¼Œå¹¶å°†å¯¹é½ç»“æœä¸å…¶ä»–çš„ç”¨æˆ·å¯¹å…¶æ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼šå…¶ä¸­çš„æ–¹æ³•åŒ…æ‹¬â€œç›‘ç£ç±»å‹çš„â€å’Œâ€œéç›‘ç£ç±»å‹çš„â€ï¼Œæœ€ç»ˆè®ºæ–‡é‡Œè¦å°†æˆ‘ä»¬çš„æ–¹æ³•ä¸å…¶ä»–è‡³å°‘ä¸‰å››ç§æ–¹æ³•è¿›è¡Œæ¯”è¾ƒã€‚</p>
 <span id="more"></span>
</li>
<li><p>ä¸‹é¢çš„æ—¶é—´åº”è¯¥åšåˆ°ï¼š<br> 0ï¼‰ç†Ÿæ‚‰å„æ•°æ®é›†ï¼Œæ¯ä¸ªæ•°æ®é›†ç»è¿‡å“ªä¸ªå‡½æ•°å˜æˆä»€ä¹ˆæ ·å­ï¼Ÿ<br> <code>myspace</code>æ–‡ä»¶å¤¹ä¸­ï¼Œ<code>.node</code>æ–‡ä»¶å‰ä¸€ä¸ªæ•°å­—è¡¨ç¤ºç»“ç‚¹æ ‡å·ï¼Œåé¢çš„è¡¨ç¤ºç”¨æˆ·åã€‚<br> <code>.edges</code>æ–‡ä»¶æ¯ä¸€è¡Œçš„ä¸¤ä¸ªæ•°å­—è¡¨ç¤ºè¾¹è¿æ¥çš„ä¸¤ä¸ªèŠ‚ç‚¹ã€‚<br> <code>aminer.tar.gz</code>,<code>flicker.tar.gz</code>,<code>lastfm.tar.gz</code>,<code>linkedin.tar,gz</code>,<code>livejournal.tar.gz</code>è¿™äº”ä¸ªå‹ç¼©åŒ…éƒ½æ˜¯ä¸Šé¢å½¢å¼çš„ç‚¹å’Œè¾¹<br> <code>aminer-linkedin.map.raw</code>æ–‡ä»¶ï¼Œå°†<code>aminer.tar.gz</code>æ–‡ä»¶ä¸­çš„ç»“ç‚¹æ˜ å°„åˆ°<code>linkedin</code>ä¸Š  </p>
<p> 1ï¼‰<code>DRNE</code>ï¼ˆå°†å›¾è¡¨ç¤ºçŸ©é˜µè½¬åŒ–æˆå‘é‡ï¼‰<br> è½¬åŒ–æˆçš„å‘é‡æ˜¯ä»€ä¹ˆæ ¼å¼ï¼Ÿå®ƒæ˜¯æ€æ ·è¡¨ç¤ºçŸ©é˜µçš„ï¼Ÿå®ƒçš„è¾“å…¥å’Œè¾“å‡ºæ˜¯æ€æ ·çš„ï¼Ÿ</p>
<p> 2ï¼‰<code>wGAN</code>çš„ä¸€ä¸ªå˜ç§å‡½æ•°ï¼ˆç”Ÿæˆç›¸åº”çš„å¯¹é½ç»“æœï¼‰<br> å®ƒçš„è¾“å…¥å’Œè¾“å‡ºæ˜¯æ€æ ·çš„ï¼Ÿ</p>
</li>
</ol>
<h2 id="7æœˆ14æ—¥"><a href="#7æœˆ14æ—¥" class="headerlink" title="7æœˆ14æ—¥"></a>7æœˆ14æ—¥</h2><p>éå¸¸è‰°éš¾çš„ä¸€å¤©ï¼Œ<code>DRNE</code>ä½œè€…çš„<code>readme</code>æ–‡æ¡£å†™é”™äº†ï¼ŒæŒ‡ä»¤æ˜¯é”™è¯¯çš„ï¼Œæˆ‘ç¬¬ä¸€æ¬¡æ¥è§¦è¿™ä¸ªçœ‹ä¸æ‡‚debugä¿¡æ¯ï¼Œå­¦é•¿ä¹Ÿæ²¡å‘ç°ã€‚æœ€åå‘é‚®ä»¶é—®åŸä½œè€…æ‰çŸ¥é“<code>readme</code>ä¸­æŠŠ<code>\</code>æ‰“æˆäº†<code>/</code>ğŸ¤¬<br>è¿™ä¸€ä»¶äº‹æƒ…èŠ±äº†æˆ‘ä¸‰å¤©çš„æ—¶é—´ï¼Œä¸€å¼€å§‹ä»¥ä¸ºè‡ªå·±çš„ç¯å¢ƒæ²¡æ­å»ºå¥½ï¼Œå®‰è£…äº†å„ç§åº“ï¼Œåˆ©ç”¨<code>anaconda</code>åˆ›é€ äº†è®¸å¤šç¯å¢ƒæµ‹è¯•ï¼Œæˆ‘å“­äº†ã€‚</p>
<ol>
<li><p>å…³äºå®‰è£…<code>tensorflow</code>çš„æ–¹æ³•ï¼š<br> <a href="https://morvanzhou.github.io/tutorials/machine-learning/tensorflow/1-2-install/">è«å‡¡Python</a><br> <a href="https://www.cnblogs.com/lvsling/p/8672404.html">lingâ€™s bolg</a></p>
<p> <a href="https://www.jianshu.com/p/28e2ae6fbd75">å®‰è£…æ—¶é‡åˆ°çš„é—®é¢˜</a></p>
</li>
<li><p>ä¸Šé¢è¿™äº›ä¹±ä¸ƒå…«ç³Ÿçš„éƒ½ä¸å¦‚ç›´æ¥<code>pip install</code>ï¼Œè§‰å¾—æ…¢çš„è¯æ¢æˆæ¸…åé•œåƒèµ„æº<a href="https://mirrors.tuna.tsinghua.edu.cn/">æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™</a></p>
</li>
</ol>
<p><a href="https://mirrors.tuna.tsinghua.edu.cn/help/pypi/">pypié•œåƒä½¿ç”¨å¸®åŠ©</a></p>
<h2 id="7æœˆ15æ—¥"><a href="#7æœˆ15æ—¥" class="headerlink" title="7æœˆ15æ—¥"></a>7æœˆ15æ—¥</h2><div class="note primary">
    å­¦é•¿åˆåˆ†é…äº†ä¸¤ä¸ªä»»åŠ¡ï¼Œç¬¬ä¸€ä¸ªæ˜¯åˆ¤æ–­å›¾æ˜¯å¦ä¸ºè¿é€šå›¾ã€‚ <br /> 
    å…¶å®è¦æ˜¯åªæœ‰å‡ ä¸ªç‚¹å€’ç®€å•ï¼Œä½†æ˜¯ä»…ä»…æ¥è§¦äº†ä¸€ç‚¹`Python`å°±è¦å†™ä¸ªå‡ åƒç‚¹åˆ¤æ–­è¿é€šå›¾çš„ç¨‹åºï¼Œæˆ‘æƒ³åˆ°çš„ç¬¬ä¸€ç‚¹æ˜¯æ•ˆç‡ä¼šéå¸¸ä½ã€‚ã€‚ã€‚æœ€åè¿™ä¸ªä»£ç å­¦é•¿äº²è‡ªå†™äº†ã€‚
</div>

<p>è¿™é‡Œé¡ºå¸¦å¤ä¹ äº†ä¸€ä¸‹æ•°æ®ç»“æ„çš„ä¸œè¥¿</p>
<ol>
<li>é‚»æ¥çŸ©é˜µä¸é‚»æ¥è¡¨<br> <a href="https://www.cnblogs.com/icode-girl/p/5273209.html">é‚»æ¥çŸ©é˜µ</a></li>
<li>è¾¹è¡¨<br> è¾¹é›†è¡¨ï¼Œå›¾çš„å‚¨å­˜ç»“æ„ä¹‹ä¸€ã€‚è¾¹è¡¨ç”±è¡¨å¤´ç»“ç‚¹å’Œè¡¨ç»“ç‚¹ä¸¤éƒ¨åˆ†ç»„æˆï¼Œå›¾ä¸­æ¯ä¸ªé¡¶ç‚¹å‡å¯¹åº”ä¸€ä¸ªå­˜å‚¨åœ¨æ•°ç»„ä¸­çš„è¡¨å¤´ç»“ç‚¹ã€‚<br> è¾¹è¡¨å­˜å‚¨äº†ä»¥ç‚¹ä¸ºèµ·ç‚¹çš„è¾¹çš„ä¿¡æ¯ï¼Œé‚»æ¥è¡¨å­˜å‚¨äº†ä»¥ç‚¹ä¸ºå‡ºå‘ç‚¹çš„ç‚¹çš„ä¿¡æ¯ã€‚ </li>
<li>edgelistè¾¹è¡¨ä¸­æ¯è¡Œæœ‰ä¸¤ä¸ªæ•°ï¼Œè¡¨ç¤ºè¿™ä¸¤ä¸ªç»“ç‚¹ä¹‹é—´æœ‰è¾¹</li>
<li>python nx.has_path(G, source, target)ç”¨æ¥åˆ¤æ–­æ˜¯å¦ä¸ºè¿é€šå›¾</li>
<li>networkxåº“æŸ¥é˜…èµ„æ–™ï¼š<br><a href="https://www.cnblogs.com/kaituorensheng/p/5423131.html">networkèµ„æ–™</a><br>NetworkXæ˜¯ä¸€ä¸ªç”¨Pythonè¯­è¨€å¼€å‘çš„å›¾è®ºä¸å¤æ‚ç½‘ç»œå»ºæ¨¡å·¥å…·ï¼Œå†…ç½®äº†å¸¸ç”¨çš„å›¾ä¸å¤æ‚ç½‘ç»œåˆ†æç®—æ³•ï¼Œå¯ä»¥æ–¹ä¾¿çš„è¿›è¡Œå¤æ‚ç½‘ç»œæ•°æ®åˆ†æã€ä»¿çœŸå»ºæ¨¡ç­‰å·¥ä½œã€‚networkxæ”¯æŒåˆ›å»ºç®€å•æ— å‘å›¾ã€æœ‰å‘å›¾å’Œå¤šé‡å›¾ï¼ˆmultigraphï¼‰ï¼›å†…ç½®è®¸å¤šæ ‡å‡†çš„å›¾è®ºç®—æ³•ï¼ŒèŠ‚ç‚¹å¯ä¸ºä»»æ„æ•°æ®ï¼›æ”¯æŒä»»æ„çš„è¾¹å€¼ç»´åº¦ï¼ŒåŠŸèƒ½ä¸°å¯Œï¼Œç®€å•æ˜“ç”¨ã€‚<br><a href="https://networkx.github.io/documentation/stable/tutorial.html">networkå®˜æ–¹æ–‡æ¡£</a>  </li>
</ol>
<p>å‘ç°æ–‡æ¡£é‡Œä¸¾çš„ä¾‹å­éƒ½æ˜¯è‡ªå·±è¾“å…¥çš„ä¸ªåˆ«çš„ç‚¹ï¼Œæˆ‘å¯ä»¥å…ˆç ”ç©¶ä¸€ä¸‹DRNEçš„ä»£ç ï¼Œä»é‡Œé¢å¾—åˆ°ä¸€äº›æœ‰ç”¨çš„å†…å®¹ã€‚</p>
<p>ä»£ç çœ‹ä¸æ‡‚çš„åœ°æ–¹ï¼Œé¦–å…ˆå°±æ˜¯embeddingï¼š<br><a href="https://blog.csdn.net/songyunli1111/article/details/85100616">å…³äºembedding</a></p>
<h2 id="7æœˆ16æ—¥"><a href="#7æœˆ16æ—¥" class="headerlink" title="7æœˆ16æ—¥"></a>7æœˆ16æ—¥</h2><ol>
<li>CONSNETæ•°æ®é›†ï¼š<br> deepwalk-masterå…ˆä¸ç”¨ï¼Œåšå¯¹æ¯”ç®—æ³•çš„<br> DRNE-master ç”¨æ¥åšembeddingçš„<br> GANç”¨æ¥ç”Ÿæˆæ¨¡å‹  </li>
<li>å…³äºanacondaçš„ä½¿ç”¨ï¼š<br> Anacondaæ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„pythonåŒ…ç®¡ç†å’Œç¯å¢ƒç®¡ç†è½¯ä»¶ï¼Œä¸€èˆ¬ç”¨æ¥é…ç½®ä¸åŒçš„é¡¹ç›®ç¯å¢ƒã€‚<br> æˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°è¿™æ ·çš„æƒ…å†µï¼Œæ­£åœ¨åšçš„é¡¹ç›®Aå’Œé¡¹ç›®Båˆ†åˆ«åŸºäºpython2å’Œpython3ï¼Œè€Œç¬¬ç”µè„‘åªèƒ½å®‰è£…ä¸€ä¸ªç¯å¢ƒï¼Œè¿™ä¸ªæ—¶å€™Anacondaå°±æ´¾ä¸Šäº†ç”¨åœºï¼Œå®ƒå¯ä»¥åˆ›å»ºå¤šä¸ªäº’ä¸å¹²æ‰°çš„ç¯å¢ƒï¼Œåˆ†åˆ«è¿è¡Œä¸åŒç‰ˆæœ¬çš„è½¯ä»¶åŒ…ï¼Œä»¥è¾¾åˆ°å…¼å®¹çš„ç›®çš„ã€‚<br> Anacondaé€šè¿‡ç®¡ç†å·¥å…·åŒ…ã€å¼€å‘ç¯å¢ƒã€Pythonç‰ˆæœ¬ï¼Œå¤§å¤§ç®€åŒ–äº†ä½ çš„å·¥ä½œæµç¨‹ã€‚ä¸ä»…å¯ä»¥æ–¹ä¾¿åœ°å®‰è£…ã€æ›´æ–°ã€å¸è½½å·¥å…·åŒ…ï¼Œè€Œä¸”å®‰è£…æ—¶èƒ½è‡ªåŠ¨å®‰è£…ç›¸åº”çš„ä¾èµ–åŒ…ï¼ŒåŒæ—¶è¿˜èƒ½ä½¿ç”¨ä¸åŒçš„è™šæ‹Ÿç¯å¢ƒéš”ç¦»ä¸åŒè¦æ±‚çš„é¡¹ç›®ã€‚<br> <a href="https://www.jianshu.com/p/742dc4d8f4c5">Anacondaå…¥é—¨</a></li>
</ol>
<h2 id="7æœˆ17æ—¥"><a href="#7æœˆ17æ—¥" class="headerlink" title="7æœˆ17æ—¥"></a>7æœˆ17æ—¥</h2><div class="note success">
    condaæœ‰ä¸€ç‚¹å¥½å¤„æ˜¯ï¼Œå¦‚æœä½ éœ€è¦å®‰è£…ä¸€ä¸ªåŒ…ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨æ£€æŸ¥è¿™ä¸ªåŒ…éœ€è¦çš„å‰ç½®åŒ…å¹¶ä¸”å®‰è£…ï¼Œæ¯”å¦‚ä½ è¦å®‰è£…TensorFlowï¼Œè€ŒTensorFlowä¼šç”¨åˆ°å¾ˆå¤šåƒå‰ç½®åŒ…åƒpandasã€matiplotç­‰ï¼Œå¦‚æœä½ åœ¨å•çº¯çš„pythonä¸‹æ²¡æœ‰å®‰è£…pandasç­‰åŒ…å°±ç›´æ¥å®‰è£…TensorFlowï¼Œé‚£ä¹ˆå’Œæœ‰å¯èƒ½æ— æ³•ä½¿ç”¨ï¼Œè€Œä½¿ç”¨condaå®‰è£…TensorFlowå°†ä¼šè¯¢é—®ä½ å¹¶è‡ªåŠ¨å¸®ä½ æŠŠç¼ºå°‘çš„å‰ç½®åŒ…å®‰è£…å¥½
</div>

<ol>
<li><p>ä½¿ç”¨anacondaå…ˆåˆ›å»ºä¸€ä¸ªç”¨äºdrneçš„ç¯å¢ƒ<br> <img src="https://s2.ax1x.com/2019/09/28/u1d88U.png" alt=""><br> å®‰è£…ä»¥ä¸Šç¯å¢ƒ<br> å…¶ä¸­æ·»åŠ çš„èµ„æºåº“éƒ½æ²¡æœ‰tensorflow == 1.2.0<br> æŒ‰ç…§æç¤º </p>
 <blockquote><p>To search for alternate channels that may provide the conda package youâ€™re looking for, navigate to <a href="https://anaconda.org">https://anaconda.org</a> and use the search bar at the top of the page.</p>
</blockquote>
<p> å»å®˜ç½‘æœç´¢èµ„æºå³å¯ä¸‹è½½</p>
<p> ç¯å¢ƒå®‰è£…å®Œæˆ</p>
</li>
<li><p>anacondaè·‘ä¸å‡ºæ¥ï¼Œå…ˆå­¦ä¹ anacondaçš„ä½¿ç”¨æ–¹æ³•ï¼š<br> <a href="https://www.jianshu.com/p/eaee1fadc1e9">anaconda1</a></p>
<p> <a href="https://i.xdc.at/2017/08/13/add-anaconda-prompt-to-context-menu-of-explorer/">anaconda2</a></p>
<p> <a href="https://blog.csdn.net/c20081052/article/details/88839479">anaconda3</a></p>
</li>
</ol>
<h2 id="7æœˆ19æ—¥"><a href="#7æœˆ19æ—¥" class="headerlink" title="7æœˆ19æ—¥"></a>7æœˆ19æ—¥</h2><p>ç»§ç»­ç ”ç©¶networkåº“</p>
<h2 id="7æœˆ21æ—¥"><a href="#7æœˆ21æ—¥" class="headerlink" title="7æœˆ21æ—¥"></a>7æœˆ21æ—¥</h2><p>ç ”è¯»networkxçš„æ–‡æ¡£ï¼Œåœ¨åé¢å¤„ç†ç›¸å…³é—®é¢˜çš„æ—¶å€™ä¼šç®€å•å¾ˆå¤šã€‚<br>åœ¨å­¦ä¹ å›¾çš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°çš„é—®é¢˜ï¼š<br><img src="https://s2.ax1x.com/2019/09/28/u1wzTI.png" alt=""><br><img src="https://s2.ax1x.com/2019/09/28/u1wx0A.png" alt=""></p>
<p>æœ€åä¸€è¡Œè¾“å‡ºï¼Œæˆ‘è®°å¾—è«å‡¡pythoné‡Œæœ‰è®²è¿™ä¸ªï¼Œå…³äºè¿­ä»£å™¨çš„ä¸œè¥¿ï¼Œç„¶åæœç´¢äº†ä¸€ä¸‹ï¼Œç»§ç»­è¿›è¡Œå­¦ä¹ ï¼š<br><a href="https://blog.csdn.net/u014028063/article/details/80572234">Pythonè¿­ä»£å™¨</a></p>
<p><strong>ä»»åŠ¡ï¼š</strong><br>å†™ä¸€ä¸ªå¯ä»¥å°†ground truthæŠ½æ ·çš„å‡½æ•°ï¼Œç»™å®šä¸€ä¸ªåˆ—è¡¨ï¼Œä¾‹å¦‚[0.3ï¼Œ 0.5ï¼Œ 0.7]ï¼Œ<br>0.3è¡¨ç¤ºåœ¨groundtruthé‡Œé¢éšæœºæŠ½æ ·30%ï¼Œå¹¶ç”Ÿæˆåä¸ºnew-gt-0.3.txtçš„æ–‡ä»¶ï¼Œåˆ—è¡¨é•¿åº¦ä¸ºå¤šå°‘ï¼Œå°±ç”Ÿæˆå¤šå°‘ä¸ªè¿™æ ·çš„æ–‡ä»¶ã€‚</p>
<h2 id="7æœˆ22æ—¥"><a href="#7æœˆ22æ—¥" class="headerlink" title="7æœˆ22æ—¥"></a>7æœˆ22æ—¥</h2><p>readmeæ–‡æ¡£ä¸­AcrossNetworkEmbeddingDataæ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶å’Œå®é™…æ–‡ä»¶å¤¹é‡Œçš„ä¸ä¸€æ ·ï¼Œæ˜¯å¦æœ‰é—®é¢˜ï¼Ÿ</p>
<p>anchor users å®šä½ç”¨æˆ·</p>
<h2 id="7æœˆ23æ—¥"><a href="#7æœˆ23æ—¥" class="headerlink" title="7æœˆ23æ—¥"></a>7æœˆ23æ—¥</h2><p>è¯»å­¦é•¿å†™çš„ï¼š</p>
<ol>
<li><p>è¿é€šå›¾ä»£ç <br>numpy.zeros<br><a href="https://blog.csdn.net/qq_28618765/article/details/78085457">https://blog.csdn.net/qq_28618765/article/details/78085457</a></p>
</li>
<li><p>æŠ½æ ·ä»£ç <br>è‡ªå·±å®Œæˆï¼šæ•°æ®è½¬æ¢ä»£ç <br>python openå‡½æ•°çš„å‚æ•°<br><a href="https://www.runoob.com/python/python-func-open.html">https://www.runoob.com/python/python-func-open.html</a></p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/qq_33254870/article/details/81668297">https://blog.csdn.net/qq_33254870/article/details/81668297</a></p>
<p><a href="https://cloud.tencent.com/developer/ask/172682">https://cloud.tencent.com/developer/ask/172682</a></p>
<font color="FF0000">ä¸€å®šè¦ç³»ç»Ÿåœ°å­¦ä¸€ä¸‹pythonï¼è¦ä¸ç„¶ä»€ä¹ˆéƒ½ä¸ä¼šï¼Œå†™èµ·æ¥æ•ˆç‡å¤ªä½äº†ï¼ï¼</font>

<p>æ€æ ·ç”¨csvreaderè¯»å…¥ç”¨tabåˆ†éš”çš„æ–‡ä»¶â€”â€”ç›´æ¥ç”¨\t</p>
<p><a href="https://www.runoob.com/python/att-list-len.html">https://www.runoob.com/python/att-list-len.html</a></p>
<p>for while ifåé¢éƒ½è¦æœ‰å†’å·</p>
<p>pythonçš„â€˜å’Œâ€™ç¬¦å·æ˜¯ and</p>
<p>å…³äºnewlineå‚æ•°</p>
<h2 id="7æœˆ24æ—¥"><a href="#7æœˆ24æ—¥" class="headerlink" title="7æœˆ24æ—¥"></a>7æœˆ24æ—¥</h2><div class="note danger">
    æŠŠtrans_resultæ‰“æˆäº†tranns_resultï¼Œå‡ºç°é—®é¢˜ï¼Œï¼Œï¼Œï¼Œï¼Œ
    pythonä¹Ÿæ²¡æœ‰æŠ¥é”™ï¼Œè¿˜å¥½è‡ªå·±å‘ç°äº†
</div>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line">	<span class="keyword">while</span>(i &lt; <span class="built_in">len</span>(trans_result)):</span><br><span class="line">		<span class="comment"># print(&quot;Delete process...&quot;)</span></span><br><span class="line">		<span class="keyword">if</span>(trans_result[i][<span class="number">0</span>] == <span class="number">0</span> <span class="keyword">or</span> trans_result[i][<span class="number">1</span>] == <span class="number">0</span>):</span><br><span class="line">			trans_result = np.delete(trans_result, i, axis = <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">else</span>:<span class="comment">#ï¼ï¼ï¼ï¼æ³¨æ„è¿™é‡Œçš„elseï¼ï¼ï¼å¦åˆ™ä¼šå‡ºé”™</span></span><br><span class="line">			i = i + <span class="number">1</span></span><br></pre></td></tr></table></figure>
<center>â¤ï¸ ğŸ§¡ ğŸ’› ğŸ’š ğŸ’™ ğŸ’œ </center>
<center>ä¸­é—´å‡ å¤©å¸®å¼ è€å¸ˆæŸ¥é¡¹ç›®èµ„æ–™æ¥ç€â€”â€”å…³äºâ€œè®¤çŸ¥è®¡ç®—â€å’Œâ€œæ„å›¾æ¨ç†â€</center>

<h2 id="7æœˆ31æ—¥"><a href="#7æœˆ31æ—¥" class="headerlink" title="7æœˆ31æ—¥"></a>7æœˆ31æ—¥</h2><p>å¦‚ä½•è°ƒå‡ºeclipseå·¦è¾¹æ–‡ä»¶æ <br><a href="https://jingyan.baidu.com/article/a24b33cd3af41119ff002b7a.html"></a></p>
<p>anaconda prompt åˆ‡æ¢åˆ°eç›˜ï¼š<br><a href="https://blog.csdn.net/c20081052/article/details/88839479"></a></p>
<p>drneé…é€‚è‡ªå·±çš„ä»£ç ï¼š<br>activate for_drne<br>e:</p>
<h2 id="8æœˆ4æ—¥"><a href="#8æœˆ4æ—¥" class="headerlink" title="8æœˆ4æ—¥"></a>8æœˆ4æ—¥</h2><p>courseraè§†é¢‘æ— æ³•æ’­æ”¾<br><a href="https://blog.csdn.net/qq_39521554/article/details/79039548">https://blog.csdn.net/qq_39521554/article/details/79039548</a></p>
<p>æ¬§å¼è·ç¦»</p>
<p><a href="https://www.cnblogs.com/kimkat/p/9938475.html">https://www.cnblogs.com/kimkat/p/9938475.html</a></p>
<p>æµ‹è¯•ç¨‹åºï¼ˆæŠŠç¨‹åºæ‹†æˆå‡ å°éƒ¨åˆ†ï¼‰</p>
<ol>
<li>np.linalg.norm(vec1 - vec2)</li>
<li>è¯»å…¥éƒ¨åˆ†ï¼Œæ€æ ·è¯»å‡ºæ¥ä¸¤ä¸ªå‘é‡</li>
</ol>
<p>python cookbook çœŸçš„èƒ½å­¦åˆ°å¾ˆå¤šä¸œè¥¿ï¼ï¼<br>æŒºæœ‰ç”¨ï¼</p>
<p><a href="https://zhidao.baidu.com/question/115008008.html">https://zhidao.baidu.com/question/115008008.html</a></p>
<p><a href="https://www.cnblogs.com/bakari/p/4807847.html">https://www.cnblogs.com/bakari/p/4807847.html</a></p>
<h2 id="8æœˆ5æ—¥"><a href="#8æœˆ5æ—¥" class="headerlink" title="8æœˆ5æ—¥"></a>8æœˆ5æ—¥</h2><ol>
<li><p>æŸ¥æ•°æ®ç±»å‹ï¼š<br><a href="https://www.cnblogs.com/carlber/p/9362584.html">https://www.cnblogs.com/carlber/p/9362584.html</a></p>
</li>
<li><p>åˆ—è¡¨æœ€åæœ‰ä¸€ä¸ªé€—å·ï¼Œå°±ä¼šå¤šå‡ºæ¥ä¸€ä¸ªç©ºå…ƒç´ <br><a href="https://www.cnblogs.com/lostme/articles/8857083.html">https://www.cnblogs.com/lostme/articles/8857083.html</a></p>
</li>
<li><p>operands could not be broadcast together with shapes (2,) (250,)<br><a href="https://blog.csdn.net/Odyssues_lee/article/details/85244735">https://blog.csdn.net/Odyssues_lee/article/details/85244735</a></p>
</li>
<li><p>è¿è¡Œmapï¼ˆï¼‰åï¼ŒæŠ¥ï¼šmap object at 0x02629E50è§£å†³æ–¹æ³•ä¸åŸå› åˆ†æâ€‹â€‹â€‹â€‹â€‹â€‹â€‹<br><a href="https://blog.csdn.net/weixin_40807247/article/details/82797378">https://blog.csdn.net/weixin_40807247/article/details/82797378</a></p>
</li>
</ol>
<p><a href="https://www.cnblogs.com/hwd9654/p/5707920.html">https://www.cnblogs.com/hwd9654/p/5707920.html</a></p>
<ol>
<li><p>ä»å­—ç¬¦ä¸²ä¸­æå–æ•°å­—ï¼š<br><a href="https://www.cnblogs.com/dancesir/p/11021829.html">https://www.cnblogs.com/dancesir/p/11021829.html</a></p>
</li>
<li><p>pythonä¸­ï¼Œâ€œ<filter object at 0x028A2050>â€æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿæ€ä¹ˆè§£å†³ï¼Ÿ<br><a href="https://zhidao.baidu.com/question/329317296.html">https://zhidao.baidu.com/question/329317296.html</a></p>
</li>
<li><p>æ•°æ®æ ¼å¼è¦æ±‚å¾ˆä¸¥æ ¼ï¼š<br>3   2<br>5  4<br>7  6<br>9  7<br>tabå’Œxä¸ªç©ºæ ¼ä¸ä¸€æ ·</p>
</li>
<li><p>è¾“å‡ºç™¾åˆ†æ¯”ï¼š<br><a href="https://blog.csdn.net/u013553529/article/details/78567696">https://blog.csdn.net/u013553529/article/details/78567696</a></p>
</li>
</ol>
<h2 id="8æœˆ7æ—¥"><a href="#8æœˆ7æ—¥" class="headerlink" title="8æœˆ7æ—¥"></a>8æœˆ7æ—¥</h2><p>åšå®¢æ­å»º<br><a href="https://blog.csdn.net/fangquan1980/article/details/80648171">https://blog.csdn.net/fangquan1980/article/details/80648171</a></p>
<p><a href="https://blog.csdn.net/zyupupup/article/details/85098366">https://blog.csdn.net/zyupupup/article/details/85098366</a></p>
<p><a href="https://blog.csdn.net/weixin_42419856/article/details/81141546">https://blog.csdn.net/weixin_42419856/article/details/81141546</a></p>
<p><a href="https://blog.csdn.net/lvsehaiyang1993/article/details/80881433">https://blog.csdn.net/lvsehaiyang1993/article/details/80881433</a></p>
<p><a href="http://zhangchunlei.com/blog/2014/12/01/modify-a-record-of-my-website-dns/">http://zhangchunlei.com/blog/2014/12/01/modify-a-record-of-my-website-dns/</a></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">On a Windows machine, you&#x27;ll want to run nslookup your-domain.com and ensure that the output does not include any of the deprecated IP addresses (207.97.227.XXX, 204.232.175.XX, or 199.27.73.XXX).</span><br><span class="line">If you&#x27;re on a Mac or Linux machine, simply paste this command into a terminal window, replacing your-domain.com with, your site&#x27;s domain. dig your-domain.com | grep -E &#x27;(207.97.227.245|204.232.175.78|199.27.73.133)&#x27; || echo &quot;OK&quot;. If you see the word &quot;OK&quot;, you&#x27;re all set.</span><br></pre></td></tr></table></figure>
<p><a href="https://blog.csdn.net/a1023182899/article/details/77461567">https://blog.csdn.net/a1023182899/article/details/77461567</a></p>
<h2 id="8æœˆ8æ—¥"><a href="#8æœˆ8æ—¥" class="headerlink" title="8æœˆ8æ—¥"></a>8æœˆ8æ—¥</h2><p><a href="https://www.v2ex.com/amp/t/465570">https://www.v2ex.com/amp/t/465570</a></p>
<p>LINEï¼ˆPALEä¸­ï¼‰<br>GAN<br>ç”»åœˆ</p>
<h2 id="8æœˆ11æ—¥"><a href="#8æœˆ11æ—¥" class="headerlink" title="8æœˆ11æ—¥"></a>8æœˆ11æ—¥</h2><p>xlrdæ¨¡å—ï¼š<br><a href="https://www.cnblogs.com/insane-Mr-Li/p/9092619.html">https://www.cnblogs.com/insane-Mr-Li/p/9092619.html</a></p>
<h2 id="8æœˆ13æ—¥"><a href="#8æœˆ13æ—¥" class="headerlink" title="8æœˆ13æ—¥"></a>8æœˆ13æ—¥</h2><ol>
<li><p>random.choices<br><a href="https://blog.csdn.net/lcqin111/article/details/83504029">https://blog.csdn.net/lcqin111/article/details/83504029</a></p>
</li>
<li><p>Cannot feed value of shape (256, 255) for Tensor â€˜Placeholder:0â€™, which has shape â€˜(?, 256)â€™<br><a href="http://www.mamicode.com/info-detail-2346029.html">http://www.mamicode.com/info-detail-2346029.html</a></p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">4000</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;--------------training---------DDDDDD----------EPOCHï¼š&quot;</span> + <span class="built_in">str</span>(i) + <span class="string">&quot;-----------------------&quot;</span>)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">5</span>):</span><br><span class="line">        mm = np.reshape(random.choices(f_d, f_g, k=<span class="number">256</span>))</span><br><span class="line">        nn = np.reshape(random.choices(t_d, t_g, k=<span class="number">256</span>))</span><br><span class="line">        rms_train1, loss1 = sess.run([model.rms_train_op1, model.loss_d], feed_dict=&#123;model.s: np.array(random.choices(f_d, f_g, k=<span class="number">256</span>)), model.t: np.array(random.choices(t_d, t_g, k=<span class="number">256</span>))&#125;)</span><br><span class="line">        <span class="keyword">for</span> every <span class="keyword">in</span> model.clip:</span><br><span class="line">            sess.run(every)</span><br></pre></td></tr></table></figure>
<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>7.13<br>äº†è§£ä»»åŠ¡è¯¦æƒ…<br /></p>
<p>7.14<br>è£…ç›¸åº”çš„ç¯å¢ƒï¼Œè·‘DRNEï¼Œå‘ç°äº†æ–‡æ¡£çš„é”™è¯¯<br>DRNEåœ¨å‘½ä»¤è¡Œçª—å£è¿è¡Œã€‚<br>è¾“å…¥ï¼šedgelist<br>è¾“å‡ºï¼š.npyï¼ˆéœ€è¦å†å†™ç¨‹åºè½¬æ¢ä¸ºembeddingï¼‰<br /></p>
<p>7.15<br>æƒ³è¦å®Œæˆä»»åŠ¡ï¼šåˆ¤æ–­æ˜¯å¦ä¸ºè¿é€šå›¾<br>ç»“æœå°±æ˜¯ä¸è¡Œï¼Œï¼Œ<br /></p>
<p>7.16<br>è¿˜åœ¨ä¸ºDRNEçš„æ— è„‘é”™è¯¯ debug<br /></p>
<p>7.17<br>å­¦ä¹ äº†anacondaçš„ä½¿ç”¨ï¼Œè¿˜åœ¨è·‘DRNEï¼Œï¼Œ<br /></p>
<p>7.18<br>DRNEï¼Œï¼Œ<br /></p>
<p>7.19<br>å®Œæˆä¸€ä¸ªå¯ä»¥å°†ground truthæŠ½æ ·çš„å‡½æ•°ï¼Œä¾‹å¦‚[0.3, 0.5, 0.7]<br /></p>
<p>7.21<br>å­¦ä¹ å…³äºå›¾çš„å†…å®¹ï¼Œä¸æ•¢ä¸‹æ‰‹è‡ªå·±å†™ä»£ç <br /></p>
<p>7.22<br>å¼€å§‹è·‘IONEï¼ˆjavaï¼‰<br /></p>
<p>7.23<br>æ•°æ®è½¬æ¢ä»£ç ï¼Œå°†cosnetæ•°æ®é›†ä¸­çš„ç”¨æˆ·åè½¬æ¢æˆç»“ç‚¹å·<br /></p>
<p>7.24<br>åˆ å»edgesé‡Œé¢æ²¡æœ‰åœ¨groundtruthä¸­å‡ºç°çš„è®°å½•ï¼Œä»¥æ­¤æ¥ç¼©å°æ•°æ®é›†<br /></p>
<p>7.25<br>ç”¨å­¦é•¿æ”¹è¿‡çš„ä»£ç è·‘ione<br /></p>
<p>7.31<br>ç”¨anacondaç¯å¢ƒè·‘DRNE<br /></p>
<p>8.4<br>å†™è®¡ç®—è·ç¦»ï¼Œç”»åœˆçš„ä»£ç <br /></p>
<p>8.5<br>è®¡ç®—è·ç¦»çš„ä»£ç ï¼Œæ³¨æ„æ•°æ®æ ¼å¼<br /></p>
<p>8.7<br>åšå®¢æ­å»º<br /></p>
<p>8.8<br>è·‘PALEä¸­çš„LINEï¼Œå°è¯•WGAN<br /></p>
<p>8.11<br>è·‘å­¦é•¿æ”¹è¿‡çš„WGAN<br /></p>
<p>8.11<br>è·‘å­¦é•¿æ”¹è¿‡çš„WGANå®Œæˆï¼ŒDRNEç»“æœçš„npyè½¬æˆtxt<br /></p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>è¿ç§»å­¦ä¹ </tag>
        <tag>Anaconda</tag>
        <tag>DRNE</tag>
        <tag>IONE</tag>
        <tag>WGAN</tag>
        <tag>PALE</tag>
      </tags>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ27ï¼‰</title>
    <url>/201905/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8827%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY27-LDTä¸åº“"><a href="#DAY27-LDTä¸åº“" class="headerlink" title="DAY27_LDTä¸åº“"></a>DAY27_LDTä¸åº“</h1><h2 id="1-å…ˆæ¥ä¿®å¤bug"><a href="#1-å…ˆæ¥ä¿®å¤bug" class="headerlink" title="1. å…ˆæ¥ä¿®å¤bug"></a>1. å…ˆæ¥ä¿®å¤bug</h2><p>bugï¼šç”¨nsctå‘½ä»¤è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œæ— è®ºæ˜¯æŒ‰Shift+F1è¿˜æ˜¯ç‚¹å‡»çª—å£çš„â€xâ€æŒ‰é’®ç‹—æ²¡æœ‰ååº”ã€‚<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">task_run(task, -1, 0);</span><br></pre></td></tr></table></figure></p>
<span id="more"></span>
<h2 id="2-åº”ç”¨ç¨‹åºè¿è¡Œæ—¶å…³é—­å‘½ä»¤è¡Œçª—å£"><a href="#2-åº”ç”¨ç¨‹åºè¿è¡Œæ—¶å…³é—­å‘½ä»¤è¡Œçª—å£" class="headerlink" title="2. åº”ç”¨ç¨‹åºè¿è¡Œæ—¶å…³é—­å‘½ä»¤è¡Œçª—å£"></a>2. åº”ç”¨ç¨‹åºè¿è¡Œæ—¶å…³é—­å‘½ä»¤è¡Œçª—å£</h2><ul>
<li>ç›®æ ‡ï¼šåœ¨åº”ç”¨ç¨‹åºè¿è¡Œçš„æ—¶å€™æ— æ³•å…³é—­æ‰€å¯¹åº”çš„å‘½ä»¤è¡Œçª—å£ã€‚</li>
<li>ä¿®æ”¹ï¼š1.è®©ç³»ç»Ÿåœ¨æŒ‰ä¸‹â€xâ€æŒ‰é’®çš„æ—¶å€™æš‚ä¸”å°†å‘½ä»¤è¡Œçª—å£ä»ç”»é¢ä¸Šéšè—èµ·æ¥ã€‚ï¼ˆå› ä¸ºå…³é—­å‘½ä»¤è¡Œçª—å£ä¼šæœ‰å»¶è¿Ÿï¼‰<ol>
<li>å½“FIFOæ¥æ”¶åˆ°ä»console.cå‘é€çš„â€œå…³é—­çª—å£â€è¯·æ±‚æ•°æ®æ—¶æ‰€è¿›è¡Œçš„å¤„ç†ï¼Œä¸»è¦æ˜¯é‡Šæ”¾æŒ‡å®šçš„å›¾å±‚ã€‚</li>
</ol>
</li>
</ul>
<h2 id="3-ä¿æŠ¤åº”ç”¨ç¨‹åº-1"><a href="#3-ä¿æŠ¤åº”ç”¨ç¨‹åº-1" class="headerlink" title="3. ä¿æŠ¤åº”ç”¨ç¨‹åº(1)"></a>3. ä¿æŠ¤åº”ç”¨ç¨‹åº(1)</h2><p>ç ´åç¨‹åºï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[FORMAT &quot;WCOFF&quot;] </span><br><span class="line">[INSTRSET &quot;i486p&quot;] </span><br><span class="line">[BITS 32] </span><br><span class="line">[FILE &quot;crack7.nas&quot;] </span><br><span class="line">    GLOBAL _HariMain </span><br><span class="line">[SECTION .text] </span><br><span class="line">_HariMain: </span><br><span class="line">     MOV AX,1005*8 </span><br><span class="line">     MOV DS,AX </span><br><span class="line">     CMP DWORD [DS:0x0004],&#x27;Hari&#x27; </span><br><span class="line">     JNE fin ; ä¸æ˜¯åº”ç”¨ç¨‹åºï¼Œå› æ­¤ä¸æ‰§è¡Œä»»ä½•æ“ä½œ</span><br><span class="line">     MOV ECX,[DS:0x0000] ; è¯»å–è¯¥åº”ç”¨ç¨‹åºæ•°æ®æ®µçš„å¤§å°</span><br><span class="line">     MOV AX,2005*8 </span><br><span class="line">     MOV DS,AX </span><br><span class="line">crackloop: ; æ•´ä¸ªç”¨123å¡«å……</span><br><span class="line">     ADD ECX,-1 </span><br><span class="line">     MOV BYTE [DS:ECX],123 </span><br><span class="line">     CMP ECX,0 </span><br><span class="line">     JNE crackloop </span><br><span class="line">fin: ; ç»“æŸ</span><br><span class="line">     MOV EDX,4 </span><br><span class="line">     INT 0x40</span><br></pre></td></tr></table></figure></p>
<h2 id="4-ä¿æŠ¤åº”ç”¨ç¨‹åº-2"><a href="#4-ä¿æŠ¤åº”ç”¨ç¨‹åº-2" class="headerlink" title="4. ä¿æŠ¤åº”ç”¨ç¨‹åº(2)"></a>4. ä¿æŠ¤åº”ç”¨ç¨‹åº(2)</h2><p>CPUä¸ºæˆ‘ä»¬æä¾›äº†è§£å†³æ–¹æ¡ˆï¼Œé‚£å°±æ˜¯LDTã€‚<br>GDT: global descriptor table<br>LDT: local descriptor table<br>å…¶ä¸­GDTä¸­çš„æ®µè®¾ç½®æ˜¯ä¾›æ‰€æœ‰ä»»åŠ¡é€šç”¨çš„ï¼Œè€ŒLDTä¸­çš„æ®µè®¾ç½®åªå¯¹æŸä¸ªåº”ç”¨ç¨‹åºæœ‰æ•ˆã€‚</p>
<h2 id="5-ä¼˜åŒ–åº”ç”¨ç¨‹åºçš„å¤§å°"><a href="#5-ä¼˜åŒ–åº”ç”¨ç¨‹åºçš„å¤§å°" class="headerlink" title="5. ä¼˜åŒ–åº”ç”¨ç¨‹åºçš„å¤§å°"></a>5. ä¼˜åŒ–åº”ç”¨ç¨‹åºçš„å¤§å°</h2><p>é‚£ä¹ˆæˆ‘ä»¬è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥å°†è¿™äº›å‡½æ•°åšæˆä¸åŒçš„.objæ–‡ä»¶ï¼Œå°†_api_putcharç­‰éœ€è¦ç”¨åˆ°çš„å‡½æ•°å’Œ_api_openwinç­‰ä¸éœ€è¦ç”¨åˆ°çš„å‡½æ•°åˆ†ç¦»å¼€ã€‚</p>
<h2 id="6-åº“"><a href="#6-åº“" class="headerlink" title="6. åº“"></a>6. åº“</h2><p>å¦‚æœåƒä¸Šä¸€èŠ‚é‚£æ ·ï¼ŒæŠŠå‡½æ•°æ‹†åˆ†å¼€æ¥ï¼Œå¹¶ç”¨è¿æ¥å™¨æ¥è¿›è¡Œè¿æ¥çš„è¯ï¼Œæˆ‘ä»¬éœ€è¦åˆ›å»ºå¾ˆå¤šå¾ˆå¤šä¸ª.objæ–‡ä»¶ã€‚å½“ç„¶ï¼Œå¦‚æœä¸æ‹†åˆ†å‡½æ•°ï¼Œè€Œæ˜¯åšæˆä¸€ä¸ªå¤§çš„.objæ–‡ä»¶ä¹Ÿå¯ä»¥ï¼ˆå¦‚åŒa_nask.objï¼‰ï¼Œä½†è¿™æ ·çš„è¯åº”ç”¨ç¨‹åºæ²¡æœ‰å¼•ç”¨çš„å‡½æ•°ä¹Ÿä¼šè¢«åŒ…å«è¿›å»ï¼Œç”Ÿæˆçš„åº”ç”¨ç¨‹åºæ–‡ä»¶å°±ä¼šåƒä¹‹å‰é‚£æ ·æ— ç«¯å¢å¤§å¾ˆå¤šã€‚<br>åº“ï¼šå°†å¾ˆå¤šä¸ª.objæ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ã€‚<br>è¦åˆ›å»ºä¸€ä¸ªåº“ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦.objæ–‡ä»¶ä½œä¸ºåŸææ–™ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€ä¸ªå«åšåº“ç®¡ç†å™¨çš„ç¨‹åºã€‚<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">GOLIB = $(TOOLPATH)golib00.exe </span><br><span class="line"></span><br><span class="line">apilib.lib : Makefile $(OBJS_API) </span><br><span class="line"> $(GOLIB) $(OBJS_API) out:apilib.lib</span><br></pre></td></tr></table></figure><br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">a.bim : a.obj apilib.lib Makefile </span><br><span class="line">  $(OBJ2BIM) @$(RULEFILE) out:a.bim map:a.map a.obj apilib.lib</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void api_putchar(int c); </span><br><span class="line">void api_putstr0(char *s); </span><br><span class="line">void api_putstr1(char *s, int l); </span><br><span class="line">void api_end(void); </span><br><span class="line">int api_openwin(char *buf, int xsiz, int ysiz, int col_inv, char *title); </span><br><span class="line">void api_putstrwin(int win, int x, int y, int col, int len, char *str); </span><br><span class="line">void api_boxfilwin(int win, int x0, int y0, int x1, int y1, int col); </span><br><span class="line">void api_initmalloc(void); </span><br><span class="line">char *api_malloc(int size); </span><br><span class="line">void api_free(char *addr, int size); </span><br><span class="line">void api_point(int win, int x, int y, int col); </span><br><span class="line">void api_refreshwin(int win, int x0, int y0, int x1, int y1);</span><br><span class="line">void api_linewin(int win, int x0, int y0, int x1, int y1, int col); </span><br><span class="line">void api_closewin(int win); </span><br><span class="line">int api_getkey(int mode); </span><br><span class="line">int api_alloctimer(void); </span><br><span class="line">void api_inittimer(int timer, int data); </span><br><span class="line">void api_settimer(int timer, int time); </span><br><span class="line">void api_freetimer(int timer); </span><br><span class="line">void api_beep(int tone);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include &quot;apilib.h&quot;</span><br></pre></td></tr></table></figure>
<h2 id="7-æ•´ç†makeç¯å¢ƒ"><a href="#7-æ•´ç†makeç¯å¢ƒ" class="headerlink" title="7. æ•´ç†makeç¯å¢ƒ"></a>7. æ•´ç†makeç¯å¢ƒ</h2><p>æ•´ç†æ“ä½œç³»ç»Ÿã€åº“ã€åº”ç”¨ç¨‹åºçš„æ–‡ä»¶å’Œä»£ç ã€‚</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ26ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8826%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY26-ä¸ºçª—å£ç§»åŠ¨æé€Ÿ"><a href="#DAY26-ä¸ºçª—å£ç§»åŠ¨æé€Ÿ" class="headerlink" title="DAY26_ä¸ºçª—å£ç§»åŠ¨æé€Ÿ"></a>DAY26_ä¸ºçª—å£ç§»åŠ¨æé€Ÿ</h1><h2 id="1-æé«˜çª—å£çš„ç§»åŠ¨é€Ÿåº¦-1"><a href="#1-æé«˜çª—å£çš„ç§»åŠ¨é€Ÿåº¦-1" class="headerlink" title="1. æé«˜çª—å£çš„ç§»åŠ¨é€Ÿåº¦(1)"></a>1. æé«˜çª—å£çš„ç§»åŠ¨é€Ÿåº¦(1)</h2><p>å¯¼è‡´çª—å£ç§»åŠ¨é€Ÿåº¦æ…¢çš„åŸå› æœ‰å¾ˆå¤šï¼Œå…¶ä¸­ä¹‹ä¸€å°±æ˜¯sheet_refreshmapçš„é€Ÿåº¦å¤ªæ…¢ã€‚è¿™ä¸ªå‡½æ•°åœ¨<br>sheet_slideä¸­è¢«è°ƒç”¨äº†ä¸¤æ¬¡ï¼Œå¦‚æœèƒ½æé«˜å®ƒçš„é€Ÿåº¦æ•ˆæœåº”è¯¥ä¼šå¾ˆæ˜æ˜¾ã€‚</p>
<h2 id="2-æé«˜çª—å£çš„ç§»åŠ¨é€Ÿåº¦-2"><a href="#2-æé«˜çª—å£çš„ç§»åŠ¨é€Ÿåº¦-2" class="headerlink" title="2. æé«˜çª—å£çš„ç§»åŠ¨é€Ÿåº¦(2)"></a>2. æé«˜çª—å£çš„ç§»åŠ¨é€Ÿåº¦(2)</h2><span id="more"></span>
<p>sheet_refreshmapä¸­æœ‰è¿™æ ·ä¸€å¥<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">map[vy * ctl-&gt;xsize + vx] = sid;</span><br></pre></td></tr></table></figure></p>
<p>åœ¨æ±‡ç¼–è¯­è¨€ä¸­ï¼Œå¦‚æœæˆ‘ä»¬ç”¨16ä½å¯„å­˜å™¨ä»£æ›¿8ä½å¯„å­˜å™¨æ¥æ‰§è¡ŒMOVæŒ‡ä»¤çš„è¯ï¼Œç›¸é‚»çš„åœ°å€ä¸­ä¹Ÿä¼šåŒæ—¶å†™å…¥æ•°æ®ï¼Œè€Œå¦‚æœç”¨32ä½å¯„å­˜å™¨ï¼Œä»…1æ¡æŒ‡ä»¤å°±å¯ä»¥åŒæ—¶å‘ç›¸é‚»çš„4ä¸ªåœ°å€å†™å…¥å€¼äº†ã€‚<br>æ›´é‡è¦çš„æ˜¯ï¼Œå³ä¾¿æ˜¯åŒæ—¶å†™å…¥4ä¸ªå­—èŠ‚çš„å€¼ï¼Œåªè¦æŒ‡å®šåœ°å€æ˜¯4çš„æ•´æ•°å€ï¼ŒæŒ‡ä»¤çš„æ‰§è¡Œé€Ÿåº¦å°±<br>å’Œ1ä¸ªå­—èŠ‚çš„MOVæ˜¯ç›¸åŒçš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€Ÿåº¦è¯´ä¸å®šèƒ½æé«˜åˆ°åŸæ¥çš„4å€ï¼</p>
<h2 id="3-æé«˜çª—å£ç§»åŠ¨é€Ÿåº¦-3"><a href="#3-æé«˜çª—å£ç§»åŠ¨é€Ÿåº¦-3" class="headerlink" title="3.æé«˜çª—å£ç§»åŠ¨é€Ÿåº¦(3)"></a>3.æé«˜çª—å£ç§»åŠ¨é€Ÿåº¦(3)</h2><p>äºæ˜¯æˆ‘ä»¬é¦–å…ˆæƒ³åˆ°äº†sheet_refreshsubï¼Œçª—å£ç§»åŠ¨çš„æ—¶å€™ä¹Ÿè°ƒç”¨äº†è¿™ä¸ªå‡½æ•°ï¼Œå› æ­¤é€šè¿‡ä¿®æ”¹å®ƒå¯ä»¥æé«˜çª—å£ç§»åŠ¨çš„é€Ÿåº¦ï¼Œæ­¤å¤–å…¶ä»–ä¸€äº›åœ°æ–¹ä¹Ÿä¼šè°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚</p>
<h2 id="4-æé«˜çª—å£ç§»åŠ¨é€Ÿåº¦-4"><a href="#4-æé«˜çª—å£ç§»åŠ¨é€Ÿåº¦-4" class="headerlink" title="4.æé«˜çª—å£ç§»åŠ¨é€Ÿåº¦(4)"></a>4.æé«˜çª—å£ç§»åŠ¨é€Ÿåº¦(4)</h2><p>ä¸ºä»€ä¹ˆæ˜æ˜å·²ç»æ”¾å¼€äº†é¼ æ ‡é”®ï¼Œçª—å£å´è¿˜åœ¨æŒªåŠ¨å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºä¼´éšå›¾å±‚ç§»åŠ¨æ‰€è¿›è¡Œçš„ç»˜å›¾æ“<br>ä½œéå¸¸æ¶ˆè€—æ—¶é—´ï¼Œå¯¼è‡´ç³»ç»Ÿæ¥ä¸åŠå¤„ç†FIFOä¸­çš„é¼ æ ‡ç§»åŠ¨æ•°æ®ã€‚é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥åœ¨æ¥æ”¶åˆ°é¼ æ ‡ç§»åŠ¨æ•°æ®åä¸ç«‹å³è¿›è¡Œç»˜å›¾æ“ä½œï¼Œä½†å¦‚æœä¸€ç›´ä¸ç»˜å›¾çš„è¯é¼ æ ‡å’Œçª—å£å°±é™æ­¢ä¸åŠ¨äº†ï¼Œé‚£ä¸å°±æ²¡æ„ä¹‰äº†å—ï¼Ÿæˆ‘ä»¬å¯ä»¥ç­‰FIFOä¸ºç©ºæ—¶å†è¿›è¡Œç»˜å›¾æ“ä½œå˜›ã€‚</p>
<h2 id="5-å¯åŠ¨æ—¶åªæ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£"><a href="#5-å¯åŠ¨æ—¶åªæ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£" class="headerlink" title="5.å¯åŠ¨æ—¶åªæ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£"></a>5.å¯åŠ¨æ—¶åªæ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£</h2><p>ä¸€èˆ¬éƒ½æ˜¯å…ˆæ‰“å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£ï¼Œç„¶åæ ¹æ®éœ€è¦å¢åŠ ã€‚ä¸‹é¢æˆ‘ä»¬å°±å°†å¯åŠ¨æ—¶æ˜¾ç¤ºçš„å‘½ä»¤è¡Œçª—å£æ•°é‡æ”¹ä¸ºä¸€ä¸ªï¼Œå¹¶ä¸”å®ç°å¯ä»¥éšæ„å¯åŠ¨æ–°å‘½ä»¤è¡Œçª—å£çš„åŠŸèƒ½å§ã€‚</p>
<hr>
<p>åœ¨Windowsä¸­ï¼Œå³ä¾¿ä¸åœ¨å‘½ä»¤è¡Œä¸­è¾“å…¥å‘½ä»¤ï¼Œåªé€šè¿‡é¼ æ ‡çš„æ“ä½œä¹Ÿå¯ä»¥æ‰“å¼€æ–°çš„å‘½ä»¤è¡Œçª—å£ã€‚ä¸è¿‡é¼ æ ‡ç‚¹å‡»å¼€å§‹èœå•è¿™ç§æ–¹å¼å®ç°èµ·æ¥å¤ªéš¾ï¼Œæˆ‘ä»¬è¿˜æ˜¯åšå¿«æ·é”®å§ã€‚</p>
<h2 id="6-å¢åŠ æ›´å¤šçš„å‘½ä»¤è¡Œçª—å£"><a href="#6-å¢åŠ æ›´å¤šçš„å‘½ä»¤è¡Œçª—å£" class="headerlink" title="6.å¢åŠ æ›´å¤šçš„å‘½ä»¤è¡Œçª—å£"></a>6.å¢åŠ æ›´å¤šçš„å‘½ä»¤è¡Œçª—å£</h2><h2 id="7-å…³é—­å‘½ä»¤è¡Œçª—å£-1"><a href="#7-å…³é—­å‘½ä»¤è¡Œçª—å£-1" class="headerlink" title="7. å…³é—­å‘½ä»¤è¡Œçª—å£(1)"></a>7. å…³é—­å‘½ä»¤è¡Œçª—å£(1)</h2><p>åœ¨Windowsçš„å‘½ä»¤è¡Œçª—å£ä¸­ï¼Œè¾“å…¥â€œexitâ€å‘½ä»¤å°±å¯ä»¥å…³é—­å½“å‰çª—å£.<br>åœ¨å…³é—­ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£æ—¶ç³»ç»Ÿéœ€è¦åšäº›ä»€ä¹ˆäº‹å‘¢ï¼Ÿé¦–å…ˆéœ€è¦å°†åˆ›å»ºè¯¥çª—å£æ—¶æ‰€å ç”¨çš„å†…å­˜<br>ç©ºé—´å…¨éƒ¨é‡Šæ”¾å‡ºæ¥ï¼Œç„¶åè¿˜éœ€è¦é‡Šæ”¾çª—å£çš„å›¾å±‚å’Œä»»åŠ¡ç»“æ„ã€‚å’¦ï¼Œé—®é¢˜æ¥äº†ï¼Œåœ¨åˆ›å»ºä»»åŠ¡æ—¶æˆ‘ä»¬ä¸ºå‘½ä»¤è¡Œçª—å£å‡†å¤‡äº†ä¸“ç”¨çš„æ ˆï¼Œå´æ²¡æœ‰å°†è¿™ä¸ªæ ˆçš„åœ°å€ä¿å­˜èµ·æ¥ï¼Œè¿™æ ·çš„è¯å°±æ— æ³•æ‰§è¡Œé‡Šæ”¾æ“ä½œäº†ã€‚æ€ä¹ˆåŠå‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥åœ¨TASKç»“æ„ä¸­æ·»åŠ ä¸€ä¸ªcons_stackæˆå‘˜ï¼Œç”¨æ¥ä¿å­˜æ ˆçš„åœ°å€ã€‚</p>
<h2 id="8-å…³é—­å‘½ä»¤è¡Œçª—å£-2"><a href="#8-å…³é—­å‘½ä»¤è¡Œçª—å£-2" class="headerlink" title="8. å…³é—­å‘½ä»¤è¡Œçª—å£(2)"></a>8. å…³é—­å‘½ä»¤è¡Œçª—å£(2)</h2><p>å®ç°ç”¨é¼ æ ‡å…³é—­å‘½ä»¤è¡Œçª—å£çš„åŠŸèƒ½ã€‚å½“é¼ æ ‡ç‚¹å‡»çª—å£ä¸Šçš„â€œÃ—â€æŒ‰é’®æ—¶ï¼Œå‘å‘½ä»¤è¡Œçª—å£ä»»åŠ¡å‘é€4è¿™ä¸ªæ•°æ®ï¼Œå‘½ä»¤è¡Œçª—å£æ¥æ”¶åˆ°è¿™ä¸ªæ•°æ®ååˆ™å¼€å§‹æ‰§è¡Œexitå‘½ä»¤çš„ç¨‹åºã€‚</p>
<h2 id="9-startå‘½ä»¤"><a href="#9-startå‘½ä»¤" class="headerlink" title="9.startå‘½ä»¤"></a>9.startå‘½ä»¤</h2><p>Windowsçš„å‘½ä»¤è¡Œçª—å£é‡Œæœ‰ä¸€ä¸ªstartå‘½ä»¤ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯å¯ä»¥æ‰“å¼€ä¸€ä¸ªæ–°çš„å‘½ä»¤è¡Œçª—å£å¹¶è¿è¡ŒæŒ‡å®šçš„åº”ç”¨ç¨‹åºã€‚<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void cmd_start(struct CONSOLE *cons, char *cmdline, int memtotal) </span><br><span class="line">&#123; </span><br><span class="line"> struct SHTCTL *shtctl = (struct SHTCTL *) *((int *) 0x0fe4); </span><br><span class="line"> struct SHEET *sht = open_console(shtctl, memtotal); </span><br><span class="line"> struct FIFO32 *fifo = &amp;sht-&gt;task-&gt;fifo; </span><br><span class="line"> int i; </span><br><span class="line"> sheet_slide(sht, 32, 4); </span><br><span class="line"> sheet_updown(sht, shtctl-&gt;top); </span><br><span class="line"> /*å°†å‘½ä»¤è¡Œè¾“å…¥çš„å­—ç¬¦ä¸²é€å­—å¤åˆ¶åˆ°æ–°çš„å‘½ä»¤è¡Œçª—å£ä¸­*/ </span><br><span class="line"> for (i = 6; cmdline[i] != 0; i++) &#123; </span><br><span class="line"> fifo32_put(fifo, cmdline[i] + 256); </span><br><span class="line"> &#125; </span><br><span class="line"> fifo32_put(fifo, 10 + 256); /*å›è½¦é”®*/ </span><br><span class="line"> cons_newline(cons); </span><br><span class="line"> return; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="10-ncstå‘½ä»¤"><a href="#10-ncstå‘½ä»¤" class="headerlink" title="10. ncstå‘½ä»¤"></a>10. ncstå‘½ä»¤</h2><p>ç”¨startå‘½ä»¤å¯åŠ¨åº”ç”¨ç¨‹åºçœ‹èµ·æ¥å¾ˆä¸é”™ï¼Œä½†å¦‚æœè¿è¡Œcolorè¿™æ ·çš„ç¨‹åºçš„è¯ï¼Œæˆ‘ä»¬å¹¶ä¸å¸Œæœ›çœŸçš„æ–°å¼€ä¸€ä¸ªå‘½ä»¤è¡Œçª—å£å‡ºæ¥ï¼Œåå€’æ˜¯æ²¡æœ‰è¿™ä¸ªå¤šä½™çš„çª—å£æ¯”è¾ƒå¥½ã€‚é‚£ä¹ˆä¸‹é¢æˆ‘ä»¬å°±æ¥åšä¸€ä¸ªä¸æ‰“å¼€æ–°å‘½ä»¤è¡Œçª—å£çš„startå‘½ä»¤å§ï¼Œç»™å®ƒèµ·ä¸ªåå­—ï¼Œå«åšâ€œno console startâ€ï¼Œç®€ç§°ncstå‘½ä»¤ã€‚</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ25ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8825%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY25-å¢åŠ å‘½ä»¤è¡Œçª—å£"><a href="#DAY25-å¢åŠ å‘½ä»¤è¡Œçª—å£" class="headerlink" title="DAY25_å¢åŠ å‘½ä»¤è¡Œçª—å£"></a>DAY25_å¢åŠ å‘½ä»¤è¡Œçª—å£</h1><h2 id="1-èœ‚é¸£å™¨å‘å£°"><a href="#1-èœ‚é¸£å™¨å‘å£°" class="headerlink" title="1.èœ‚é¸£å™¨å‘å£°"></a>1.èœ‚é¸£å™¨å‘å£°</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">èœ‚é¸£å™¨å‘å£°</span><br><span class="line">EDX=20 </span><br><span class="line">EAX=å£°éŸ³é¢‘ç‡ï¼ˆå•ä½æ˜¯mHzï¼Œå³æ¯«èµ«å…¹ï¼‰</span><br><span class="line">ä¾‹å¦‚å½“EAX=4400000æ—¶ï¼Œåˆ™å‘å‡º440Hzçš„å£°éŸ³</span><br><span class="line">é¢‘ç‡è®¾ä¸º0åˆ™è¡¨ç¤ºåœæ­¢å‘å£°</span><br></pre></td></tr></table></figure>
<span id="more"></span>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int *hrb_api(int edi, int esi, int ebp, int esp, int ebx, int edx, int ecx, int eax) </span><br><span class="line">&#123; </span><br><span class="line"> ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line"> &#125; else if (edx == 20) &#123; </span><br><span class="line"> if (eax == 0) &#123; </span><br><span class="line"> i = io_in8(0x61); </span><br><span class="line"> io_out8(0x61, i &amp; 0x0d); </span><br><span class="line"> &#125; else &#123; </span><br><span class="line"> i = 1193180000 / eax; </span><br><span class="line"> io_out8(0x43, 0xb6); </span><br><span class="line"> io_out8(0x42, i &amp; 0xff);</span><br><span class="line"> io_out8(0x42, i &gt;&gt; 8); </span><br><span class="line"> i = io_in8(0x61); </span><br><span class="line"> io_out8(0x61, (i | 0x03) &amp; 0x0f); </span><br><span class="line"> &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> return 0; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="2-å¢åŠ æ›´å¤šçš„é¢œè‰²-1"><a href="#2-å¢åŠ æ›´å¤šçš„é¢œè‰²-1" class="headerlink" title="2.å¢åŠ æ›´å¤šçš„é¢œè‰²(1)"></a>2.å¢åŠ æ›´å¤šçš„é¢œè‰²(1)</h2><p>ä¿®æ”¹graphic.c<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void init_palette(void) </span><br><span class="line">&#123; </span><br><span class="line"> static unsigned char table_rgb[16 * 3] = &#123; </span><br><span class="line"> ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line"> &#125;; </span><br><span class="line"> unsigned char table2[216 * 3]; </span><br><span class="line"> int r, g, b; </span><br><span class="line"> set_palette(0, 15, table_rgb); </span><br><span class="line"> for (b = 0; b &lt; 6; b++) &#123; </span><br><span class="line"> for (g = 0; g &lt; 6; g++) &#123; </span><br><span class="line"> for (r = 0; r &lt; 6; r++) &#123; </span><br><span class="line"> table2[(r + g * 6 + b * 36) * 3 + 0] = r * 51; </span><br><span class="line"> table2[(r + g * 6 + b * 36) * 3 + 1] = g * 51; </span><br><span class="line"> table2[(r + g * 6 + b * 36) * 3 + 2] = b * 51; </span><br><span class="line"> &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> set_palette(16, 231, table2); </span><br><span class="line"> return; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="3-å¢åŠ æ›´å¤šçš„é¢œè‰²-2"><a href="#3-å¢åŠ æ›´å¤šçš„é¢œè‰²-2" class="headerlink" title="3.å¢åŠ æ›´å¤šçš„é¢œè‰²(2)"></a>3.å¢åŠ æ›´å¤šçš„é¢œè‰²(2)</h2><p>æˆ‘ä»¬å¯ä»¥ç”¨ä¸¤ç§é¢œè‰²äº¤æ›¿æ’åˆ—ï¼Œçœ‹ä¸Šå»å°±åƒè¿™ä¸¤ç§é¢œè‰²æ··åˆåœ¨ä¸€èµ·ä¸€æ ·ï¼Œè¿™å°±æ˜¯è¦ç‚¹ã€‚é¢œè‰²çš„æ··åˆæ–¹å¼æˆ‘ä»¬è€ƒè™‘äº†ä¸‹é¢3ç§ï¼ˆç®—ä¸Šå®Œå…¨ä¸æ··åˆçš„æƒ…å†µï¼Œä¸€å…±æœ‰5ç§ï¼‰ã€‚<br><img src="https://s2.ax1x.com/2019/04/28/El968s.jpg" alt="25.1"></p>
<h2 id="4-çª—å£åˆå§‹ä½ç½®"><a href="#4-çª—å£åˆå§‹ä½ç½®" class="headerlink" title="4. çª—å£åˆå§‹ä½ç½®"></a>4. çª—å£åˆå§‹ä½ç½®</h2><p>å› æ­¤æˆ‘ä»¬å¸Œæœ›è®©çª—å£æ€»æ˜¯æ˜¾ç¤ºåœ¨ç”»é¢çš„ä¸­å¤®ï¼Œè€Œä¸”æ˜¾ç¤ºçª—å£æ—¶çš„å›¾å±‚é«˜åº¦ä¹Ÿä¸èƒ½æ€»æ˜¯å›ºå®šä¸º3ï¼Œè€Œæ˜¯è¦åˆ¤æ–­å½“å‰ç”»é¢ä¸­çª—å£çš„æ•°é‡å¹¶è‡ªåŠ¨æ˜¾ç¤ºåœ¨æœ€ä¸Šé¢ã€‚</p>
<h2 id="5-å¢åŠ å‘½ä»¤è¡Œçª—å£-1"><a href="#5-å¢åŠ å‘½ä»¤è¡Œçª—å£-1" class="headerlink" title="5. å¢åŠ å‘½ä»¤è¡Œçª—å£(1)"></a>5. å¢åŠ å‘½ä»¤è¡Œçª—å£(1)</h2><p>äºæ˜¯ï¼Œæˆ‘ä»¬è¿™æ¬¡åªä¿®æ”¹bootpack.cï¼Œå°†å‘½ä»¤è¡Œçª—å£çš„ç›¸å…³å˜é‡ï¼ˆbuf_consã€sht_consã€task_conså’Œconsï¼‰å„å‡†å¤‡2ä¸ªï¼Œåˆ†åˆ«åˆ†ç»™å‘½ä»¤è¡Œ1å’Œå‘½ä»¤è¡Œ2ã€‚</p>
<h2 id="6-å¢åŠ å‘½ä»¤è¡Œçª—å£-2"><a href="#6-å¢åŠ å‘½ä»¤è¡Œçª—å£-2" class="headerlink" title="6.å¢åŠ å‘½ä»¤è¡Œçª—å£(2)"></a>6.å¢åŠ å‘½ä»¤è¡Œçª—å£(2)</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">struct CONSOLE *cons = (struct CONSOLE *) *((int *) 0x0fec);</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„conså˜é‡æ˜¯ç”¨æ¥åˆ¤æ–­â€œè¦å‘å“ªä¸ªå‘½ä»¤è¡Œçª—å£è¾“å‡ºå­—ç¬¦â€çš„å…³é”®ã€‚è¯¥å˜é‡çš„å€¼æ˜¯ä»å†…å­˜åœ°å€0x0fecè¯»å–å‡ºæ¥çš„ï¼Œè€Œæ— è®ºä»å“ªä¸ªä»»åŠ¡è¯»å–è¿™ä¸ªå†…å­˜åœ°å€ä¸­çš„å€¼ï¼Œå¾—åˆ°çš„è‚¯å®šéƒ½æ˜¯åŒä¸€ä¸ªå€¼ï¼Œå› æ­¤ä¸ç®¡åœ¨å“ªä¸ªçª—å£ä¸­è¿è¡Œa.hrbï¼Œéƒ½åªèƒ½åœ¨å›ºå®šçš„å…¶ä¸­ä¸€ä¸ªçª—å£ä¸­æ˜¾ç¤ºå­—ç¬¦ã€‚</p>
<h2 id="7-å¢åŠ å‘½ä»¤è¡Œçª—å£-3"><a href="#7-å¢åŠ å‘½ä»¤è¡Œçª—å£-3" class="headerlink" title="7. å¢åŠ å‘½ä»¤è¡Œçª—å£(3)"></a>7. å¢åŠ å‘½ä»¤è¡Œçª—å£(3)</h2><p>é—®é¢˜å‡ºåœ¨cmd_appèº«ä¸Š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">set_segmdesc(gdt + 1003, finfo-&gt;size - 1, (int) p, AR_CODE32_ER + 0x60); </span><br><span class="line"> set_segmdesc(gdt + 1004, segsiz - 1, (int) q, AR_DATA32_RW + 0x60); </span><br><span class="line"> ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line"> start_app(0x1b, 1003 * 8, esp, 1004 * 8, &amp;(task-&gt;tss.esp0));</span><br><span class="line"> </span><br></pre></td></tr></table></figure></p>
<p>é¦–å…ˆï¼Œcolor.hrbåœ¨æŸä¸ªçª—å£ä¸­è¢«è¿è¡Œï¼Œå¯åŠ¨ç¨‹åºä¸€åˆ‡é¡ºåˆ©ï¼Œç„¶åæ˜¾ç¤ºçª—å£å¹¶ç»˜å›¾ï¼Œæ¥ä¸‹æ¥ç­‰å¾…é”®ç›˜è¾“å…¥å¹¶è¿›å…¥ä¼‘çœ çŠ¶æ€ã€‚åˆ°è¿™é‡Œä¸ºæ­¢æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚<br>ç„¶åæˆ‘ä»¬åœ¨å¦å¤–ä¸€ä¸ªçª—å£ä¸­è¿è¡Œcolor.hrbï¼Œç¨‹åºä¹Ÿé¡ºåˆ©å¯åŠ¨äº†ï¼Œæ˜¾ç¤ºçª—å£å¹¶ç»˜å›¾ï¼Œéšåè¿›å…¥ä¼‘çœ çŠ¶æ€ã€‚ç„¶è€Œåœ¨è¿™ä¸ªæ—¶å€™ï¼Œé—®é¢˜å…¶å®å·²ç»å‘ç”Ÿäº†ã€‚è¿™æ˜¯æ€ä¹ˆå›äº‹å‘¢ï¼Ÿå› ä¸ºæˆ‘ä»¬ä¸ºcolor.hrbå‡†å¤‡çš„1003å·ä»£ç æ®µå’Œ1004å·æ•°æ®æ®µï¼Œè¢«color2.hrbæ‰€ç”¨çš„æ®µç»™è¦†ç›–æ‰äº†ã€‚<br>å› æ­¤ï¼Œå½“æŒ‰ä¸‹å›è½¦é”®å”¤é†’color.hrbæ—¶ï¼Œå°±ä¼šå‘ç”Ÿå¼‚å¸¸æƒ…å†µâ€”â€”æ˜æ˜åº”è¯¥å»è¿è¡Œcolor.hrbçš„ï¼Œç»“æœå´é”™è¯¯åœ°è¿è¡Œäº†color2.hrbï¼Œè¿™æ ·å½“ç„¶ä¼šå‡ºé”™äº†ã€‚</p>
<h2 id="8-å¢åŠ å‘½ä»¤è¡Œçª—å£-4"><a href="#8-å¢åŠ å‘½ä»¤è¡Œçª—å£-4" class="headerlink" title="8.å¢åŠ å‘½ä»¤è¡Œçª—å£(4)"></a>8.å¢åŠ å‘½ä»¤è¡Œçª—å£(4)</h2><p>è¿™æ¬¡çš„ä¿®æ”¹ä¹Ÿå¾ˆç®€å•ï¼Œé¦–å…ˆå°†åŸæ¥task_cons[0]çš„åœ°æ–¹æ”¹ä¸ºkey_winï€­ï€¾taskå’Œshtï€­ï€¾taskï¼Œè¿™æ ·ä¸€æ¥ï¼Œç”¨é”®ç›˜å¼ºåˆ¶ç»“æŸæ—¶ä¼šä»¥å½“å‰è¾“å…¥çª—å£ä¸ºå¯¹è±¡ï¼Œè€Œç”¨é¼ æ ‡ç‚¹å‡»â€œÃ—â€æŒ‰é’®æ—¶ä¼šä»¥è¢«ç‚¹å‡»çš„çª—å£ä¸ºå¯¹è±¡ã€‚</p>
<h2 id="9-å˜å¾—æ›´åƒçœŸæ­£çš„æ“ä½œç³»ç»Ÿ-1"><a href="#9-å˜å¾—æ›´åƒçœŸæ­£çš„æ“ä½œç³»ç»Ÿ-1" class="headerlink" title="9.å˜å¾—æ›´åƒçœŸæ­£çš„æ“ä½œç³»ç»Ÿ(1)"></a>9.å˜å¾—æ›´åƒçœŸæ­£çš„æ“ä½œç³»ç»Ÿ(1)</h2><h2 id="10-å˜å¾—æ›´åƒçœŸæ­£çš„æ“ä½œç³»ç»Ÿ-2"><a href="#10-å˜å¾—æ›´åƒçœŸæ­£çš„æ“ä½œç³»ç»Ÿ-2" class="headerlink" title="10.å˜å¾—æ›´åƒçœŸæ­£çš„æ“ä½œç³»ç»Ÿ(2)"></a>10.å˜å¾—æ›´åƒçœŸæ­£çš„æ“ä½œç³»ç»Ÿ(2)</h2><p>è¿™æ ·è‚¯å®šä¸è¡Œï¼Œå› ä¸ºå‘½ä»¤è¡Œçª—å£ä»»åŠ¡çš„ä¼˜å…ˆçº§æ¯”è¾ƒä½ï¼Œåªæœ‰å½“bootpack.cçš„HariMainä¼‘çœ ä¹‹åæ‰ä¼šè¿è¡Œå‘½ä»¤è¡Œçª—å£ä»»åŠ¡ï¼Œè€Œå¦‚æœä¸è¿è¡Œè¿™ä¸ªä»»åŠ¡çš„è¯ï¼ŒFIFOç¼“å†²åŒºå°±ä¸ä¼šè¢«åˆå§‹åŒ–ï¼Œè¿™å°±ç›¸å½“äºæˆ‘ä»¬åœ¨å‘ä¸€ä¸ªè¿˜æ²¡åˆå§‹åŒ–çš„FIFOå¼ºè¡Œå‘é€æ•°æ®ï¼Œäºæ˜¯é€ æˆfifo32_putæ··ä¹±è€Œå¯¼è‡´é‡å¯ã€‚</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ24ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8824%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY24-çª—å£æ“ä½œ"><a href="#DAY24-çª—å£æ“ä½œ" class="headerlink" title="DAY24_çª—å£æ“ä½œ"></a>DAY24_çª—å£æ“ä½œ</h1><h2 id="1-çª—å£åˆ‡æ¢-1"><a href="#1-çª—å£åˆ‡æ¢-1" class="headerlink" title="1.çª—å£åˆ‡æ¢(1)"></a>1.çª—å£åˆ‡æ¢(1)</h2><ul>
<li>ç›®æ ‡ï¼šå®ç°åˆ‡æ¢çª—å£é¡ºåºå¾—åŠŸèƒ½ã€‚</li>
<li>å…ˆå®ç°æŒ‰ä¸‹F11æ—¶ï¼Œå°†æœ€ä¸‹é¢å¾—é‚£ä¸ªçª—å£æ”¾åˆ°æœ€ä¸Šé¢ã€‚</li>
</ul>
<span id="more"></span>
<hr>
<p>ä¿®æ”¹bootpack.c<br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (i == <span class="number">256</span> + <span class="number">0x57</span> &amp;&amp; shtctl-&gt;top &gt; <span class="number">2</span>) &#123; <span class="comment">/* F11 */</span> </span><br><span class="line">    sheet_updown(shtctl-&gt;sheets[<span class="number">1</span>], shtctl-&gt;top - <span class="number">1</span>); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="2-çª—å£åˆ‡æ¢-2"><a href="#2-çª—å£åˆ‡æ¢-2" class="headerlink" title="2. çª—å£åˆ‡æ¢(2)"></a>2. çª—å£åˆ‡æ¢(2)</h2><p>æˆ‘ä»¬éœ€è¦æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹å¾—é¡ºåºï¼Œåˆ¤æ–­é¼ æ ‡å¾—ä½ç½®è½åœ¨å“ªä¸ªå›¾å±‚å¾—èŒƒå›´å†…ï¼Œå¹¶ä¸”è¿˜éœ€è¦ç¡®ä¿è¯¥ä½ç½®ä¸æ˜¯é€æ˜è‰²åŒºåŸŸã€‚<br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (j = shtctl-&gt;top - <span class="number">1</span>; j &gt; <span class="number">0</span>; j--) &#123; </span><br><span class="line">     sht = shtctl-&gt;sheets[j]; </span><br><span class="line">     x = mx - sht-&gt;vx0; </span><br><span class="line">     y = my - sht-&gt;vy0; </span><br><span class="line">     <span class="keyword">if</span> (<span class="number">0</span> &lt;= x &amp;&amp; x &lt; sht-&gt;bxsize &amp;&amp; <span class="number">0</span> &lt;= y &amp;&amp; y &lt; sht-&gt;bysize) &#123; </span><br><span class="line">         <span class="keyword">if</span> (sht-&gt;buf[y * sht-&gt;bxsize + x] != sht-&gt;col_inv) &#123; </span><br><span class="line">             sheet_updown(sht, shtctl-&gt;top - <span class="number">1</span>); </span><br><span class="line">             <span class="keyword">break</span>; </span><br><span class="line">         &#125; </span><br><span class="line">     &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="3-ç§»åŠ¨çª—å£"><a href="#3-ç§»åŠ¨çª—å£" class="headerlink" title="3.ç§»åŠ¨çª—å£"></a>3.ç§»åŠ¨çª—å£</h2><p>å½“é¼ æ ‡å·¦é”®ç‚¹å‡»çª—å£æ—¶ï¼Œå¦‚æœç‚¹å‡»ä½ç½®ä½äºçª—å£çš„æ ‡é¢˜æ åŒºåŸŸï¼Œåˆ™è¿›å…¥â€œçª—å£ç§»åŠ¨æ¨¡å¼â€ï¼Œä½¿çª—å£çš„ä½ç½®è¿½éšé¼ æ ‡æŒ‡é’ˆçš„ç§»åŠ¨ï¼Œå½“æ”¾å¼€é¼ æ ‡å·¦é”®æ—¶ï¼Œé€€å‡ºâ€œçª—å£ç§»åŠ¨æ¨¡å¼â€ï¼Œè¿”å›é€šå¸¸æ¨¡å¼ã€‚<br><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (mmx &lt; <span class="number">0</span>) &#123; </span><br><span class="line">     <span class="comment">/*å¦‚æœå¤„äºé€šå¸¸æ¨¡å¼*/</span> </span><br><span class="line">     <span class="comment">/*æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºå¯»æ‰¾é¼ æ ‡æ‰€æŒ‡å‘çš„å›¾å±‚*/</span> </span><br><span class="line">     <span class="keyword">for</span> (j = shtctl-&gt;top - <span class="number">1</span>; j &gt; <span class="number">0</span>; j--) &#123; </span><br><span class="line">         sht = shtctl-&gt;sheets[j]; </span><br><span class="line">         x = mx - sht-&gt;vx0; </span><br><span class="line">         y = my - sht-&gt;vy0; </span><br><span class="line">         <span class="keyword">if</span> (<span class="number">0</span> &lt;= x &amp;&amp; x &lt; sht-&gt;bxsize &amp;&amp; <span class="number">0</span> &lt;= y &amp;&amp; y &lt; sht-&gt;bysize) &#123; </span><br><span class="line">            <span class="keyword">if</span> (sht-&gt;buf[y * sht-&gt;bxsize + x] != sht-&gt;col_inv) &#123; </span><br><span class="line">                sheet_updown(sht, shtctl-&gt;top - <span class="number">1</span>); </span><br><span class="line">                <span class="keyword">if</span> (<span class="number">3</span> &lt;= x &amp;&amp; x &lt; sht-&gt;bxsize - <span class="number">3</span> &amp;&amp; <span class="number">3</span> &lt;= y &amp;&amp; y &lt; <span class="number">21</span>) &#123; </span><br><span class="line">                    mmx = mx; <span class="comment">/*è¿›å…¥çª—å£ç§»åŠ¨æ¨¡å¼*/</span> </span><br><span class="line">                    mmy = my; </span><br><span class="line">                &#125; </span><br><span class="line">            <span class="keyword">break</span>; </span><br><span class="line">            &#125; </span><br><span class="line">        &#125; </span><br><span class="line">    &#125; </span><br><span class="line">    </span><br><span class="line">&#125; <span class="keyword">else</span> &#123; </span><br><span class="line">     <span class="comment">/*å¦‚æœå¤„äºçª—å£ç§»åŠ¨æ¨¡å¼*/</span> </span><br><span class="line">     x = mx - mmx; <span class="comment">/*è®¡ç®—é¼ æ ‡çš„ç§»åŠ¨è·ç¦»*/</span> </span><br><span class="line">     y = my - mmy; </span><br><span class="line">     sheet_slide(sht, sht-&gt;vx0 + x, sht-&gt;vy0 + y); </span><br><span class="line">     mmx = mx; <span class="comment">/*æ›´æ–°ä¸ºç§»åŠ¨åçš„åæ ‡*/</span> </span><br><span class="line">     mmy = my; </span><br><span class="line">     &#125; </span><br><span class="line">     &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">     <span class="comment">/*æ²¡æœ‰æŒ‰ä¸‹å·¦é”®*/</span> </span><br><span class="line">    mmx = <span class="number">-1</span>; <span class="comment">/*è¿”å›é€šå¸¸æ¨¡å¼*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="4-ç”¨é¼ æ ‡å…³é—­çª—å£"><a href="#4-ç”¨é¼ æ ‡å…³é—­çª—å£" class="headerlink" title="4.ç”¨é¼ æ ‡å…³é—­çª—å£"></a>4.ç”¨é¼ æ ‡å…³é—­çª—å£</h2><h2 id="5-å°†è¾“å…¥åˆ‡æ¢åˆ°åº”ç”¨ç¨‹åºçª—å£"><a href="#5-å°†è¾“å…¥åˆ‡æ¢åˆ°åº”ç”¨ç¨‹åºçª—å£" class="headerlink" title="5.å°†è¾“å…¥åˆ‡æ¢åˆ°åº”ç”¨ç¨‹åºçª—å£"></a>5.å°†è¾“å…¥åˆ‡æ¢åˆ°åº”ç”¨ç¨‹åºçª—å£</h2><p>æŒ‰ä¸‹Tabé”®æ—¶å°†é”®ç›˜è¾“å…¥åˆ‡æ¢åˆ°å½“å‰è¾“å…¥çª—å£ä¸‹é¢ä¸€å±‚çš„çª—å£ä¸­ï¼Œè‹¥å½“å‰çª—å£ä¸ºæœ€ä¸‹å±‚ï¼Œåˆ™åˆ‡æ¢åˆ°æœ€ä¸Šå±‚çª—å£ã€‚</p>
<hr>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (key_win == sht_win) &#123; <span class="comment">/*å‘é€è‡³ä»»åŠ¡A */</span> </span><br><span class="line"> <span class="keyword">if</span> (cursor_x &lt; <span class="number">128</span>) &#123; </span><br><span class="line"> <span class="comment">/*æ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦å¹¶å°†å…‰æ ‡åç§»ä¸€ä½*/</span> </span><br><span class="line"> s[<span class="number">1</span>] = <span class="number">0</span>; </span><br><span class="line">putfonts8_asc_sht(sht_win, cursor_x, <span class="number">28</span>, COL8_000000, COL8_FFFFFF, s, <span class="number">1</span>); </span><br><span class="line"> cursor_x += <span class="number">8</span>;</span><br><span class="line"> &#125; </span><br><span class="line"> &#125; <span class="keyword">else</span> &#123; <span class="comment">/*å‘é€è‡³å‘½ä»¤è¡Œçª—å£*/</span> </span><br><span class="line"> fifo32_put(&amp;key_win-&gt;task-&gt;fifo, s[<span class="number">0</span>] + <span class="number">256</span>); </span><br><span class="line"> &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="keyword">if</span> (i == <span class="number">256</span> + <span class="number">0x0e</span>) &#123; <span class="comment">/*é€€æ ¼é”®*/</span> </span><br><span class="line"> <span class="keyword">if</span> (key_win == sht_win) &#123; <span class="comment">/*å‘é€è‡³ä»»åŠ¡A */</span> </span><br><span class="line"> <span class="keyword">if</span> (cursor_x &gt; <span class="number">8</span>) &#123; </span><br><span class="line"> <span class="comment">/*ç”¨ç©ºæ ¼æ“¦é™¤å…‰æ ‡åå°†å…‰æ ‡å‰ç§»ä¸€ä½*/</span> </span><br><span class="line"> putfonts8_asc_sht(sht_win, cursor_x, <span class="number">28</span>, COL8_000000, COL8_FFFFFF, <span class="string">&quot; </span></span><br><span class="line"><span class="string"> &quot;</span>, <span class="number">1</span>); </span><br><span class="line"> cursor_x -= <span class="number">8</span>; </span><br><span class="line"> &#125; </span><br><span class="line"> &#125; <span class="keyword">else</span> &#123; <span class="comment">/*å‘é€è‡³å‘½ä»¤è¡Œçª—å£*/</span> </span><br><span class="line"> fifo32_put(&amp;key_win-&gt;task-&gt;fifo, <span class="number">8</span> + <span class="number">256</span>); </span><br><span class="line"> &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="keyword">if</span> (i == <span class="number">256</span> + <span class="number">0x1c</span>) &#123; <span class="comment">/*å›è½¦é”®*/</span> </span><br><span class="line"> <span class="keyword">if</span> (key_win != sht_win) &#123; <span class="comment">/*å‘é€è‡³å‘½ä»¤è¡Œçª—å£*/</span> </span><br><span class="line"> fifo32_put(&amp;key_win-&gt;task-&gt;fifo, <span class="number">10</span> + <span class="number">256</span>); </span><br><span class="line"> &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="keyword">if</span> (i == <span class="number">256</span> + <span class="number">0x0f</span>) &#123; <span class="comment">/* Tabé”®*/</span> </span><br><span class="line"> cursor_c = keywin_off(key_win, sht_win, cursor_c, cursor_x); </span><br><span class="line"> j = key_win-&gt;height - <span class="number">1</span>; </span><br><span class="line"> <span class="keyword">if</span> (j == <span class="number">0</span>) &#123; </span><br><span class="line"> j = shtctl-&gt;top - <span class="number">1</span>; </span><br><span class="line"> &#125; </span><br><span class="line"> key_win = shtctl-&gt;sheets[j]; </span><br><span class="line"><span class="comment">/*åˆ°æ­¤ç»“æŸ*/</span> cursor_c = keywin_on(key_win, sht_win, cursor_c); </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="6-ç”¨é¼ æ ‡åˆ‡æ¢è¾“å…¥çª—å£"><a href="#6-ç”¨é¼ æ ‡åˆ‡æ¢è¾“å…¥çª—å£" class="headerlink" title="6.ç”¨é¼ æ ‡åˆ‡æ¢è¾“å…¥çª—å£"></a>6.ç”¨é¼ æ ‡åˆ‡æ¢è¾“å…¥çª—å£</h2><p>ç›®æ ‡ï¼šè®©æ“ä½œç³»ç»Ÿå¯ä»¥é€šè¿‡ç®€å•çš„ç‚¹å‡»å°±èƒ½å®Œæˆè¾“å…¥åˆ‡æ¢ã€‚  </p>
<h2 id="7-å®šæ—¶å™¨API"><a href="#7-å®šæ—¶å™¨API" class="headerlink" title="7.å®šæ—¶å™¨API"></a>7.å®šæ—¶å™¨API</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">è·å–å®šæ—¶å™¨ï¼ˆallocï¼‰</span><br><span class="line">EDX=16 </span><br><span class="line">EAX=å®šæ—¶å™¨å¥æŸ„ï¼ˆç”±æ“ä½œç³»ç»Ÿè¿”å›ï¼‰</span><br><span class="line"></span><br><span class="line">è®¾ç½®å®šæ—¶å™¨çš„å‘é€æ•°æ®ï¼ˆinitï¼‰</span><br><span class="line">EDX=17 </span><br><span class="line">EBX=å®šæ—¶å™¨å¥æŸ„</span><br><span class="line">EAX=æ•°æ®</span><br><span class="line"></span><br><span class="line">å®šæ—¶å™¨æ—¶é—´è®¾å®šï¼ˆsetï¼‰</span><br><span class="line">EDX=18 </span><br><span class="line">EBX=å®šæ—¶å™¨å¥æŸ„</span><br><span class="line">EAX=æ—¶é—´</span><br><span class="line"></span><br><span class="line">é‡Šæ”¾å®šæ—¶å™¨ï¼ˆfreeï¼‰</span><br><span class="line">EDX=19 </span><br><span class="line">EBX=å®šæ—¶å™¨å¥æŸ„</span><br></pre></td></tr></table></figure>
<h2 id="8-å–æ¶ˆå®šæ—¶å™¨"><a href="#8-å–æ¶ˆå®šæ—¶å™¨" class="headerlink" title="8.å–æ¶ˆå®šæ—¶å™¨"></a>8.å–æ¶ˆå®šæ—¶å™¨</h2><p>é—®é¢˜ï¼š<br>åº”ç”¨ç¨‹åºè®¾ç½®äº†ä¸€ä¸ª1ç§’çš„å®šæ—¶å™¨ï¼Œå½“å®šæ—¶å™¨åˆ°è¾¾æŒ‡å®šæ—¶é—´æ—¶ä¼šäº§ç”Ÿè¶…æ—¶ï¼Œå¹¶å‘ä»»åŠ¡å‘é€äº‹å…ˆè®¾ç½®çš„æ•°æ®ã€‚é—®é¢˜æ˜¯ï¼Œå¦‚æœè¿™æ—¶åº”ç”¨ç¨‹åºå·²ç»ç»“æŸäº†ï¼Œå®šæ—¶å™¨çš„æ•°æ®å°±ä¼šè¢«å‘é€åˆ°å‘½ä»¤è¡Œçª—å£ï¼Œè€Œå‘½ä»¤è¡Œçª—å£è‚¯å®šæ˜¯ä¸€å¤´é›¾æ°´ã€‚</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>ã€Œè¿ç§»å­¦ä¹ ç®€æ˜æ‰‹å†Œã€å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰</title>
    <url>/201908/%E3%80%8C%E8%BF%81%E7%A7%BB%E5%AD%A6%E4%B9%A0%E7%AE%80%E6%98%8E%E6%89%8B%E5%86%8C%E3%80%8D%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%EF%BC%881%EF%BC%89/</url>
    <content><![CDATA[<h1 id="1-è¿ç§»å­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µ"><a href="#1-è¿ç§»å­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1.è¿ç§»å­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µ"></a>1.è¿ç§»å­¦ä¹ çš„åŸºæœ¬æ¦‚å¿µ</h1><h2 id="1-2-è¿ç§»å­¦ä¹ åŸºæœ¬æ¦‚å¿µ"><a href="#1-2-è¿ç§»å­¦ä¹ åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="1.2 è¿ç§»å­¦ä¹ åŸºæœ¬æ¦‚å¿µ"></a>1.2 è¿ç§»å­¦ä¹ åŸºæœ¬æ¦‚å¿µ</h2><ul>
<li>æ ¸å¿ƒé—®é¢˜ï¼šæ‰¾åˆ°æ–°é—®é¢˜å’ŒåŸé—®é¢˜ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œæ‰å¯ä»¥é¡ºåˆ©åœ°å®ç°çŸ¥è¯†çš„è¿ç§»ã€‚</li>
<li>å®šä¹‰ï¼šè¿ç§»å­¦ä¹ ï¼Œæ˜¯æŒ‡åˆ©ç”¨æ•°æ®ã€ä»»åŠ¡ã€æˆ–æ¨¡å‹ä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œå°†åœ¨æ—§é¢†åŸŸå­¦ä¹ è¿‡çš„æ¨¡å‹ï¼Œåº”ç”¨åœ¨æ–°é¢†åŸŸçš„ä¸€ç§å­¦ä¹ è¿‡ç¨‹ã€‚</li>
</ul>
<h2 id="1-3-ä¸ºä»€ä¹ˆè¦è¿ç§»å­¦ä¹ "><a href="#1-3-ä¸ºä»€ä¹ˆè¦è¿ç§»å­¦ä¹ " class="headerlink" title="1.3 ä¸ºä»€ä¹ˆè¦è¿ç§»å­¦ä¹ "></a>1.3 ä¸ºä»€ä¹ˆè¦è¿ç§»å­¦ä¹ </h2><p>è¿™ä¸ªè¡¨æ ¼åŒ…æ‹¬äº†1.3çš„æ‰€æœ‰å†…å®¹ï¼Œå¯ä»¥åªçœ‹è¿™ä¸ªè¡¨æ ¼ï¼š</p>
<p><img src="https://s2.ax1x.com/2019/04/24/EVv4IS.jpg" alt="1.3"></p>
<span id="more"></span>
<ul>
<li>1.å¤§æ•°æ®ä¸å°‘æ ‡æ³¨ä¹‹é—´çš„çŸ›ç›¾</li>
<li>2.å¤§æ•°æ®ä¸å¼±è®¡ç®—ä¹‹é—´çš„çŸ›ç›¾</li>
<li>3.æ™®é€‚åŒ–æ¨¡å‹ä¸ä¸ªæ€§åŒ–éœ€æ±‚ä¹‹é—´çš„çŸ›ç›¾<br>æœºå™¨å­¦ä¹ çš„ç›®æ ‡æ˜¯æ„å»ºä¸€ä¸ªå°½å¯èƒ½é€šç”¨çš„æ¨¡å‹ï¼Œè€Œäººä»¬çš„ä¸ªæ€§åŒ–éœ€æ±‚äº”èŠ±å…«é—¨ï¼ŒçŸ­æœŸå†…æ ¹æœ¬æ— æ³•ç”¨ä¸€ä¸ªé€šç”¨çš„æ¨¡å‹å»æ»¡è¶³ã€‚</li>
<li>4.ç‰¹å®šåº”ç”¨çš„éœ€æ±‚<br>æ¨èç³»ç»Ÿçš„å†·å¯åŠ¨é—®é¢˜ï¼šä¸€ä¸ªæ–°çš„æ¨èç³»ç»Ÿï¼Œæ²¡æœ‰è¶³å¤Ÿçš„ç”¨æˆ·æ•°æ®ï¼Œå¦‚ä½•è¿›è¡Œç²¾å‡†çš„æ¨èï¼›ä¸€ä¸ªå´­æ–°çš„å›¾ç‰‡æ ‡æ³¨ç³»ç»Ÿï¼Œæ²¡æœ‰è¶³å¤Ÿçš„æ ‡ç­¾ï¼Œå¦‚ä½•è¿›è¡Œç²¾å‡†çš„æœåŠ¡ï¼Ÿ</li>
</ul>
<p><strong>é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œè¿ç§»å­¦ä¹ æ˜¯å¦‚ä½•è§£å†³çš„å‘¢ï¼Ÿ</strong></p>
<ul>
<li>1.è¿ç§»æ•°æ®æ ‡æ³¨</li>
<li>2.æ¨¡å‹è¿ç§»ï¼ˆå°†é‚£äº›å¤§å…¬å¸åœ¨å¤§æ•°æ®ä¸Šè®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œè¿ç§»åˆ°æˆ‘ä»¬çš„ä»»åŠ¡ä¸­ï¼‰</li>
<li>3.è‡ªé€‚åº”å­¦ä¹ ï¼ˆå¯¹æ™®é€‚åŒ–æ¨¡å‹è¿›è¡Œçµæ´»çš„è°ƒæ•´ï¼Œä»¥ä¾¿å®Œæˆæˆ‘ä»¬çš„ä»»åŠ¡ï¼‰</li>
<li>4.ç›¸ä¼¼é¢†åŸŸçŸ¥è¯†è¿ç§»</li>
</ul>
<h2 id="1-4-ä¸å·²æœ‰æ¦‚å¿µçš„åŒºåˆ«å’Œè”ç³»"><a href="#1-4-ä¸å·²æœ‰æ¦‚å¿µçš„åŒºåˆ«å’Œè”ç³»" class="headerlink" title="1.4 ä¸å·²æœ‰æ¦‚å¿µçš„åŒºåˆ«å’Œè”ç³»"></a>1.4 ä¸å·²æœ‰æ¦‚å¿µçš„åŒºåˆ«å’Œè”ç³»</h2><h3 id="1-è¿ç§»å­¦ä¹ å’Œæœºå™¨å­¦ä¹ "><a href="#1-è¿ç§»å­¦ä¹ å’Œæœºå™¨å­¦ä¹ " class="headerlink" title="1.è¿ç§»å­¦ä¹ å’Œæœºå™¨å­¦ä¹ "></a>1.è¿ç§»å­¦ä¹ å’Œæœºå™¨å­¦ä¹ </h3><p>è¿ç§»å­¦ä¹ å±äºæœºå™¨å­¦ä¹ çš„ä¸€ç±»<br><img src="https://s2.ax1x.com/2019/04/24/EVxMQA.jpg" alt="2"></p>
<h3 id="2-è¿ç§»å­¦ä¹ å’Œå¤šä»»åŠ¡å­¦ä¹ "><a href="#2-è¿ç§»å­¦ä¹ å’Œå¤šä»»åŠ¡å­¦ä¹ " class="headerlink" title="2.è¿ç§»å­¦ä¹ å’Œå¤šä»»åŠ¡å­¦ä¹ "></a>2.è¿ç§»å­¦ä¹ å’Œå¤šä»»åŠ¡å­¦ä¹ </h3><p>å¤šä»»åŠ¡å­¦ä¹ æŒ‡å¤šä¸ªç›¸å…³çš„ä»»åŠ¡ä¸€èµ·ååŒå­¦ä¹ ã€‚</p>
<h3 id="3-è¿ç§»å­¦ä¹ å’Œç»ˆèº«å­¦ä¹ "><a href="#3-è¿ç§»å­¦ä¹ å’Œç»ˆèº«å­¦ä¹ " class="headerlink" title="3.è¿ç§»å­¦ä¹ å’Œç»ˆèº«å­¦ä¹ "></a>3.è¿ç§»å­¦ä¹ å’Œç»ˆèº«å­¦ä¹ </h3><p>ç»ˆèº«å­¦ä¹ æ˜¯åœ¨å·²ç»å­¦ä¹ å¥½è‹¥å¹²ä¸ªä»»åŠ¡ä¹‹åï¼Œé¢å¯¹æ–°çš„ä»»åŠ¡å¯ä»¥ç»§ç»­å­¦ä¹ è€Œä¸é—å¿˜ä¹‹å‰å­¦ä¹ çš„ä»»åŠ¡ã€‚</p>
<h3 id="4-è¿ç§»å­¦ä¹ å’Œé¢†åŸŸè‡ªé€‚åº”"><a href="#4-è¿ç§»å­¦ä¹ å’Œé¢†åŸŸè‡ªé€‚åº”" class="headerlink" title="4.è¿ç§»å­¦ä¹ å’Œé¢†åŸŸè‡ªé€‚åº”"></a>4.è¿ç§»å­¦ä¹ å’Œé¢†åŸŸè‡ªé€‚åº”</h3><h3 id="5-è¿ç§»å­¦ä¹ å’Œå¢é‡å­¦ä¹ "><a href="#5-è¿ç§»å­¦ä¹ å’Œå¢é‡å­¦ä¹ " class="headerlink" title="5.è¿ç§»å­¦ä¹ å’Œå¢é‡å­¦ä¹ "></a>5.è¿ç§»å­¦ä¹ å’Œå¢é‡å­¦ä¹ </h3><p>å¢é‡å­¦ä¹ ä¾§é‡è§£å†³æ•°æ®ä¸æ–­åˆ°æ¥ï¼Œæ¨¡å‹ä¸æ–­æ›´æ–°çš„é—®é¢˜ã€‚</p>
<h3 id="6-è¿ç§»å­¦ä¹ å’Œè‡ªæˆ‘å­¦ä¹ "><a href="#6-è¿ç§»å­¦ä¹ å’Œè‡ªæˆ‘å­¦ä¹ " class="headerlink" title="6.è¿ç§»å­¦ä¹ å’Œè‡ªæˆ‘å­¦ä¹ "></a>6.è¿ç§»å­¦ä¹ å’Œè‡ªæˆ‘å­¦ä¹ </h3><p>è‡ªæˆ‘å­¦ä¹ æŒ‡çš„æ˜¯æ¨¡å‹ä¸æ–­åœ°ä»è‡ªèº«å¤„è¿›è¡Œæ›´æ–°</p>
<h3 id="7-è¿ç§»å­¦ä¹ å’Œåæ–¹å·®æ¼‚ç§»"><a href="#7-è¿ç§»å­¦ä¹ å’Œåæ–¹å·®æ¼‚ç§»" class="headerlink" title="7.è¿ç§»å­¦ä¹ å’Œåæ–¹å·®æ¼‚ç§»"></a>7.è¿ç§»å­¦ä¹ å’Œåæ–¹å·®æ¼‚ç§»</h3><p>åæ–¹å·®æ¼‚ç§»æŒ‡æ•°æ®åœ°è¾¹ç¼˜æ¦‚ç‡åˆ†å¸ƒå‘ç”Ÿå˜åŒ–</p>
<h2 id="1-5-è´Ÿè¿ç§»ï¼ˆâ€œä¸œæ–½æ•ˆé¢¦â€ï¼‰"><a href="#1-5-è´Ÿè¿ç§»ï¼ˆâ€œä¸œæ–½æ•ˆé¢¦â€ï¼‰" class="headerlink" title="1.5 è´Ÿè¿ç§»ï¼ˆâ€œä¸œæ–½æ•ˆé¢¦â€ï¼‰"></a>1.5 è´Ÿè¿ç§»ï¼ˆâ€œä¸œæ–½æ•ˆé¢¦â€ï¼‰</h2><p>å¦‚æœä¸¤ä¸ªé¢†åŸŸä¹‹é—´ä¸å­˜åœ¨ç›¸ä¼¼æ€§ï¼Œæˆ–è€…åŸºæœ¬ä¸ç›¸ä¼¼ï¼Œé‚£ä¹ˆå°±ä¼šå¤§å¤§æŸå®³è¿ç§»å­¦ä¹ åœ°æ•ˆæœã€‚è¿™æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è¯´å‡ºç°äº†==è´Ÿè¿ç§»(Negative Transfer)==  </p>
<ul>
<li>å®šä¹‰ï¼šåœ¨æºåŸŸä¸Šå­¦ä¹ åˆ°çš„çŸ¥è¯†ï¼Œå¯¹äºç›®æ ‡åŸŸä¸Šçš„å­¦ä¹ äº§ç”Ÿè´Ÿé¢ä½œç”¨ã€‚</li>
<li>äº§ç”Ÿè´Ÿè¿ç§»çš„åŸå› ï¼š<ul>
<li>æ•°æ®é—®é¢˜</li>
<li>æ–¹æ³•é—®é¢˜ï¼šæºåŸŸå’Œç›®æ ‡åŸŸæ˜¯ç›¸ä¼¼çš„ï¼Œä½†æ˜¯è¿ç§»å­¦ä¹ çš„æ–¹æ³•ä¸å¤Ÿå¥½ã€‚</li>
</ul>
</li>
<li>ä¼ é€’è¿ç§»å­¦ä¹ ï¼šä¼ ç»Ÿè¿ç§»å­¦ä¹ å¥½æ¯”æ˜¯è¸©ç€ä¸€å—çŸ³å¤´è¿‡æ²³ï¼Œä¼ é€’è¿ç§»å­¦ä¹ å°±æ˜¯è¸©ç€è¿ç»­çš„ä¸¤å—çŸ³å¤´ã€‚å½“ä¸¤ä¸ªé¢†åŸŸä¸ç›¸ä¼¼æ—¶ï¼Œä¼ é€’è¿ç§»å­¦ä¹ å´å¯ä»¥åˆ©ç”¨å¤„äºè¿™ä¸¤ä¸ªé¢†åŸŸä¹‹é—´çš„è‹¥å¹²é¢†åŸŸï¼Œå°†çŸ¥è¯†ä¼ é€’å¼çš„å®Œæˆè¿ç§»ã€‚</li>
</ul>
<h1 id="2-è¿ç§»å­¦ä¹ çš„ç ”ç©¶é¢†åŸŸ"><a href="#2-è¿ç§»å­¦ä¹ çš„ç ”ç©¶é¢†åŸŸ" class="headerlink" title="2.è¿ç§»å­¦ä¹ çš„ç ”ç©¶é¢†åŸŸ"></a>2.è¿ç§»å­¦ä¹ çš„ç ”ç©¶é¢†åŸŸ</h1><p>æœºå™¨å­¦ä¹ å¯åˆ†ä¸ºæœ‰ç›‘ç£ã€åŠç›‘ç£å’Œæ— ç›‘ç£çš„æœºå™¨å­¦ä¹ ä¸‰å¤§ç±»ã€‚è¿ç§»å­¦ä¹ ä¹Ÿå¯ä»¥è¿›è¡Œè¿™æ ·çš„åˆ†ç±»ã€‚<br><img src="https://s2.ax1x.com/2019/04/24/EZVW1P.jpg" alt="t8"></p>
<p>åˆ†ç±»çš„å››ä¸ªå‡†åˆ™ï¼šæŒ‰ç›®æ ‡åŸŸæœ‰æ— æ ‡ç­¾åˆ†ã€æŒ‰å­¦ä¹ æ–¹æ³•åˆ†ã€æŒ‰ç‰¹å¾åˆ†ã€æŒ‰åœ¨çº¿å½¢å¼åˆ†</p>
<h2 id="2-1-æŒ‰ç›®æ ‡åŸŸæ ‡ç­¾åˆ†"><a href="#2-1-æŒ‰ç›®æ ‡åŸŸæ ‡ç­¾åˆ†" class="headerlink" title="2.1 æŒ‰ç›®æ ‡åŸŸæ ‡ç­¾åˆ†"></a>2.1 æŒ‰ç›®æ ‡åŸŸæ ‡ç­¾åˆ†</h2><ul>
<li>1.ç›‘ç£è¿ç§»å­¦ä¹  Supervised Transfer Learning</li>
<li>2.åŠç›‘ç£è¿ç§»å­¦ä¹  Semi-Supervised Transfer Learning</li>
<li>3.æ— ç›‘ç£è¿ç§»å­¦ä¹  Unsupervised Transfer Learning  </li>
</ul>
<p>æ˜¾ç„¶ï¼Œå°‘æ ‡ç­¾æˆ–æ— æ ‡ç­¾çš„é—®é¢˜ï¼ˆåŠç›‘ç£å’Œæ— ç›‘ç£è¿ç§»å­¦ä¹ ï¼‰<br>ï¼Œæ˜¯ç ”ç©¶çš„çƒ­ç‚¹å’Œéš¾ç‚¹ã€‚</p>
<h2 id="2-2-æŒ‰å­¦ä¹ æ–¹æ³•åˆ†ç±»"><a href="#2-2-æŒ‰å­¦ä¹ æ–¹æ³•åˆ†ç±»" class="headerlink" title="2.2 æŒ‰å­¦ä¹ æ–¹æ³•åˆ†ç±»"></a>2.2 æŒ‰å­¦ä¹ æ–¹æ³•åˆ†ç±»</h2><ul>
<li>1.åŸºäºæ ·æœ¬çš„è¿ç§»å­¦ä¹ æ–¹æ³•(Instance based Transfer Learning)<br>é€šè¿‡æƒé‡é‡ç”¨ï¼Œå¯¹æºåŸŸå’Œç›®æ ‡åŸŸçš„æ ·ä¾‹è¿›è¡Œè¿ç§»</li>
<li>2.åŸºäº==ç‰¹å¾==çš„è¿ç§»å­¦ä¹ æ–¹æ³•(Feature based Transfer Leaning)<br>æ„æ€æ˜¯è¯´ï¼Œå‡è®¾æºåŸŸå’Œç›®æ ‡åŸŸçš„ç‰¹å¾<br>åŸæ¥ä¸åœ¨ä¸€ä¸ªç©ºé—´ï¼Œæˆ–è€…è¯´å®ƒä»¬åœ¨åŸæ¥é‚£ä¸ªç©ºé—´ä¸Šä¸ç›¸ä¼¼ï¼Œé‚£æˆ‘ä»¬å°±æƒ³åŠæ³•æŠŠå®ƒä»¬å˜æ¢åˆ°ä¸€ä¸ªç©ºé—´é‡Œé¢ï¼Œé‚£è¿™äº›ç‰¹å¾ä¸å°±ç›¸ä¼¼äº†ï¼Ÿ</li>
<li>3.åŸºäº==æ¨¡å‹==çš„è¿ç§»å­¦ä¹ æ–¹æ³•(Model based Transfer Leaning)<br>æ„å»ºå‚æ•°å…±äº«çš„æ¨¡å‹</li>
<li>4.åŸºäºå…³ç³»çš„è¿ç§»å­¦ä¹ æ–¹æ³•(Relation based Transfer Learning)<br>æŒ–æ˜å’Œåˆ©ç”¨å…³ç³»è¿›è¡Œç±»æ¯”è¿ç§»</li>
</ul>
<h2 id="2-3-æŒ‰ç‰¹å¾åˆ†ç±»"><a href="#2-3-æŒ‰ç‰¹å¾åˆ†ç±»" class="headerlink" title="2.3 æŒ‰ç‰¹å¾åˆ†ç±»"></a>2.3 æŒ‰ç‰¹å¾åˆ†ç±»</h2><ul>
<li>1.åŒæ„è¿ç§»å­¦ä¹ (Homogeneous Transfer Learning)</li>
<li>2.å¼‚æ„è¿ç§»å­¦ä¹ (Heterogeneous Transfer Learning)<br>å¦‚æœç‰¹å¾è¯­ä¹‰å’Œç»´åº¦éƒ½ç›¸åŒï¼Œé‚£ä¹ˆå°±æ˜¯åŒæ„ï¼›åä¹‹ï¼Œå¦‚æœç‰¹å¾å®Œå…¨ä¸ç›¸åŒï¼Œé‚£ä¹ˆå°±æ˜¯å¼‚æ„ã€‚ä¸¾ä¸ªä¾‹å­æ¥è¯´ï¼Œä¸åŒå›¾ç‰‡çš„è¿ç§»ï¼Œå°±å¯ä»¥è®¤ä¸ºæ˜¯åŒæ„ï¼›è€Œå›¾ç‰‡åˆ°æ–‡æœ¬çš„è¿ç§»ï¼Œåˆ™æ˜¯å¼‚æ„çš„ã€‚</li>
</ul>
<h2 id="2-4-æŒ‰ç¦»çº¿ä¸åœ¨çº¿å½¢å¼åˆ†"><a href="#2-4-æŒ‰ç¦»çº¿ä¸åœ¨çº¿å½¢å¼åˆ†" class="headerlink" title="2.4 æŒ‰ç¦»çº¿ä¸åœ¨çº¿å½¢å¼åˆ†"></a>2.4 æŒ‰ç¦»çº¿ä¸åœ¨çº¿å½¢å¼åˆ†</h2><ul>
<li>1.ç¦»çº¿è¿ç§»å­¦ä¹ (Offline Transfer Learning)</li>
<li>2.åœ¨çº¿è¿ç§»å­¦ä¹ (Online Transfer Learning)</li>
</ul>
<p>ç›®å‰ï¼Œç»å¤§å¤šæ•°çš„è¿ç§»å­¦ä¹ æ–¹æ³•ï¼Œéƒ½é‡‡ç”¨äº†ç¦»çº¿æ–¹å¼ã€‚å³ï¼ŒæºåŸŸå’Œç›®æ ‡åŸŸå‡æ˜¯ç»™å®šçš„ï¼Œ<br>è¿ç§»ä¸€æ¬¡å³å¯ã€‚è¿™ç§æ–¹å¼çš„ç¼ºç‚¹æ˜¯æ˜¾è€Œæ˜“è§çš„ï¼šç®—æ³•æ— æ³•å¯¹æ–°åŠ å…¥çš„æ•°æ®è¿›è¡Œå­¦ä¹ ï¼Œæ¨¡å‹ä¹Ÿæ— æ³•å¾—åˆ°æ›´æ–°ã€‚ä¸ä¹‹ç›¸å¯¹çš„ï¼Œæ˜¯åœ¨çº¿çš„æ–¹å¼ã€‚å³éšç€æ•°æ®çš„åŠ¨æ€åŠ å…¥ï¼Œè¿ç§»å­¦ä¹ ç®—æ³•ä¹Ÿå¯ä»¥ä¸æ–­åœ°æ›´æ–°ã€‚</p>
<h1 id="3-è¿ç§»å­¦ä¹ çš„åº”ç”¨"><a href="#3-è¿ç§»å­¦ä¹ çš„åº”ç”¨" class="headerlink" title="3.è¿ç§»å­¦ä¹ çš„åº”ç”¨"></a>3.è¿ç§»å­¦ä¹ çš„åº”ç”¨</h1><p>è®¡ç®—æœºè§†è§‰ã€æ–‡æœ¬åˆ†ç±»ã€è¡Œä¸ºè¯†åˆ«ã€è‡ªç„¶è¯­è¨€å¤„ç†ã€å®¤å†…å®šä½ã€è§†é¢‘ç›‘æ§ã€èˆ†æƒ…åˆ†æã€äººæœºäº¤äº’</p>
<h2 id="3-1-è®¡ç®—æœºè§†è§‰"><a href="#3-1-è®¡ç®—æœºè§†è§‰" class="headerlink" title="3.1 è®¡ç®—æœºè§†è§‰"></a>3.1 è®¡ç®—æœºè§†è§‰</h2><p>åŒä¸€ç±»å›¾ç‰‡ï¼Œä¸åŒçš„æ‹æ‘„è§’åº¦ã€ä¸åŒå…‰ç…§ã€ä¸åŒèƒŒæ™¯ï¼Œéƒ½ä¼šé€ æˆç‰¹å¾åˆ†å¸ƒå‘ç”Ÿæ”¹å˜ã€‚å› æ­¤ï¼Œä½¿ç”¨è¿ç§»å­¦ä¹ æ„å»ºè·¨é¢†åŸŸçš„é²æ£’åˆ†ç±»å™¨æ˜¯ååˆ†é‡è¦çš„ã€‚</p>
<h2 id="3-2-æ–‡æœ¬åˆ†ç±»"><a href="#3-2-æ–‡æœ¬åˆ†ç±»" class="headerlink" title="3.2 æ–‡æœ¬åˆ†ç±»"></a>3.2 æ–‡æœ¬åˆ†ç±»</h2><p>ç”±äºæ–‡æœ¬æ•°æ®æœ‰å…¶é¢†åŸŸç‰¹æ®Šæ€§ï¼Œå› æ­¤ï¼Œåœ¨ä¸€ä¸ªé¢†åŸŸä¸Šè®­ç»ƒçš„åˆ†ç±»å™¨ï¼Œä¸èƒ½ç›´æ¥æ‹¿æ¥ä½œç”¨åˆ°å¦ä¸€ä¸ªé¢†åŸŸä¸Šã€‚è¿™å°±éœ€è¦ç”¨åˆ°è¿ç§»å­¦ä¹ ã€‚ä¾‹å¦‚ï¼Œåœ¨ç”µå½±è¯„è®ºæ–‡æœ¬æ•°æ®é›†ä¸Šè®­ç»ƒå¥½çš„åˆ†ç±»å™¨ï¼Œä¸èƒ½ç›´æ¥ç”¨äºå›¾ä¹¦è¯„è®ºçš„é¢„æµ‹ã€‚è¿™å°±éœ€è¦è¿›è¡Œè¿ç§»å­¦ä¹ ã€‚</p>
<h2 id="3-3-æ—¶é—´åºåˆ—"><a href="#3-3-æ—¶é—´åºåˆ—" class="headerlink" title="3.3 æ—¶é—´åºåˆ—"></a>3.3 æ—¶é—´åºåˆ—</h2><p>è¡Œä¸ºè¯†åˆ« (Activity Recognition) ä¸»è¦é€šè¿‡ä½©æˆ´åœ¨ç”¨æˆ·èº«ä½“ä¸Šçš„ä¼ æ„Ÿå™¨ï¼Œç ”ç©¶ç”¨æˆ·çš„è¡Œ<br>ä¸ºã€‚è¡Œä¸ºæ•°æ®æ˜¯ä¸€ç§æ—¶é—´åºåˆ—æ•°æ®ã€‚ä¸åŒç”¨æˆ·ã€ä¸åŒç¯å¢ƒã€ä¸åŒä½ç½®ã€ä¸åŒè®¾å¤‡ï¼Œéƒ½ä¼šå¯¼è‡´æ—¶é—´åºåˆ—æ•°æ®çš„åˆ†å¸ƒå‘ç”Ÿå˜åŒ–ã€‚</p>
<h2 id="3-4-åŒ»ç–—å¥åº·"><a href="#3-4-åŒ»ç–—å¥åº·" class="headerlink" title="3.4 åŒ»ç–—å¥åº·"></a>3.4 åŒ»ç–—å¥åº·</h2><p>åŒ»ç–—é¢†åŸŸç ”ç©¶çš„éš¾ç‚¹é—®é¢˜æ˜¯ï¼Œæ— æ³•è·å–è¶³å¤Ÿæœ‰æ•ˆçš„åŒ»ç–—æ•°æ®ã€‚</p>
<h1 id="4-åŸºç¡€çŸ¥è¯†"><a href="#4-åŸºç¡€çŸ¥è¯†" class="headerlink" title="4.åŸºç¡€çŸ¥è¯†"></a>4.åŸºç¡€çŸ¥è¯†</h1><h2 id="4-1è¿ç§»å­¦ä¹ çš„é—®é¢˜å½¢å¼åŒ–"><a href="#4-1è¿ç§»å­¦ä¹ çš„é—®é¢˜å½¢å¼åŒ–" class="headerlink" title="4.1è¿ç§»å­¦ä¹ çš„é—®é¢˜å½¢å¼åŒ–"></a>4.1è¿ç§»å­¦ä¹ çš„é—®é¢˜å½¢å¼åŒ–</h2><h3 id="4-1-1-é¢†åŸŸ"><a href="#4-1-1-é¢†åŸŸ" class="headerlink" title="4.1.1 é¢†åŸŸ"></a>4.1.1 é¢†åŸŸ</h3><p>é¢†åŸŸ(Domain)æ˜¯è¿›è¡Œå­¦ä¹ çš„ä¸»ä½“ã€‚é¢†åŸŸä¸»è¦ç”±ä¸¤éƒ¨åˆ†æ„æˆï¼šæ•°æ®å’Œç”Ÿæˆè¿™äº›æ•°æ®çš„æ¦‚ç‡åˆ†å¸ƒã€‚æºé¢†åŸŸï¼šæœ‰çŸ¥è¯†ã€æœ‰å¤§é‡æ•°æ®æ ‡æ³¨çš„é¢†åŸŸï¼›ç›®æ ‡åŸŸï¼šæˆ‘ä»¬æœ€ç»ˆè¦èµ‹äºˆçŸ¥è¯†ã€èµ‹äºˆæ ‡æ³¨çš„å¯¹è±¡ã€‚</p>
<h3 id="4-1-2-ä»»åŠ¡"><a href="#4-1-2-ä»»åŠ¡" class="headerlink" title="4.1.2 ä»»åŠ¡"></a>4.1.2 ä»»åŠ¡</h3><p>ä»»åŠ¡(Task)ï¼šå­¦ä¹ çš„ç›®æ ‡ã€‚ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼šæ ‡ç­¾å’Œæ ‡ç­¾å¯¹åº”çš„å‡½æ•°ã€‚</p>
<h3 id="4-1-3-è¿ç§»å­¦ä¹ "><a href="#4-1-3-è¿ç§»å­¦ä¹ " class="headerlink" title="4.1.3 è¿ç§»å­¦ä¹ "></a>4.1.3 è¿ç§»å­¦ä¹ </h3><p>é¢†åŸŸè‡ªé€‚åº”(Domain Adaptation)</p>
<h2 id="4-2-æ€»ä½“æ€è·¯"><a href="#4-2-æ€»ä½“æ€è·¯" class="headerlink" title="4.2 æ€»ä½“æ€è·¯"></a>4.2 æ€»ä½“æ€è·¯</h2><p>å¼€å‘ç®—æ³•æ¥æœ€å¤§é™åº¦åœ°åˆ©ç”¨æœ‰æ ‡æ³¨åœ°é¢†åŸŸåœ°çŸ¥è¯†ï¼Œæ¥è¾…åŠ©ç›®æ ‡é¢†åŸŸçš„çŸ¥è¯†è·å–å’Œå­¦ä¹ ã€‚<br>æ‰¾åˆ°ç›¸ä¼¼æ€§ (ä¸å˜é‡)ï¼Œæ˜¯è¿›è¡Œè¿ç§»å­¦ä¹ çš„æ ¸å¿ƒã€‚<br>åº¦é‡å·¥ä½œçš„ç›®æ ‡æœ‰ä¸¤ç‚¹ï¼š</p>
<ul>
<li>ä¸€æ˜¯å¾ˆå¥½åœ°åº¦é‡ä¸¤ä¸ªé¢†åŸŸçš„ç›¸ä¼¼æ€§ï¼Œä¸ä»…å®šæ€§åœ°å‘Šè¯‰æˆ‘ä»¬å®ƒä»¬æ˜¯å¦ç›¸ä¼¼ï¼Œæ›´å®šé‡åœ°ç»™<br>å‡ºç›¸ä¼¼ç¨‹åº¦ã€‚</li>
<li>äºŒæ˜¯ä»¥åº¦é‡ä¸ºå‡†åˆ™ï¼Œé€šè¿‡æˆ‘ä»¬æ‰€è¦é‡‡ç”¨çš„å­¦ä¹ æ‰‹æ®µï¼Œå¢å¤§ä¸¤ä¸ªé¢†åŸŸä¹‹é—´çš„ç›¸ä¼¼æ€§ï¼Œä»è€Œå®Œæˆè¿ç§»å­¦ä¹ ã€‚</li>
</ul>
<p>ä¸€å¥è¯æ€»ç»“ï¼š ==ç›¸ä¼¼æ€§æ˜¯æ ¸å¿ƒï¼Œåº¦é‡å‡†åˆ™æ˜¯é‡è¦æ‰‹æ®µã€‚==</p>
<h2 id="4-3-åº¦é‡å‡†åˆ™"><a href="#4-3-åº¦é‡å‡†åˆ™" class="headerlink" title="4.3 åº¦é‡å‡†åˆ™"></a>4.3 åº¦é‡å‡†åˆ™</h2><p>æ ¸å¿ƒï¼šè¡¡é‡ä¸¤ä¸ªæ•°æ®åŸŸçš„å·®å¼‚ã€‚</p>
<h3 id="4-3-1-å¸¸è§çš„å‡ ç§è·ç¦»"><a href="#4-3-1-å¸¸è§çš„å‡ ç§è·ç¦»" class="headerlink" title="4.3.1 å¸¸è§çš„å‡ ç§è·ç¦»"></a>4.3.1 å¸¸è§çš„å‡ ç§è·ç¦»</h3><ul>
<li>1.æ¬§å¼è·ç¦»</li>
<li>2.é—µç§‘å¤«æ–¯åŸºè·ç¦»</li>
<li>3.é©¬æ°è·ç¦»</li>
</ul>
<h3 id="4-3-2-ç›¸ä¼¼åº¦"><a href="#4-3-2-ç›¸ä¼¼åº¦" class="headerlink" title="4.3.2 ç›¸ä¼¼åº¦"></a>4.3.2 ç›¸ä¼¼åº¦</h3><ul>
<li>1.ä½™å¼¦ç›¸ä¼¼åº¦</li>
<li>2.äº’ä¿¡æ¯</li>
<li>3.çš®å°”é€Šç›¸å…³ç³»æ•°</li>
<li>4.Jaccardç›¸å…³ç³»æ•°</li>
</ul>
<h3 id="4-3-3-KLæ•£åº¦ä¸JSè·ç¦»"><a href="#4-3-3-KLæ•£åº¦ä¸JSè·ç¦»" class="headerlink" title="4.3.3 KLæ•£åº¦ä¸JSè·ç¦»"></a>4.3.3 KLæ•£åº¦ä¸JSè·ç¦»</h3><h3 id="4-3-4-æœ€å¤§å‡å€¼å·®å¼‚MMD-Maximun-mean-discrepancy"><a href="#4-3-4-æœ€å¤§å‡å€¼å·®å¼‚MMD-Maximun-mean-discrepancy" class="headerlink" title="4.3.4 æœ€å¤§å‡å€¼å·®å¼‚MMD(Maximun mean discrepancy)"></a>4.3.4 æœ€å¤§å‡å€¼å·®å¼‚MMD(Maximun mean discrepancy)</h3><h3 id="4-3-5-Principle-Angle"><a href="#4-3-5-Principle-Angle" class="headerlink" title="4.3.5 Principle Angle"></a>4.3.5 Principle Angle</h3><h3 id="4-3-6-A-distance"><a href="#4-3-6-A-distance" class="headerlink" title="4.3.6 A-distance"></a>4.3.6 A-distance</h3><h3 id="4-3-7-Hilbert-Schmidt-Independence-Criterion"><a href="#4-3-7-Hilbert-Schmidt-Independence-Criterion" class="headerlink" title="4.3.7 Hilbert-Schmidt Independence Criterion"></a>4.3.7 Hilbert-Schmidt Independence Criterion</h3><h3 id="4-3-8-Wasserstein-Distance"><a href="#4-3-8-Wasserstein-Distance" class="headerlink" title="4.3.8 Wasserstein Distance"></a>4.3.8 Wasserstein Distance</h3><h2 id="4-4-è¿ç§»å­¦ä¹ çš„ç†è®ºä¿è¯"><a href="#4-4-è¿ç§»å­¦ä¹ çš„ç†è®ºä¿è¯" class="headerlink" title="4.4 è¿ç§»å­¦ä¹ çš„ç†è®ºä¿è¯"></a>4.4 è¿ç§»å­¦ä¹ çš„ç†è®ºä¿è¯</h2><p>è¿™ä¸€éƒ¨åˆ†æœ‰äº›éš¾åº¦ã€‚å½“è‡ªå·±æå‡ºçš„ç®—æ³•éœ€è¦ç†è®ºè¯æ˜æ—¶ï¼Œå¯ä»¥å€Ÿé‰´è¿™ä¸€éƒ¨åˆ†ã€‚</p>
<h1 id="5-è¿ç§»å­¦ä¹ çš„åŸºæœ¬æ–¹æ³•"><a href="#5-è¿ç§»å­¦ä¹ çš„åŸºæœ¬æ–¹æ³•" class="headerlink" title="5.è¿ç§»å­¦ä¹ çš„åŸºæœ¬æ–¹æ³•"></a>5.è¿ç§»å­¦ä¹ çš„åŸºæœ¬æ–¹æ³•</h1><p>å››ç§åŸºæœ¬æ–¹æ³•ï¼šåŸºäºæ ·æœ¬çš„è¿ç§»ï¼ŒåŸºäºæ¨¡å‹çš„è¿ç§»ï¼ŒåŸºäºç‰¹å¾çš„è¿ç§»ï¼Œä»¥åŠåŸºäºå…³ç³»çš„è¿ç§»ã€‚</p>
<h2 id="5-1-åŸºäºæ ·æœ¬çš„è¿ç§»å­¦ä¹ æ–¹æ³•-Instance-based-Transfer-Learning"><a href="#5-1-åŸºäºæ ·æœ¬çš„è¿ç§»å­¦ä¹ æ–¹æ³•-Instance-based-Transfer-Learning" class="headerlink" title="5.1 åŸºäºæ ·æœ¬çš„è¿ç§»å­¦ä¹ æ–¹æ³•(Instance based Transfer Learning)"></a>5.1 åŸºäºæ ·æœ¬çš„è¿ç§»å­¦ä¹ æ–¹æ³•(Instance based Transfer Learning)</h2><p><img src="https://s2.ax1x.com/2019/04/25/Ee9XWT.jpg" alt="t8"><br>å¦‚å›¾ï¼Œåœ¨è¿ç§»æ—¶ï¼Œä¸ºäº†æœ€å¤§é™åº¦åœ°å’Œç›®æ ‡åŸŸç›¸ä¼¼ï¼Œæˆ‘ä»¬å¯ä»¥äººä¸ºåœ°æé«˜æºåŸŸä¸­å±äºç‹—è¿™ä¸ªç±»åˆ«åœ°æ ·æœ¬æƒé‡ã€‚<br>ä¼˜ç¼ºç‚¹ï¼šè™½ç„¶å®ä¾‹æƒé‡æ³•å…·æœ‰è¾ƒå¥½çš„ç†è®ºæ”¯æ’‘ã€å®¹æ˜“æ¨å¯¼æ³›åŒ–è¯¯å·®ä¸Šç•Œï¼Œä½†è¿™ç±»æ–¹æ³•é€šå¸¸åªåœ¨é¢†åŸŸé—´åˆ†å¸ƒå·®å¼‚è¾ƒå°æ—¶æœ‰æ•ˆï¼Œå› æ­¤å¯¹è‡ªç„¶è¯­è¨€å¤„ç†ã€è®¡ç®—æœºè§†è§‰ç­‰ä»»åŠ¡æ•ˆæœå¹¶ä¸ç†æƒ³ã€‚</p>
<h2 id="5-2-åŸºäºç‰¹å¾è¿ç§»"><a href="#5-2-åŸºäºç‰¹å¾è¿ç§»" class="headerlink" title="5.2 åŸºäºç‰¹å¾è¿ç§»"></a>5.2 åŸºäºç‰¹å¾è¿ç§»</h2><p>é€šè¿‡ç‰¹å¾å˜æ¢çš„æ–¹å¼äº’ç›¸è¿ç§»ï¼Œæ¥å‡å°‘æºåŸŸå’Œç›®æ ‡åŸŸä¹‹é—´åœ°å·®è·ï¼›æˆ–è€…å°†æºåŸŸå’Œç›®æ ‡åŸŸçš„æ•°æ®ç‰¹å¾å˜æ¢åˆ°ç»Ÿä¸€ç‰¹å¾ç©ºé—´ä¸­ï¼Œç„¶ååˆ©ç”¨ä¼ ç»Ÿçš„æœºå™¨å­¦ä¹ æ–¹æ³•è¿›è¡Œåˆ†ç±»è¯†åˆ«ã€‚æ ¹æ®ç‰¹å¾çš„åŒæ„å’Œå¼‚æ„æ€§ï¼Œåˆå¯ä»¥åˆ†ä¸ºåŒæ„å’Œå¼‚æ„è¿ç§»å­¦ä¹ ã€‚<br><img src="https://s2.ax1x.com/2019/04/25/EePN8K.jpg" alt="t15"><br>è¿™ç±»æ–¹æ³•é€šå¸¸å‡è®¾æºåŸŸå’Œç›®æ ‡åŸŸé—´æœ‰ä¸€äº›äº¤å‰çš„ç‰¹å¾ã€‚</p>
<h2 id="5-3-åŸºäºæ¨¡å‹å­¦ä¹ "><a href="#5-3-åŸºäºæ¨¡å‹å­¦ä¹ " class="headerlink" title="5.3 åŸºäºæ¨¡å‹å­¦ä¹ "></a>5.3 åŸºäºæ¨¡å‹å­¦ä¹ </h2><p>åŸºäºæ¨¡å‹çš„è¿ç§»æ–¹æ³• (Parameter/Model based Transfer Learning) æ˜¯æŒ‡ä»æºåŸŸå’Œç›®æ ‡åŸŸä¸­æ‰¾åˆ°ä»–ä»¬ä¹‹é—´å…±äº«çš„å‚æ•°ä¿¡æ¯ï¼Œä»¥å®ç°è¿ç§»çš„æ–¹æ³•ã€‚è¿™ç§è¿ç§»æ–¹å¼è¦æ±‚çš„å‡è®¾æ¡ä»¶æ˜¯ï¼šæºåŸŸä¸­çš„æ•°æ®ä¸ç›®æ ‡åŸŸä¸­çš„æ•°æ®å¯ä»¥å…±äº«ä¸€äº›æ¨¡å‹çš„å‚æ•°ã€‚<br><img src="https://s2.ax1x.com/2019/04/25/EeFT3V.jpg" alt="t16"></p>
<h2 id="5-4-åŸºäºå…³ç³»è¿ç§»"><a href="#5-4-åŸºäºå…³ç³»è¿ç§»" class="headerlink" title="5.4 åŸºäºå…³ç³»è¿ç§»"></a>5.4 åŸºäºå…³ç³»è¿ç§»</h2><p>è¿™ç§æ–¹æ³•æ¯”è¾ƒå…³æ³¨æºåŸŸå’Œç›®æ ‡åŸŸçš„æ ·æœ¬ä¹‹é—´çš„å…³ç³»ã€‚<br>è¿™äº›æ–‡ç« éƒ½å€ŸåŠ©äºé©¬å°”ç§‘å¤«é€»è¾‘ç½‘ç»œ (Markov Logic Net)æ¥æŒ–æ˜ä¸åŒé¢†åŸŸä¹‹é—´çš„å…³ç³»ç›¸ä¼¼æ€§ã€‚<br>æˆ‘ä»¬å°†é‡ç‚¹è®¨è®ºåŸºäºç‰¹å¾å’ŒåŸºäºæ¨¡å‹çš„è¿ç§»å­¦ä¹ æ–¹æ³•ï¼Œè¿™ä¹Ÿæ˜¯ç›®å‰ç»å¤§å¤šæ•°ç ”ç©¶å·¥ä½œçš„çƒ­ç‚¹ã€‚<br><img src="https://s2.ax1x.com/2019/04/25/EekS9x.jpg" alt="t17"></p>
]]></content>
      <categories>
        <category>æœºå™¨å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>è¿ç§»å­¦ä¹ </tag>
      </tags>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ23ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8823%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY23-å›¾å½¢å¤„ç†ç›¸å…³"><a href="#DAY23-å›¾å½¢å¤„ç†ç›¸å…³" class="headerlink" title="DAY23_å›¾å½¢å¤„ç†ç›¸å…³"></a>DAY23_å›¾å½¢å¤„ç†ç›¸å…³</h1><h2 id="1-ç¼–å†™malloc"><a href="#1-ç¼–å†™malloc" class="headerlink" title="1.ç¼–å†™malloc"></a>1.ç¼–å†™malloc</h2><p>å¦‚æœapi_mallocåªæ˜¯è°ƒç”¨æ“ä½œç³»ç»Ÿä¸­çš„memman_allocï¼Œå¹¶å°†åˆ†é…åˆ°çš„å†…å­˜ç©ºé—´åœ°å€è¿”å›ç»™åº”ç”¨ç¨‹åºçš„è¯ï¼Œæ˜¯è¡Œä¸é€šçš„ï¼Œå› ä¸ºé€šè¿‡memman_allocæ‰€è·å¾—çš„å†…å­˜ç©ºé—´å¹¶ä¸ä½äºåº”ç”¨ç¨‹åºçš„æ•°æ®æ®µèŒƒå›´å†…ï¼Œåº”ç”¨ç¨‹åºæ˜¯æ— æ³•è¿›è¡Œè¯»å†™æ“ä½œçš„ã€‚å¦‚æœåº”ç”¨ç¨‹åºåœ¨ä¸çŸ¥æƒ…çš„æƒ…å†µä¸‹æ‰§è¡Œäº†è¯»å†™æ“ä½œï¼Œå°†ä¼šäº§ç”Ÿå¼‚å¸¸å¹¶å¼ºåˆ¶ç»“æŸã€‚</p>
<span id="more"></span>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">memmanåˆå§‹åŒ–</span><br><span class="line">EDX=8 </span><br><span class="line">EBX=memmançš„åœ°å€</span><br><span class="line">EAX=memmanæ‰€ç®¡ç†çš„å†…å­˜ç©ºé—´çš„èµ·å§‹åœ°å€</span><br><span class="line">ECX=memmanæ‰€ç®¡ç†çš„å†…å­˜ç©ºé—´çš„å­—èŠ‚æ•°</span><br><span class="line">malloc</span><br><span class="line">EDX=9 </span><br><span class="line">EBX=memmançš„åœ°å€</span><br><span class="line">ECX=éœ€è¦è¯·æ±‚çš„å­—èŠ‚æ•°</span><br><span class="line">EAX=åˆ†é…åˆ°çš„å†…å­˜ç©ºé—´åœ°å€</span><br><span class="line">free</span><br><span class="line">EDX=10 </span><br><span class="line">EBX=memmançš„åœ°å€</span><br><span class="line">EAX=éœ€è¦é‡Šæ”¾çš„å†…å­˜ç©ºé—´åœ°å€</span><br><span class="line">ECX=éœ€è¦é‡Šæ”¾çš„å­—èŠ‚æ•°</span><br></pre></td></tr></table></figure>
<h2 id="2-ç”»ç‚¹"><a href="#2-ç”»ç‚¹" class="headerlink" title="2.ç”»ç‚¹"></a>2.ç”»ç‚¹</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åœ¨çª—å£ä¸­ç”»ç‚¹</span><br><span class="line">EDX =11 </span><br><span class="line">EBX =çª—å£å¥æŸ„</span><br><span class="line">ESI =æ˜¾ç¤ºä½ç½®çš„xåæ ‡</span><br><span class="line">EDI =æ˜¾ç¤ºä½ç½®çš„yåæ ‡</span><br><span class="line">EAX =è‰²å·</span><br></pre></td></tr></table></figure>
<p>ç”»æ˜Ÿæ˜Ÿ<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int api_openwin(char *buf, int xsiz, int ysiz, int col_inv, char *title); </span><br><span class="line">void api_boxfilwin(int win, int x0, int y0, int x1, int y1, int col); </span><br><span class="line">void api_initmalloc(void); </span><br><span class="line">char *api_malloc(int size); </span><br><span class="line">void api_point(int win, int x, int y, int col); </span><br><span class="line">void api_end(void); </span><br><span class="line">int rand(void); /*äº§ç”Ÿ0ï½32767ä¹‹é—´çš„éšæœºæ•°*/ </span><br><span class="line">void HariMain(void) </span><br><span class="line">&#123; </span><br><span class="line"> char *buf; </span><br><span class="line"> int win, i, x, y; </span><br><span class="line"> api_initmalloc(); </span><br><span class="line"> buf = api_malloc(150 * 100);</span><br><span class="line">  win = api_openwin(buf, 150, 100, -1, &quot;stars&quot;); </span><br><span class="line"> api_boxfilwin(win, 6, 26, 143, 93, 0 /*é»‘è‰²*/); </span><br><span class="line"> for (i = 0; i &lt; 50; i++) &#123; </span><br><span class="line"> x = (rand() % 137) + 6; </span><br><span class="line"> y = (rand() % 67) + 26; </span><br><span class="line"> api_point(win, x, y, 3 /*é»„è‰²*/); </span><br><span class="line"> &#125; </span><br><span class="line"> api_end(); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="3-åˆ·æ–°çª—å£"><a href="#3-åˆ·æ–°çª—å£" class="headerlink" title="3.åˆ·æ–°çª—å£"></a>3.åˆ·æ–°çª—å£</h2><p>åœ¨æ‰€æœ‰çš„çª—å£ç»˜å›¾å‘½ä»¤ä¸­è®¾ç½®ä¸€ä¸ªâ€œä¸è‡ªåŠ¨åˆ·æ–°â€çš„é€‰é¡¹ï¼Œç„¶åå†ç¼–å†™ä¸€ä¸ªä»…ç”¨æ¥åˆ·æ–°çš„API<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åˆ·æ–°çª—å£</span><br><span class="line">EDX = 12 </span><br><span class="line">EBX = çª—å£å¥æŸ„</span><br><span class="line">EAX = x0 </span><br><span class="line">ECX = y0 </span><br><span class="line">ESI = x1 </span><br><span class="line">EDI = y1</span><br></pre></td></tr></table></figure></p>
<h2 id="4-ç”»ç›´çº¿"><a href="#4-ç”»ç›´çº¿" class="headerlink" title="4.ç”»ç›´çº¿"></a>4.ç”»ç›´çº¿</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">for (i = 0; i &lt; len; i++) &#123; </span><br><span class="line"> api_point(win, x, y, col); </span><br><span class="line"> x += dx; </span><br><span class="line"> y += dy; </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h2 id="5-å…³é—­çª—å£"><a href="#5-å…³é—­çª—å£" class="headerlink" title="5.å…³é—­çª—å£"></a>5.å…³é—­çª—å£</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">å…³é—­çª—å£</span><br><span class="line">EDX=14 </span><br><span class="line">EBX=çª—å£å¥æŸ„</span><br></pre></td></tr></table></figure>
<h2 id="6-é”®ç›˜è¾“å…¥API"><a href="#6-é”®ç›˜è¾“å…¥API" class="headerlink" title="6.é”®ç›˜è¾“å…¥API"></a>6.é”®ç›˜è¾“å…¥API</h2><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">é”®ç›˜è¾“å…¥</span><br><span class="line">EDX = 15 </span><br><span class="line">EAX = 0â€¦â€¦æ²¡æœ‰é”®ç›˜è¾“å…¥æ—¶è¿”å›ï€­1ï¼Œä¸ä¼‘çœ </span><br><span class="line"> = 1â€¦â€¦ä¼‘çœ ç›´åˆ°å‘ç”Ÿé”®ç›˜è¾“å…¥</span><br><span class="line">EAX = è¾“å…¥çš„å­—ç¬¦ç¼–ç </span><br></pre></td></tr></table></figure>
<h2 id="8-å¼ºåˆ¶ç»“æŸå¹¶å…³é—­çª—å£"><a href="#8-å¼ºåˆ¶ç»“æŸå¹¶å…³é—­çª—å£" class="headerlink" title="8.å¼ºåˆ¶ç»“æŸå¹¶å…³é—­çª—å£"></a>8.å¼ºåˆ¶ç»“æŸå¹¶å…³é—­çª—å£</h2><p>é—®é¢˜ï¼šåœ¨è¿è¡Œwalk.hrbå’Œlines.hrbæ—¶ï¼Œå¦‚æœä¸æŒ‰å›è½¦é”®ç»“æŸï¼Œè€Œæ˜¯æŒ‰Shift+F1å¼ºåˆ¶ç»“æŸç¨‹åºçš„è¯ï¼Œçª—å£å°±ä¼šæ®‹ç•™åœ¨ç”»é¢ä¸Šã€‚<br>è§£å†³æ–¹æ³•ï¼šåœ¨struct SHEETä¸­æ·»åŠ ä¸€ä¸ªç”¨æ¥å­˜æ”¾taskçš„æˆå‘˜ï¼Œå½“åº”ç”¨ç¨‹åºç»“æŸæ—¶ï¼ŒæŸ¥è¯¢æ‰€æœ‰çš„å›¾å±‚ï¼Œå¦‚æœå›¾å±‚çš„taskä¸ºå°†è¦ç»“æŸçš„åº”ç”¨ç¨‹åºä»»åŠ¡ï¼Œåˆ™å…³é—­è¯¥å›¾å±‚ã€‚</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ22ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8822%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY22-ç”¨Cè¯­è¨€ç¼–å†™åº”ç”¨ç¨‹åº"><a href="#DAY22-ç”¨Cè¯­è¨€ç¼–å†™åº”ç”¨ç¨‹åº" class="headerlink" title="DAY22_ç”¨Cè¯­è¨€ç¼–å†™åº”ç”¨ç¨‹åº"></a>DAY22_ç”¨Cè¯­è¨€ç¼–å†™åº”ç”¨ç¨‹åº</h1><h2 id="1-ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ5ï¼‰"><a href="#1-ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ5ï¼‰" class="headerlink" title="1.ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ5ï¼‰"></a>1.ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ5ï¼‰</h2><p>é—®é¢˜ï¼šåœ¨å®šæ—¶å™¨ä¸Šåšæ‰‹è„šï¼Œå…‰æ ‡é—ªçƒå˜å¾—å¼‚å¸¸ç¼“æ…¢ï¼Œä»»åŠ¡åˆ‡æ¢çš„é€Ÿåº¦ä¹Ÿä¼šå˜å¾—ç¼“æ…¢ã€‚<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[INSTRSET &quot;i486p&quot;] </span><br><span class="line">[BITS 32] </span><br><span class="line">    MOV AL,0x34 </span><br><span class="line">    OUT 0x43,AL </span><br><span class="line">    MOV AL,0xff</span><br><span class="line">    OUT 0x40,AL </span><br><span class="line">    MOV AL,0xff </span><br><span class="line">    OUT 0x40,AL</span><br><span class="line">    </span><br><span class="line">; ä¸Šè¿°ä»£ç çš„åŠŸèƒ½ä¸ä¸‹é¢ä»£ç ç›¸å½“</span><br><span class="line">; io_out8(PIT_CTRL, 0x34); </span><br><span class="line">; io_out8(PIT_CNT0, 0xff); </span><br><span class="line">; io_out8(PIT_CNT0, 0xff); </span><br><span class="line"> </span><br><span class="line">    MOV EDX,4 </span><br><span class="line">    INT 0x40</span><br></pre></td></tr></table></figure></p>
<span id="more"></span>
<ul>
<li>æ‰§è¡ŒCLIç„¶åå†HLTã€‚ç”±äºä¸å†äº§ç”Ÿå®šæ—¶å™¨ä¸­æ–­ï¼Œä»»åŠ¡åˆ‡æ¢ä¹Ÿä¼šåœæ­¢ï¼Œé”®ç›˜å’Œé¼ æ ‡ä¸­æ–­ä¹Ÿåœæ­¢å“åº”ã€‚</li>
</ul>
<h2 id="2-å¸®åŠ©å‘ç°bug"><a href="#2-å¸®åŠ©å‘ç°bug" class="headerlink" title="2.å¸®åŠ©å‘ç°bug"></a>2.å¸®åŠ©å‘ç°bug</h2><p>CPUçš„å¼‚å¸¸å¤„ç†åŠŸèƒ½ï¼Œé™¤äº†å¯ä»¥ä¿æŠ¤æ“ä½œç³»ç»Ÿå…é­åº”ç”¨ç¨‹åºçš„ç ´åï¼Œè¿˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨ç¼–å†™åº”ç”¨ç¨‹åºæ—¶åŠæ—©å‘ç°bugã€‚</p>
<hr>
<p>å¯¹æ ˆå¼‚å¸¸çš„å¤„ç†ï¼š<br>è¦æƒ³è®©å®ƒå‘ç°bugï¼Œæœ€å¥½èƒ½çŸ¥é“å¼•å‘å¼‚å¸¸çš„æŒ‡ä»¤çš„åœ°å€ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int *inthandler0c(int *esp) </span><br><span class="line">&#123; </span><br><span class="line"> struct CONSOLE *cons = (struct CONSOLE *) *((int *) 0x0fec); </span><br><span class="line"> struct TASK *task = task_now(); </span><br><span class="line"> char s[30]; /*è¿™é‡Œï¼*/ </span><br><span class="line"> cons_putstr0(cons, &quot;\nINT 0C :\n Stack Exception.\n&quot;); </span><br><span class="line"> sprintf(s, &quot;EIP = %08X\n&quot;, esp[11]); /*è¿™é‡Œï¼*/ </span><br><span class="line"> cons_putstr0(cons, s); /*è¿™é‡Œï¼*/ </span><br><span class="line"> return &amp;(task-&gt;tss.esp0); /*å¼ºåˆ¶ç»“æŸç¨‹åº*/ </span><br><span class="line">&#125; </span><br><span class="line">int *inthandler0d(int *esp) </span><br><span class="line">&#123; </span><br><span class="line"> struct CONSOLE *cons = (struct CONSOLE *) *((int *) 0x0fec); </span><br><span class="line"> struct TASK *task = task_now(); </span><br><span class="line"> char s[30]; /*è¿™é‡Œï¼*/ </span><br><span class="line"> cons_putstr0(cons, &quot;\nINT 0D :\n General Protected Exception.\n&quot;); </span><br><span class="line"> sprintf(s, &quot;EIP = %08X\n&quot;, esp[11]); /*è¿™é‡Œï¼*/ </span><br><span class="line"> cons_putstr0(cons, s); /*è¿™é‡Œï¼*/ </span><br><span class="line"> return &amp;(task-&gt;tss.esp0); /*å¼ºåˆ¶ç»“æŸç¨‹åº*/ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="3-å¼ºåˆ¶ç»“æŸåº”ç”¨ç¨‹åº"><a href="#3-å¼ºåˆ¶ç»“æŸåº”ç”¨ç¨‹åº" class="headerlink" title="3.å¼ºåˆ¶ç»“æŸåº”ç”¨ç¨‹åº"></a>3.å¼ºåˆ¶ç»“æŸåº”ç”¨ç¨‹åº</h2><ul>
<li>å¦‚ä½•å®ç°ï¼Ÿ<br>å°†æŸä¸€ä¸ªé”®è®¾å®šä¸ºå¼ºåˆ¶ç»“æŸé”®ï¼ŒæŒ‰ä¸€ä¸‹å°±å¯ä»¥ç»“æŸç¨‹åºã€‚<br>æŠŠå¼ºåˆ¶ç»“æŸå¤„ç†å†™åœ¨å…¶ä»–çš„ä»»åŠ¡ä¸­ï¼Œbootpack.c</li>
</ul>
<h2 id="4-ç”¨Cè¯­è¨€æ˜¾ç¤ºå­—ç¬¦ä¸²ï¼ˆ1ï¼‰"><a href="#4-ç”¨Cè¯­è¨€æ˜¾ç¤ºå­—ç¬¦ä¸²ï¼ˆ1ï¼‰" class="headerlink" title="4.ç”¨Cè¯­è¨€æ˜¾ç¤ºå­—ç¬¦ä¸²ï¼ˆ1ï¼‰"></a>4.ç”¨Cè¯­è¨€æ˜¾ç¤ºå­—ç¬¦ä¸²ï¼ˆ1ï¼‰</h2><p>å·²ç»åšå¥½äº†ç”¨æ¥æ˜¾ç¤ºå­—ç¬¦ä¸²çš„APIï¼Œå´æ²¡åšå¯ä¾›Cè¯­è¨€è°ƒç”¨è¯¥APIçš„å‡½æ•°ã€‚</p>
<h2 id="5-ç”¨Cè¯­è¨€æ˜¾ç¤ºå­—ç¬¦ä¸²ï¼ˆ2ï¼‰"><a href="#5-ç”¨Cè¯­è¨€æ˜¾ç¤ºå­—ç¬¦ä¸²ï¼ˆ2ï¼‰" class="headerlink" title="5.ç”¨Cè¯­è¨€æ˜¾ç¤ºå­—ç¬¦ä¸²ï¼ˆ2ï¼‰"></a>5.ç”¨Cè¯­è¨€æ˜¾ç¤ºå­—ç¬¦ä¸²ï¼ˆ2ï¼‰</h2><p>è¿æ¥äº†.objæ–‡ä»¶çš„bim2hrbè®¤ä¸ºâ€œhello, worldâ€è¿™ä¸ªå­—ç¬¦ä¸²å°±åº”è¯¥å­˜æ”¾åœ¨0x400è¿™ä¸ªåœ°å€ä¸­ã€‚<br>ç”±bim2hrbç”Ÿæˆçš„.hrbæ–‡ä»¶å…¶å®æ˜¯ç”±ä¸¤ä¸ªéƒ¨åˆ†æ„æˆçš„ã€‚</p>
<ul>
<li>ä»£ç éƒ¨åˆ†</li>
<li>æ•°æ®éƒ¨åˆ†</li>
</ul>
<p>ä¿®æ”¹console.cï¼š</p>
<ul>
<li>æ–‡ä»¶ä¸­æ‰¾ä¸åˆ°â€œHariâ€æ ‡å¿—åˆ™æŠ¥é”™ã€‚</li>
<li>æ•°æ®æ®µçš„å¤§å°æ ¹æ®.hrbæ–‡ä»¶ä¸­æŒ‡å®šçš„å€¼è¿›è¡Œåˆ†é…ã€‚</li>
<li>å°†.hrbæ–‡ä»¶ä¸­çš„æ•°æ®éƒ¨åˆ†å…ˆå¤åˆ¶åˆ°æ•°æ®æ®µåå†å¯åŠ¨ç¨‹åºã€‚</li>
</ul>
<h2 id="6-æ˜¾ç¤ºçª—å£"><a href="#6-æ˜¾ç¤ºçª—å£" class="headerlink" title="6.æ˜¾ç¤ºçª—å£"></a>6.æ˜¾ç¤ºçª—å£</h2><p>ç¼–å†™ä¸€ä¸ªç”¨æ¥æ˜¾ç¤ºçª—å£çš„API<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">EDX = 5 </span><br><span class="line">EBX = çª—å£ç¼“å†²åŒº</span><br><span class="line">ESI = çª—å£åœ¨xè½´æ–¹å‘ä¸Šçš„å¤§å°ï¼ˆå³çª—å£å®½åº¦ï¼‰</span><br><span class="line">EDI = çª—å£åœ¨yè½´æ–¹å‘ä¸Šçš„å¤§å°ï¼ˆå³çª—å£é«˜åº¦ï¼‰</span><br><span class="line">EAX = é€æ˜è‰²</span><br><span class="line">ECX = çª—å£åç§°</span><br></pre></td></tr></table></figure></p>
<h2 id="7-åœ¨çª—å£ä¸­æç»˜å­—ç¬¦å’Œæ–¹"><a href="#7-åœ¨çª—å£ä¸­æç»˜å­—ç¬¦å’Œæ–¹" class="headerlink" title="7.åœ¨çª—å£ä¸­æç»˜å­—ç¬¦å’Œæ–¹"></a>7.åœ¨çª—å£ä¸­æç»˜å­—ç¬¦å’Œæ–¹</h2><p>æ˜¾ç¤ºå­—ç¬¦çš„APIï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">EDX = 6 </span><br><span class="line">EBX = çª—å£å¥æŸ„</span><br><span class="line">ESI = æ˜¾ç¤ºä½ç½®çš„xåæ ‡</span><br><span class="line">EDI = æ˜¾ç¤ºä½ç½®çš„yåæ ‡</span><br><span class="line">EAX = è‰²å·</span><br><span class="line">ECX = å­—ç¬¦ä¸²é•¿åº¦</span><br><span class="line">EBP = å­—ç¬¦ä¸²</span><br></pre></td></tr></table></figure></p>
<p>æç»˜æ–¹å—çš„APIï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">EDX = 7 </span><br><span class="line">EBX = çª—å£å¥æŸ„</span><br><span class="line">EAX = x0 </span><br><span class="line">ECX = y0 </span><br><span class="line">ESI = x1 </span><br><span class="line">EDI = y1 </span><br><span class="line">EBP = è‰²å·</span><br></pre></td></tr></table></figure></p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ21ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8821%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY21-ä¿æŠ¤æ“ä½œç³»ç»Ÿ"><a href="#DAY21-ä¿æŠ¤æ“ä½œç³»ç»Ÿ" class="headerlink" title="DAY21_ä¿æŠ¤æ“ä½œç³»ç»Ÿ"></a>DAY21_ä¿æŠ¤æ“ä½œç³»ç»Ÿ</h1><h2 id="1-æ”»å…‹éš¾é¢˜â€”â€”å­—ç¬¦ä¸²æ˜¾ç¤ºAPI"><a href="#1-æ”»å…‹éš¾é¢˜â€”â€”å­—ç¬¦ä¸²æ˜¾ç¤ºAPI" class="headerlink" title="1.æ”»å…‹éš¾é¢˜â€”â€”å­—ç¬¦ä¸²æ˜¾ç¤ºAPI"></a>1.æ”»å…‹éš¾é¢˜â€”â€”å­—ç¬¦ä¸²æ˜¾ç¤ºAPI</h2><ul>
<li>æˆ‘ä»¬éœ€è¦åœ¨APIä¸­åšä¸ªæ”¹åŠ¨ï¼Œä½¿å…¶èƒ½å¤Ÿå°†åº”ç”¨ç¨‹åºä¼ é€’çš„åœ°å€è§£é‡Šä¸ºä»£ç æ®µå†…åœ°å€ã€‚</li>
</ul>
<span id="more"></span>
<h2 id="2-ç”¨Cè¯­è¨€ç¼–å†™åº”ç”¨ç¨‹åº"><a href="#2-ç”¨Cè¯­è¨€ç¼–å†™åº”ç”¨ç¨‹åº" class="headerlink" title="2.ç”¨Cè¯­è¨€ç¼–å†™åº”ç”¨ç¨‹åº"></a>2.ç”¨Cè¯­è¨€ç¼–å†™åº”ç”¨ç¨‹åº</h2><p>è¦å®ç°Cè¯­è¨€ç¼–å†™åº”ç”¨ç¨‹åºï¼Œéœ€è¦åœ¨åº”ç”¨ç¨‹åºæ–¹é¢åˆ›å»ºä¸€ä¸ªapi_putcharå‡½æ•°ã€‚æ³¨æ„ï¼Œè¿™ä¸ªå‡½æ•°ä¸æ˜¯åˆ›å»ºåœ¨æ“ä½œç³»ç»Ÿä¸­ã€‚api_putcharå‡½æ•°éœ€è¦ç”¨Cè¯­è¨€æ¥è°ƒç”¨ï¼ŒåŠŸèƒ½æ˜¯å‘EDXå’ŒALèµ‹å€¼ï¼Œå¹¶è°ƒç”¨INT 0x40ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[FORMAT &quot;WCOFF&quot;] ; ç”Ÿæˆå¯¹è±¡æ–‡ä»¶çš„æ¨¡å¼</span><br><span class="line">[INSTRSET &quot;i486p&quot;] ; è¡¨ç¤ºä½¿ç”¨486å…¼å®¹æŒ‡ä»¤é›†</span><br><span class="line">[BITS 32] ; ç”Ÿæˆ32ä½æ¨¡å¼æœºå™¨è¯­è¨€</span><br><span class="line">[FILE &quot;a_nask.nas&quot;] ; æºæ–‡ä»¶åä¿¡æ¯</span><br><span class="line"> </span><br><span class="line">    GLOBAL _api_putchar </span><br><span class="line"></span><br><span class="line">[SECTION .text] </span><br><span class="line">_api_putchar: ; void api_putchar(int c); </span><br><span class="line">    MOV EDX,1 </span><br><span class="line">    MOV AL,[ESP+4] ; c </span><br><span class="line">    INT 0x40 </span><br><span class="line">    RET</span><br></pre></td></tr></table></figure>
<p>è¿™é‡Œçš„api_putcharéœ€è¦ä¸a.cçš„ç¼–è¯‘ç»“æœè¿›è¡Œè¿æ¥ï¼Œå› æ­¤æˆ‘ä»¬ä½¿ç”¨å¯¹è±¡æ–‡ä»¶æ¨¡å¼</p>
<h2 id="3-ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ1ï¼‰"><a href="#3-ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ1ï¼‰" class="headerlink" title="3.ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ1ï¼‰"></a>3.ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ1ï¼‰</h2><p>æ“ä½œç³»ç»Ÿéœ€è¦è¿è¡Œå„ç§åº”ç”¨ç¨‹åºï¼Œè€Œè¿™äº›åº”ç”¨ç¨‹åºæœ‰å¯èƒ½æ˜¯æ“ä½œç³»ç»Ÿå¼€å‘è€…ç¼–å†™çš„ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯ç”¨æˆ·ã€åˆ«çš„è½¯ä»¶å¼€å‘å•†æˆ–è€…æ˜¯æŸä¸ªè‡ªç”±è½¯ä»¶ä½œè€…å‡ºäºå–„æ„ç¼–å†™çš„ã€‚<br>æ‰€è°“å¯¹æ“ä½œç³»ç»Ÿçš„ç ´åï¼Œä¸¥é‡ç¨‹åº¦ä¹Ÿä¸åŒï¼Œæ¯”å¦‚æ“…è‡ªåˆ é™¤é‡è¦æ–‡ä»¶ã€ä½¿å…¶ä»–ä»»åŠ¡çš„è¿è¡Œäº§ç”Ÿå¼‚å¸¸ï¼Œæˆ–è€…é€ æˆæ“ä½œç³»ç»Ÿæ­»æœºè€Œä¸å¾—ä¸é‡æ–°å¯åŠ¨ç­‰ç­‰ã€‚</p>
<h2 id="4-ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ2ï¼‰"><a href="#4-ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ2ï¼‰" class="headerlink" title="4.ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ2ï¼‰"></a>4.ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ2ï¼‰</h2><p>æˆ‘ä»¬éœ€è¦ä¸ºåº”ç”¨ç¨‹åºæä¾›ä¸“ç”¨çš„å†…å­˜ç©ºé—´ï¼Œå¹¶ä¸”ç¦æ­¢åˆ«çš„åº”ç”¨ç¨‹åºè®¿é—®ã€‚<br>è¦åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬å¯ä»¥åˆ›å»ºåº”ç”¨ç¨‹åºä¸“ç”¨çš„æ•°æ®æ®µï¼Œå¹¶åœ¨åº”ç”¨ç¨‹åºè¿è¡ŒæœŸé—´ï¼Œå°†DSå’ŒSSæŒ‡å‘è¯¥æ®µåœ°å€ã€‚<br>è¿™æ¬¡æˆ‘ä»¬è¿˜ä½¿ç”¨äº†ä»¥å¥ç‚¹ï¼ˆ.ï¼‰å¼€å¤´çš„æ ‡ç­¾åï¼Œè¿™æ˜¯ä¸€ç§è¢«ç§°ä¸ºæœ¬åœ°æ ‡ç­¾çš„ç‰¹æ®Šæ ‡ç­¾ã€‚å®ƒåŸºæœ¬ä¸Šå’Œæ™®é€šçš„æ ‡ç­¾åŠŸèƒ½ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºå³ä½¿æ ‡ç­¾åå’Œå…¶ä»–å‡½æ•°ä¸­çš„æ ‡ç­¾é‡å¤ï¼Œç³»ç»Ÿä¹Ÿèƒ½å°†å®ƒä»¬åŒºåˆ†å¼€æ¥ã€‚</p>
<h2 id="5-å¯¹å¼‚å¸¸çš„æ”¯æŒ"><a href="#5-å¯¹å¼‚å¸¸çš„æ”¯æŒ" class="headerlink" title="5.å¯¹å¼‚å¸¸çš„æ”¯æŒ"></a>5.å¯¹å¼‚å¸¸çš„æ”¯æŒ</h2><p>æ¥ä¸‹æ¥æˆ‘ä»¬è¦å®ç°å¼ºåˆ¶ç»“æŸç¨‹åºçš„åŠŸèƒ½ã€‚<br>è¦æƒ³å¼ºåˆ¶ç»“æŸç¨‹åºï¼Œåªè¦åœ¨ä¸­æ–­å·0x0dä¸­æ³¨å†Œä¸€ä¸ªå‡½æ•°å³å¯ã€‚<br>è¿™æ˜¯å› ä¸ºåœ¨x86æ¶æ„è§„èŒƒä¸­ï¼Œå½“åº”ç”¨ç¨‹åºè¯•å›¾ç ´åæ“ä½œç³»ç»Ÿï¼Œæˆ–è€…è¯•å›¾è¿èƒŒæ“ä½œç³»ç»Ÿçš„è®¾ç½®æ—¶ï¼Œå°±ä¼šè‡ªåŠ¨äº§ç”Ÿ0x0dä¸­æ–­ï¼Œå› æ­¤è¯¥ä¸­æ–­ä¹Ÿè¢«ç§°ä¸ºâ€œå¼‚å¸¸â€ã€‚</p>
<h2 id="6-ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ3ï¼‰"><a href="#6-ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ3ï¼‰" class="headerlink" title="6.ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ3ï¼‰"></a>6.ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ3ï¼‰</h2><p>å¯èƒ½å‡ºç°çš„é—®é¢˜ï¼šæ“ä½œç³»ç»Ÿä¼šæŒ‡å®šåº”ç”¨ç¨‹åºçš„DSï¼Œå› æ­¤ç ´åè¡Œä¸ºä¼šå‘ç”Ÿå¼‚å¸¸ï¼Œé‚£ä¹ˆå¦‚æœå¿½ç•¥æ“ä½œç³»ç»ŸæŒ‡å®šçš„DSï¼Œè€Œæ˜¯ç”¨æ±‡ç¼–è¯­è¨€ç›´æ¥å°†æ“ä½œç³»ç»Ÿç”¨çš„æ®µåœ°å€å­˜å…¥DSçš„è¯ï¼Œå°±åˆå¯ä»¥å¹²åäº‹äº†ã€‚</p>
<h2 id="7-ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ4ï¼‰"><a href="#7-ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ4ï¼‰" class="headerlink" title="7.ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ4ï¼‰"></a>7.ä¿æŠ¤æ“ä½œç³»ç»Ÿï¼ˆ4ï¼‰</h2><ul>
<li>æƒ³æ³•ï¼šè®©åº”ç”¨ç¨‹åºæ— æ³•ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„æ®µåœ°å€ã€‚</li>
<li>å…·ä½“åšæ³•ï¼šx86æ¶æ„æœ‰è¿™æ ·çš„åŠŸèƒ½ã€‚<br>åœ¨æ®µå®šä¹‰çš„åœ°æ–¹ï¼Œå¦‚æœå°†è®¿é—®æƒé™åŠ ä¸Š0x60çš„è¯ï¼Œå°±å¯ä»¥å°†æ®µè®¾ç½®ä¸ºåº”ç”¨ç¨‹åºç”¨ã€‚<br>å½“CSä¸­çš„æ®µåœ°å€ä¸ºåº”ç”¨ç¨‹åºç”¨æ®µåœ°å€æ—¶ï¼ŒCPUä¼šè®¤ä¸ºâ€œå½“å‰æ­£åœ¨è¿è¡Œåº”ç”¨ç¨‹åºâ€ï¼Œè¿™æ—¶å¦‚æœå­˜å…¥æ“ä½œç³»ç»Ÿç”¨çš„æ®µåœ°å€å°±ä¼šäº§ç”Ÿå¼‚å¸¸ã€‚  </li>
</ul>
<hr>
<p>åœ¨å¯åŠ¨åº”ç”¨ç¨‹åºçš„æ—¶å€™æˆ‘ä»¬éœ€è¦è®©â€œæ“ä½œç³»ç»Ÿå‘åº”ç”¨ç¨‹åºçš„æ®µæ‰§è¡Œfar-CALLâ€<br>è§£å†³æ–¹æ¡ˆï¼šå¯ä»¥ä½¿ç”¨RETF</p>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>åŸºäºé“¾æ¥å†…å®¹çš„ç¤¾åŒºå‘ç°ç®—æ³•ï¼ˆä¸€ï¼‰</title>
    <url>/201904/%E5%9F%BA%E4%BA%8E%E9%93%BE%E6%8E%A5%E5%86%85%E5%AE%B9%E7%9A%84%E7%A4%BE%E5%8C%BA%E5%8F%91%E7%8E%B0%EF%BC%88%E4%B8%80%EF%BC%89/</url>
    <content><![CDATA[<h1 id="Robust-Detection-of-Link-Communities-in-Large-Social-Network-by-Exploiting-Link-Semantics"><a href="#Robust-Detection-of-Link-Communities-in-Large-Social-Network-by-Exploiting-Link-Semantics" class="headerlink" title="Robust Detection of Link Communities in Large Social Network by Exploiting Link Semantics"></a>Robust Detection of Link Communities in Large Social Network by Exploiting Link Semantics</h1><p><a href="https://www.aaai.org/ocs/index.php/AAAI/AAAI18/paper/viewPaper/17345">Robust Detection of Link Communities in Large Social Network by Exploiting Link Semantics </a></p>
<p>è¿™ç¯‡è®ºæ–‡æ˜¯æˆ‘åŠ å…¥å¼ è€å¸ˆå®éªŒå®¤è¯»çš„ç¬¬ä¸€ç¯‡è®ºæ–‡ï¼Œå¯’å‡é‡Œè‰è‰è¯»äº†ä¸€éï¼Œæ„Ÿå¹äº†è‡ªå·±åƒåœ¾çš„è‹±æ–‡æ°´å¹³ï¼Œä¸Šå‘¨é™¤äº†ä¸Šè¯¾å’Œä½œä¸šåŸºæœ¬æ²¡åšä»€ä¹ˆï¼Œä¸€ç›´åœ¨ç ”è¯»è¿™ç¯‡è®ºæ–‡ã€‚å¾ˆå¹¸è¿çš„æ˜¯ä¸Šå‘¨å…³äºè¿™ç¯‡è®ºæ–‡çš„æ±‡æŠ¥æˆ‘åšçš„éå¸¸ç²¾å½©ï¼Œä¹Ÿä¸æ‰è‡ªå·±ä¸Šå‘¨é‚£ä¹ˆè¾›è‹¦çš„è‚äº†ã€‚  </p>
<p>è¿™ç¯‡åšå®¢ç”¨æ¥è®°å½•è‡ªå·±ç ”è¯»æ—¶å€™çš„æ€è€ƒå’Œæ•´ç†ã€‚  </p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7J9ts.png" alt="1.1"></p>
<p>æ•´ä¸ªè®ºæ–‡çš„æ•´ä½“å†…å®¹æˆ‘å°†ä»å››ä¸ªæ–¹é¢ä»‹ç»ã€‚åˆ†åˆ«æ˜¯ç¤¾åŒºå‘ç°ç®—æ³•çš„èƒŒæ™¯å’Œç°å­˜çš„æ–¹æ³•ã€è®ºæ–‡æå‡ºçš„æ¨¡å‹å’Œæ–¹æ³•ã€è¯•éªŒå’Œç»“è®ºä¸è®¨è®ºã€‚</p>
<span id="more"></span>
<h2 id="1-Background"><a href="#1-Background" class="headerlink" title="1. Background"></a>1. Background</h2><p><img src="https://s2.ax1x.com/2019/04/11/A7GvnS.png" alt="1.2">  </p>
<h3 id="1-1-ç¤¾äº¤ç½‘ç»œçš„å‘å±•"><a href="#1-1-ç¤¾äº¤ç½‘ç»œçš„å‘å±•" class="headerlink" title="1.1 ç¤¾äº¤ç½‘ç»œçš„å‘å±•"></a>1.1 ç¤¾äº¤ç½‘ç»œçš„å‘å±•</h3><ul>
<li>ç¤¾äº¤å¯¹äºä¸–ç•Œå„åœ°å„é¢†åŸŸçš„äººä»¬æ¥è®²éƒ½è¶Šæ¥è¶Šé‡è¦ã€‚éšç€ç¤¾äº¤ç½‘ç»œçš„å‘å±•ï¼Œè¶Šæ¥è¶Šå¤šçš„ä¿¡æ¯å¼€å§‹åœ¨äº’è”ç½‘ä¸­èšé›†ã€‚</li>
<li>å¯¹äºè¿™äº›å¤§æ•°æ®çš„åˆ†æèƒ½å¤Ÿè®©æˆ‘ä»¬æ›´åŠ ç†Ÿæ‚‰ç½‘ç»œçš„æ·±å±‚ç»“æ„ã€äº†è§£ç”¨æˆ·è¡Œä¸ºå’Œæœªæ¥è¶‹åŠ¿ã€‚</li>
<li>ç¤¾äº¤ç½‘ç»œä¸­çš„ä¸€ä¸ªé‡è¦çš„é—®é¢˜ä¾¿æ˜¯ç¤¾åŒºå‘ç°ï¼Œé€šè¿‡ç¤¾åŒºå‘ç°æˆ‘ä»¬èƒ½å¤Ÿä¸ºç”¨æˆ·æä¾›ä¸ªæ€§åŒ–æ¨èå’Œå¼‚å¸¸è¡Œä¸ºçš„è¯†åˆ«ã€‚</li>
<li>æ‰€è°“çš„â€œç¤¾åŒºå‘ç°â€ï¼Œå°±æ˜¯å°†å‡ºç°åœ¨ç¤¾äº¤ç½‘ç»œä¸­çš„ç”¨æˆ·èŠ‚ç‚¹åˆ’åˆ†æˆä¸åŒçš„ç»„åˆ«ã€‚æ¯ä¸ªç»„çš„ç”¨æˆ·ç»“ç‚¹éƒ½æœ‰ç€æŸäº›ç›¸åŒçš„ç‰¹å¾ã€‚</li>
</ul>
<h3 id="1-2-ç°å­˜çš„æ–¹æ³•"><a href="#1-2-ç°å­˜çš„æ–¹æ³•" class="headerlink" title="1.2 ç°å­˜çš„æ–¹æ³•"></a>1.2 ç°å­˜çš„æ–¹æ³•</h3><p><img src="https://s2.ax1x.com/2019/04/11/A7Jipq.png" alt="1.3"></p>
<ul>
<li>æˆ‘ä»¬é€šå¸¸ç”¨ä¸€ä¸ªå›¾æ¥è¡¨ç¤ºç¤¾äº¤ç½‘ç»œã€‚å…¶ä¸­çš„ç‚¹è¡¨ç¤ºç”¨æˆ·ç»“ç‚¹ï¼Œå…¶ä¸­çš„è¾¹è¡¨ç¤ºç”¨æˆ·ä¹‹é—´çš„è”ç³»ã€‚</li>
<li>æœ€åˆäººä»¬ç¤¾åŒºå‘ç°çš„ç®—æ³•æ˜¯æ ¹æ®ç½‘ç»œçš„<font color="FF0000">æ‹“æ‰‘ç»“æ„</font>ï¼Œå³è®©æˆ‘ä»¬åˆ’åˆ†åçš„å„ä¸ªç¤¾åŒºé—´çš„è¾¹çš„æ•°é‡æœ€å°‘ï¼Œç¤¾åŒºå†…éƒ¨ç‚¹ä¹‹é—´çš„è¾¹å°½å¯èƒ½çš„å¤š</li>
<li>ä¹‹åï¼Œç¤¾åŒºå‘ç°çš„ç®—æ³•å¾—åˆ°æ”¹è¿›ï¼Œæˆ‘ä»¬é€šè¿‡èŠ‚ç‚¹å†…å®¹è¿›è¡Œç¤¾åŒºåˆ’åˆ†ï¼Œå³ä½¿å¾—åŒä¸€ä¸ªç¤¾åŒºå†…çš„ç»“ç‚¹å†…å®¹å°½å¯èƒ½å¤šçš„ç›¸ä¼¼ã€‚é€šè¿‡ç»“ç‚¹å†…å®¹è¿›è¡Œç¤¾åŒºå‘ç°èƒ½å¤Ÿå¤§å¤§æå‡æˆ‘ä»¬ç¤¾åŒºå‘ç°çš„æ•ˆç‡ã€‚</li>
<li>åŒæ—¶æˆ‘ä»¬å‘ç°ï¼Œç”¨æˆ·ä¹‹é—´çš„é“¾æ¥ï¼Œå³å›¾ä¸­çš„è¾¹ä¹Ÿå«æœ‰å¤§é‡çš„ä¿¡æ¯ã€‚</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JChn.png" alt="1.4"></p>
<p>è¿™å¼ å›¾å½¢è±¡çš„è¡¨ç¤ºäº†æˆ‘ä»¬çš„æ–¹æ³•å’Œå…¶ä»–æ–¹æ³•çš„åŒºåˆ«ã€‚å…¶ä¸­å³è¾¹çš„å›¾æ˜¯åŸºäºç»“ç‚¹å†…å®¹è¿›è¡Œç¤¾åŒºå‘ç°çš„ç®—æ³•ç¤ºæ„å›¾ï¼Œå·¦è¾¹çš„å›¾æ˜¯æˆ‘ä»¬åŸºäºé“¾æ¥å†…å®¹è¿›è¡Œç¤¾åŒºå‘ç°çš„å›¾ã€‚<br>æˆ‘ä»¬å¯ä»¥çœ‹å‡ºç°æœ‰çš„å…¶ä»–æ–¹æ³•çš„é—®é¢˜ï¼š</p>
<ul>
<li>1.åªè€ƒè™‘äº†èŠ‚ç‚¹å†…å®¹ã€‚è€ƒè™‘èŠ‚ç‚¹å†…å®¹è¿›è¡Œç¤¾åŒºå‘ç°åœ¨æœ‰äº›æ—¶å€™æœ‰å¾ˆé«˜çš„æ•ˆç‡ã€‚ä»¥å¾®åšç”¨æˆ·çš„ç¤¾åŒºå‘ç°ä¸ºä¾‹ï¼Œå½“æˆ‘ä»¬æä¾›çš„å†…å®¹æ˜¯ç”¨æˆ·ç®€ä»‹æ—¶ï¼ŒåŸºäºèŠ‚ç‚¹å†…å®¹è¿›è¡Œç¤¾åŒºå‘ç°æ˜¯å¾ˆå¯ä»¥çš„ã€‚ä½†æ˜¯å½“æˆ‘ä»¬æä¾›çš„å†…å®¹æ˜¯ç”¨æˆ·ä¹‹é—´å‘é€çš„æ¶ˆæ¯æ—¶ï¼Œè¿™å…¶å®æ˜¯ä¸€ç§â€œé“¾æ¥å†…å®¹â€ï¼Œæˆ‘ä»¬éœ€è¦å°†é“¾æ¥å†…å®¹è½¬æ¢æˆèŠ‚ç‚¹å†…å®¹ï¼Œæ¯”å¦‚ç”¨æˆ·Aå‘é€çš„æ‰€æœ‰æ¶ˆæ¯ç®—æˆç”¨æˆ·Açš„èŠ‚ç‚¹å†…å®¹ã€‚è¿™æ—¶å€™åŠ¿å¿…å¯¼è‡´ç¤¾åŒºåˆ’åˆ†çš„ä¸å‡†ç¡®ã€‚</li>
<li>2.å‡è®¾ç½‘ç»œæ‹“æ‰‘ç¤¾åŒºå’Œç»“ç‚¹å†…å®¹ç¤¾åŒºçš„ç”¨æˆ·ç»“ç‚¹æ˜¯ä¸€æ ·çš„ã€‚ä¸¤ä¸ªç”¨æˆ·é—´è”ç³»ç´§å¯†ï¼Œæ„æˆä¸€ä¸ªæ‹“æ‰‘ç¤¾åŒºï¼Œä½†æ˜¯ä»–ä»¬èŠå¤©çš„å†…å®¹å¯èƒ½æ˜¯å¾ˆäº”èŠ±å…«é—¨çš„ï¼Œä¸¤ä¸ªäººå¯èƒ½è¢«åˆ†åˆ°ä¸åŒçš„èŠ‚ç‚¹å†…å®¹ç¤¾åŒºä¸­å»ï¼Œè¿™ä¸ªæ—¶å€™ç°æœ‰çš„æ–¹æ³•ç¤¾åŒºå‘ç°çš„æ•ˆç‡å°±ä¼šä¸‹é™ã€‚</li>
<li>3.æ¯ä¸ªç¤¾åŒºä»…ä»…æœ‰ä¸€ä¸ªè¯é¢˜ã€‚æ¯”å¦‚å³è¾¹çš„å›¾æŠŠMusicå’ŒMoviesæ··åœ¨ä¸€èµ·å½“ä½œä¸€ä¸ªè¯é¢˜ï¼Œè€Œæˆ‘ä»¬çš„æ–¹æ³•ï¼ˆå·¦è¾¹ï¼‰å«æœ‰ä¸¤ä¸ªè¯é¢˜ã€‚</li>
<li>4.ä»…ä»…ç”¨å•ä¸ªè¯æ±‡è¿›è¡Œç¤¾åŒºæ ‡ç­¾ã€‚æœ‰æ—¶å€™æˆ‘ä»¬å¯èƒ½ä¼šä¸çŸ¥æ‰€äº‘ã€‚è€Œæˆ‘ä»¬çš„æ–¹æ³•ç”¨å¥å­è¿›è¡Œæ ‡ç­¾ï¼Œä¾¿äºç†è§£ã€‚</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JF10.png" alt="1.5"></p>
<h2 id="2-The-Model-and-Method"><a href="#2-The-Model-and-Method" class="headerlink" title="2.The Model and Method"></a>2.The Model and Method</h2><h3 id="2-1ç»¼è¿°"><a href="#2-1ç»¼è¿°" class="headerlink" title="2.1ç»¼è¿°"></a>2.1ç»¼è¿°</h3><p>è¯¦è§å›¾ç‰‡  </p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JVnU.png" alt="1.6"></p>
<h3 id="2-2-è¯¦ç»†åˆ†æ"><a href="#2-2-è¯¦ç»†åˆ†æ" class="headerlink" title="2.2 è¯¦ç»†åˆ†æ"></a>2.2 è¯¦ç»†åˆ†æ</h3><p>æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹æˆ‘ä»¬è¿›è¡Œç¤¾åŒºå‘ç°éœ€è¦è€ƒè™‘å“ªä¸€äº›å› ç´ ï¼š</p>
<ul>
<li>æ‹“æ‰‘è§’åº¦ï¼šç»“ç‚¹ã€é“¾æ¥</li>
<li>å†…å®¹è§’åº¦ï¼šå•è¯ã€å¥å­ã€è¯é¢˜</li>
<li>ç¤¾åŒºå’Œè¯é¢˜ç¾¤èš(topic cluster)</li>
</ul>
<h4 id="å˜é‡ä»‹ç»"><a href="#å˜é‡ä»‹ç»" class="headerlink" title="å˜é‡ä»‹ç»"></a>å˜é‡ä»‹ç»</h4><p>è¯¦è§å›¾ç‰‡(éš¾ç†è§£çš„å†…å®¹éƒ½å·²ç»ç”¨ä¸­æ–‡è¿›è¡Œæ³¨é‡Š)  </p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JkcV.md.png" alt="1.7"></p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JZBF.md.png" alt="1.8"></p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7Je74.md.png" alt="1.9"></p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JQ91.md.png" alt="1.10"></p>
<p>æ‰€æœ‰å˜é‡çš„è¯¦ç»†å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤º  </p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JnAJ.png" alt="1.11"></p>
<p>ä¸ºäº†ä¾¿äºç†è§£ï¼Œæˆ‘è‡ªå·±åˆç”»äº†ä¸€ä¸ªå›¾ã€‚</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JGnO.md.png" alt="1.12"></p>
<p>å›¾å·¦åŠéƒ¨åˆ†å°±æ˜¯æ ¹æ®æ‹“æ‰‘ç»“æ„è¿›è¡Œç¤¾åŒºå‘ç°ï¼Œå³åŠéƒ¨åˆ†æ˜¯æ ¹æ®èŠ‚ç‚¹å†…å®¹è¿›è¡Œç¤¾åŒºå‘ç°ã€‚</p>
<p>ç°åœ¨ï¼Œæˆ‘ä»¬çš„æ¨¡å‹å·²ç»å»ºç«‹èµ·æ¥äº†ï¼Œæˆ‘ä»¬çš„ç›®æ ‡ä¸ºä»¥ä¸‹ä¸‰ç‚¹ï¼š</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JKhR.png" alt="1.13"></p>
<h3 id="å…·ä½“ç®—æ³•"><a href="#å…·ä½“ç®—æ³•" class="headerlink" title="å…·ä½“ç®—æ³•"></a>å…·ä½“ç®—æ³•</h3><p>æˆ‘ä»¬ç®—æ³•çš„æ•´ä½“æ€æƒ³æ˜¯è¿™æ ·çš„ï¼šé¦–å…ˆæˆ‘ä»¬æ ¹æ®æŸæ ‡å‡†æŠŠç½‘ç»œä¸­çš„æ‰€æœ‰èŠ‚ç‚¹åˆ’åˆ†åˆ°ä¸åŒçš„ç¤¾åŒºä¸­ï¼ˆE-stepï¼‰ï¼Œç„¶åæˆ‘ä»¬å°†æå–æ¯ä¸ªç¤¾åŒºä¸­çš„å…³é”®è¯ï¼Œæ¥è¿›è¡Œç¤¾åŒºæ ‡æ³¨ã€‚ï¼ˆM-stepï¼‰<br>æˆ‘ä»¬å†æ ¹æ®æ ‡æ³¨è¿›è¡Œæœ‰ç›‘ç£çš„å­¦ä¹ ï¼Œå¯¹ç¤¾åŒºè¿›è¡Œæ›´ç²¾å‡†çš„åˆ’åˆ†ï¼Œä»¥æ­¤æ¥ä¸€ééè¿­ä»£ã€‚  </p>
<p>ä¸‹é¢æˆ‘ä»¬è¿ç”¨äº†æå¤§ä¼¼ç„¶çš„æ€æƒ³è¿›è¡ŒEMç®—æ³•ã€‚<br>E-stepï¼š</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JuN9.md.png" alt="1.14"></p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7J1c6.md.png" alt="1.15"></p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7Ja4A.md.png" alt="1.16"></p>
<p>æˆ‘ä»¬è¿›è¡ŒæœŸæœ›åŒ–çš„å˜é‡æ˜¯pï¼Œpä»£è¡¨ç€é“¾æ¥<i,j>è¢«åˆ†é…åˆ°å“ªä¸ªç¤¾åŒºä¸­ã€‚<br>ç°åœ¨pçš„å–å€¼æ˜¯Jensenä¸ç­‰å¼çš„å–ç­‰æ¡ä»¶ã€‚</p>
<p>M-stepï¼š</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JJBD.png" alt="1.17"></p>
<p>ä¸‹é¢æˆ‘ä»¬è¦æ±‚å¼(3)çš„æœ€å¤§å€¼ï¼Œtauã€ omega_riã€ y_rjéƒ½æ˜¯å¯ä»¥é€šè¿‡ç›´æ¥æ±‚å¯¼æ±‚å‡ºæ¥çš„ã€‚å‰©ä¸‹çš„psaiå’Œfaiçš„æœ€å¤§å€¼æˆ‘ä»¬å†ä¸€æ¬¡é€šè¿‡EMç®—æ³•æ¥æ±‚ã€‚å¼•å…¥å˜é‡på’Œhï¼Œè¿ç”¨JENSENå…¬å¼ï¼Œpå’Œhåœ¨å–ç­‰æ¡ä»¶æ—¶å¼å­å–åˆ°æœ€å¤§å€¼ã€‚</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JYHe.md.png" alt="1.18"></p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7Jw9I.md.png" alt="1.19"></p>
<p>ä¸‹é¢æˆ‘ä»¬ç»™å‡ºæ•´ä¸ªç®—æ³•çš„ä¼ªä»£ç ï¼Œçœ‹æ‡‚è¿™ä¸ªå›¾æ•´ä¸ªç®—æ³•çš„æ€è·¯å°±å·®ä¸å¤šäº†ã€‚</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7Jsu8.png" alt="1.20"></p>
]]></content>
      <categories>
        <category>ç¤¾åŒºå‘ç°</category>
      </categories>
      <tags>
        <tag>ç¤¾åŒºå‘ç°</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºé“¾æ¥å†…å®¹çš„ç¤¾åŒºå‘ç°ç®—æ³•ï¼ˆäºŒï¼‰</title>
    <url>/201904/%E5%9F%BA%E4%BA%8E%E9%93%BE%E6%8E%A5%E5%86%85%E5%AE%B9%E7%9A%84%E7%A4%BE%E5%8C%BA%E5%8F%91%E7%8E%B0%EF%BC%88%E4%BA%8C%EF%BC%89/</url>
    <content><![CDATA[<h1 id="Robust-Detection-of-Link-Communities-in-Large-Social-Network-by-Exploiting-Link-Semantics"><a href="#Robust-Detection-of-Link-Communities-in-Large-Social-Network-by-Exploiting-Link-Semantics" class="headerlink" title="Robust Detection of Link Communities in Large Social Network by Exploiting Link Semantics"></a>Robust Detection of Link Communities in Large Social Network by Exploiting Link Semantics</h1><div class="note primary">è¿™ä¸€éƒ¨åˆ†æ²¡ä»€ä¹ˆéš¾ç‚¹ï¼Œppté‡Œå†™çš„éƒ½å¾ˆæ¸…æ¥šäº†ã€‚ã€‚</div>

<h3 id="ä¸‰ã€è¯•éªŒ"><a href="#ä¸‰ã€è¯•éªŒ" class="headerlink" title="ä¸‰ã€è¯•éªŒ"></a>ä¸‰ã€è¯•éªŒ</h3><h4 id="1-æ•°æ®é›†"><a href="#1-æ•°æ®é›†" class="headerlink" title="1.æ•°æ®é›†"></a>1.æ•°æ®é›†</h4><p>æˆ‘ä»¬é€‰æ‹©äº†ä¸¤ä¸ªæ•°æ®é›†ï¼ŒåŒ…æ‹¬ç¾å›½å®‰ç„¶èƒ½æºå…¬å¸å†…éƒ¨çš„é‚®ä»¶å†…å®¹ï¼ˆå®‰ç„¶å…¬å¸ä¸‘é—»ï¼ŒåŠ å·èƒ½æºå±æœºï¼‰å’ŒRedditæ–°é—»ç½‘ç«™ä¸‰å¤©çš„çš„ä¸‰ä¸ªè®ºå›çš„å†…å®¹ã€‚å¦‚æœç”¨æˆ·Aå¯¹ç”¨æˆ·Bçš„å¸–å­è¿›è¡Œè¯„è®ºï¼Œå°±äº§ç”Ÿäº†ä¸€æ¡ä»Aåˆ°Bçš„é“¾æ¥ï¼Œé“¾æ¥å†…å®¹ä¸ºè¯„è®ºçš„å†…å®¹ã€‚</p>
<span id="more"></span>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JUNd.md.png" alt="2.1"></p>
<p>é‚£ä¹ˆå¦‚ä½•åˆ¤æ–­æˆ‘ä»¬ç¤¾åŒºå‘ç°çš„ç»“æœæ˜¯æ­£ç¡®çš„å‘¢ï¼Ÿ<br>å¯¹äºç¬¬ä¸€ä¸ªæ•°æ®é›†ï¼Œä¼¯å…‹åˆ©å¤§å­¦çš„å­¦ç”Ÿå·²ç»å°†è¿™äº›ç”¨æˆ·èŠ‚ç‚¹åˆ†æˆäº†11ä¸ªç”¨æˆ·ç¤¾åŒºï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†ç¤¾åŒºå‘ç°çš„ç»“æœä¸è¿™åä¸€ä¸ªç¤¾åŒºæ¯”å¯¹ã€‚å¯¹äºç¬¬äºŒä¸ªæ•°æ®é›†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥å°†å‘ç°çš„ç¤¾åŒºå’Œä¸‰ä¸ªè®ºå›å†…å®¹ç›¸æ¯”è¾ƒã€‚</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7J03t.png" alt="2.2"></p>
<h4 id="2-å¯¹æ¯”çš„æ–¹æ³•"><a href="#2-å¯¹æ¯”çš„æ–¹æ³•" class="headerlink" title="2.å¯¹æ¯”çš„æ–¹æ³•"></a>2.å¯¹æ¯”çš„æ–¹æ³•</h4><p>æˆ‘ä»¬é‡‡å–äº†8ç§æœ€å…ˆè¿›çš„ç¤¾åŒºå‘ç°ç®—æ³•ï¼ŒåŒ…æ‹¬åˆ©ç”¨æ‹“æ‰‘ç»“æ„çš„ã€åˆ©ç”¨ç»“ç‚¹å†…å®¹çš„ã€åˆ©ç”¨é“¾æ¥å†…å®¹çš„ã€å¯é‡å çš„ã€ä¸å¯é‡å çš„ï¼ˆå¯é‡å çš„æ„æ€å°±æ˜¯å¯ä»¥å°†ä¸€ä¸ªç”¨æˆ·ç»“ç‚¹æ”¾è¿›å¤šä¸ªç¤¾åŒºé‡Œï¼‰ç­‰ï¼Œå¦‚å›¾ï¼š</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JBgP.png" alt="2.3"></p>
<h4 id="3-æµ‹è¯„å‚æ•°"><a href="#3-æµ‹è¯„å‚æ•°" class="headerlink" title="3.æµ‹è¯„å‚æ•°"></a>3.æµ‹è¯„å‚æ•°</h4><p>F-scoreå’ŒJaccard similarityï¼Œç”¨äºæµ‹è¯„ç›¸ä¼¼åº¦çš„ä¸¤ä¸ªå‚æ•°ï¼Œç»“æœä¸¤ä¸ªå‚æ•°è¶Šå¤§ï¼Œè¯´æ˜ç¤¾åŒºå‘ç°çš„ç»“æœè¶Šå¥½ã€‚</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JgEQ.png" alt="2.4"></p>
<h4 id="4-ç»“æœ"><a href="#4-ç»“æœ" class="headerlink" title="4.ç»“æœ"></a>4.ç»“æœ</h4><p><img src="https://s2.ax1x.com/2019/04/11/A7JDjf.md.png" alt="2.5"></p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7J5vV.png" alt="2.6"></p>
<h4 id="5-ä¸ªä¾‹ç ”ç©¶"><a href="#5-ä¸ªä¾‹ç ”ç©¶" class="headerlink" title="5.ä¸ªä¾‹ç ”ç©¶"></a>5.ä¸ªä¾‹ç ”ç©¶</h4><p>æˆ‘ä»¬é€‰æ‹©äº†Redditç½‘ç«™2012å¹´8æœˆ27å·çš„æ•°æ®é›†è¿›è¡Œåˆ†æï¼Œä¸æˆ‘ä»¬çš„æ–¹æ³•å¯¹æ¯”çš„æ˜¯SCI</p>
<p>SCIæ–¹æ³•çš„ç»“æœå¦‚ä¸‹ï¼š</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JyDS.png" alt="2.7"></p>
<p>æˆ‘ä»¬çš„æ–¹æ³•ï¼š<br><img src="https://s2.ax1x.com/2019/04/17/AxqfbT.jpg" alt="2.8"></p>
<p><img src="https://s2.ax1x.com/2019/04/17/Axq4VU.png" alt="2.9"></p>
<p>æˆ‘ä»¬çš„æ–¹æ³•è¿˜æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå°±æ˜¯å¯ä»¥é€šè¿‡faiå’ŒYæ‰¾åˆ°ç¤¾åŒºçš„è¯äº‘ï¼š</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7JR4s.md.png" alt="2.10"></p>
<p>æˆ‘ä»¬æ–¹æ³•çš„åº”ç”¨å»ºè®®ï¼š</p>
<p><img src="https://s2.ax1x.com/2019/04/11/A7Jh3q.png" alt="2.11"></p>
<h3 id="å››ã€ç»“è®º"><a href="#å››ã€ç»“è®º" class="headerlink" title="å››ã€ç»“è®º"></a>å››ã€ç»“è®º</h3><p><img src="https://s2.ax1x.com/2019/04/11/A7JfCn.md.png" alt="2.12"></p>
<p>è¿™æ˜¯æ–‡ç« çš„æ ‡é¢˜ï¼Œä¸‹é¢æˆ‘ä»¬å¯¹æ ‡é¢˜çš„å…³é”®è¯è¿›è¡Œè®¨è®ºå’Œæ€»ç»“ã€‚<br>Robust:å¥å£®æ€§ã€‚åœ¨ä¼ ç»Ÿçš„æ–¹æ³•ä¸­ï¼Œå½“ç½‘ç»œæ‹“æœ´å’Œè¯é¢˜ç¾¤èšä¸é‡åˆçš„æ—¶å€™ï¼Œæ–¹æ³•çš„æ•ˆç‡å°±ä¼šå˜å¾—å¾ˆä½ï¼Œè€Œæˆ‘ä»¬çš„æ–¹æ³•å°†ç½‘ç»œæ‹“æœ´å’Œè¯é¢˜ç¾¤èšåˆ†å¼€æ¥è®¨è®ºï¼Œå…·æœ‰ä¸€å®šçš„å¥å£®æ€§ã€‚</p>
<p>Detection of Link Communitiesï¼šæœ¬è®ºæ–‡çš„ä¸»è¦å†…å®¹â€”â€”ç¤¾åŒºå‘ç°ã€‚</p>
<p>Exploiting Link Semantics: åŸºäºé“¾æ¥è¯­ä¹‰ã€‚</p>
]]></content>
      <categories>
        <category>ç¤¾åŒºå‘ç°</category>
      </categories>
      <tags>
        <tag>ç¤¾åŒºå‘ç°</tag>
      </tags>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ20ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8820%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY20-API"><a href="#DAY20-API" class="headerlink" title="DAY20_API"></a>DAY20_API</h1><h3 id="1-ç¨‹åºæ•´ç†"><a href="#1-ç¨‹åºæ•´ç†" class="headerlink" title="1.ç¨‹åºæ•´ç†"></a>1.ç¨‹åºæ•´ç†</h3><p>ç›®æ ‡ï¼šå®ç°ç”±åº”ç”¨ç¨‹åºå¯¹æ“ä½œç³»ç»ŸåŠŸèƒ½çš„è°ƒç”¨ï¼ˆå³APIï¼Œä¹Ÿå«ç³»ç»Ÿè°ƒç”¨ï¼‰ã€‚</p>
<h3 id="2-æ˜¾ç¤ºå•ä¸ªå­—ç¬¦çš„API-1"><a href="#2-æ˜¾ç¤ºå•ä¸ªå­—ç¬¦çš„API-1" class="headerlink" title="2.æ˜¾ç¤ºå•ä¸ªå­—ç¬¦çš„API(1)"></a>2.æ˜¾ç¤ºå•ä¸ªå­—ç¬¦çš„API(1)</h3><p>ç›®æ ‡ï¼šæ˜¾ç¤ºå•ä¸ªå­—ç¬¦çš„APIã€‚</p>
<span id="more"></span>
<ul>
<li>é¦–å…ˆæˆ‘ä»¬åšä¸€ä¸ªæµ‹è¯•ç”¨çš„åº”ç”¨ç¨‹åºï¼Œå°†è¦æ˜¾ç¤ºçš„å­—ç¬¦ç¼–ç å­˜å…¥ALå¯„å­˜å™¨ï¼Œç„¶åè°ƒç”¨æ“ä½œç³»<br>ç»Ÿçš„å‡½æ•°ï¼Œå­—ç¬¦å°±æ˜¾ç¤ºå‡ºæ¥äº†ã€‚<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[BITS 32] </span><br><span class="line">    MOV AL,&#x27;A&#x27; </span><br><span class="line">    CALL ï¼ˆcons_putcharçš„åœ°å€ï¼‰</span><br><span class="line">fin: </span><br><span class="line">    HLT </span><br><span class="line">    JMP fin</span><br></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<p>bootpack.mapæ–‡ä»¶<br>è¿™æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€å³å¯ï¼Œå…¶ä¸­åº”è¯¥å¯ä»¥æ‰¾åˆ°è¿™æ ·ä¸€è¡Œï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0x00000BE3 : _asm_cons_putchar</span><br></pre></td></tr></table></figure><br>è¿™å°±æ˜¯_asm_cons_putcharçš„åœ°å€äº†ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å°†åœ°å€å¡«åœ¨åº”ç”¨ç¨‹åºä¸­.</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[BITS 32] </span><br><span class="line">    MOV AL,&#x27;A&#x27; </span><br><span class="line">    CALL 0xbe3 </span><br><span class="line">fin: </span><br><span class="line">    HLT </span><br><span class="line">    JMP fin</span><br></pre></td></tr></table></figure>
<h3 id="3-æ˜¾ç¤ºå•ä¸ªå­—ç¬¦çš„API-2"><a href="#3-æ˜¾ç¤ºå•ä¸ªå­—ç¬¦çš„API-2" class="headerlink" title="3.æ˜¾ç¤ºå•ä¸ªå­—ç¬¦çš„API(2)"></a>3.æ˜¾ç¤ºå•ä¸ªå­—ç¬¦çš„API(2)</h3><ul>
<li>åº”ç”¨ç¨‹åºå¯¹APIæ‰§è¡ŒCALLçš„æ—¶å€™ï¼Œåƒä¸‡ä¸èƒ½å¿˜è®°åŠ ä¸Šæ®µå·ã€‚</li>
</ul>
<h3 id="4-ç»“æŸåº”ç”¨ç¨‹åº"><a href="#4-ç»“æŸåº”ç”¨ç¨‹åº" class="headerlink" title="4.ç»“æŸåº”ç”¨ç¨‹åº"></a>4.ç»“æŸåº”ç”¨ç¨‹åº</h3><ul>
<li>Cè¯­è¨€ä¸­æ²¡æœ‰ç”¨æ¥æ‰§è¡Œfar-CALLçš„å‘½ä»¤ï¼Œæˆ‘ä»¬åªå¥½æ¥åˆ›å»ºä¸€ä¸ªfarcallå‡½æ•°<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">_farcall: ; void farcall(int eip, int cs); </span><br><span class="line">    CALL FAR [ESP+4] ; eip, cs </span><br><span class="line">    RET</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="5-ä¸éšæ“ä½œç³»ç»Ÿç‰ˆæœ¬è€Œæ”¹å˜çš„-API"><a href="#5-ä¸éšæ“ä½œç³»ç»Ÿç‰ˆæœ¬è€Œæ”¹å˜çš„-API" class="headerlink" title="5.ä¸éšæ“ä½œç³»ç»Ÿç‰ˆæœ¬è€Œæ”¹å˜çš„ API"></a>5.ä¸éšæ“ä½œç³»ç»Ÿç‰ˆæœ¬è€Œæ”¹å˜çš„ API</h3><h3 id="6-ä¸ºåº”ç”¨ç¨‹åºè‡ªç”±å‘½å"><a href="#6-ä¸ºåº”ç”¨ç¨‹åºè‡ªç”±å‘½å" class="headerlink" title="6.ä¸ºåº”ç”¨ç¨‹åºè‡ªç”±å‘½å"></a>6.ä¸ºåº”ç”¨ç¨‹åºè‡ªç”±å‘½å</h3><ul>
<li>ç›®æ ‡ï¼šè®©ç³»ç»Ÿæ”¯æŒå…¶ä»–åº”ç”¨ç¨‹åºå<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">cons_runcmd</span><span class="params">(<span class="type">char</span> *cmdline, <span class="keyword">struct</span> CONSOLE *cons, <span class="type">int</span> *fat, <span class="type">unsigned</span> <span class="type">int</span> memtotal)</span> </span><br><span class="line">&#123; </span><br><span class="line">     <span class="keyword">if</span> (<span class="built_in">strcmp</span>(cmdline, <span class="string">&quot;mem&quot;</span>) == <span class="number">0</span>) &#123; </span><br><span class="line">        cmd_mem(cons, memtotal); </span><br><span class="line">     &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">strcmp</span>(cmdline, <span class="string">&quot;cls&quot;</span>) == <span class="number">0</span>) &#123; </span><br><span class="line">        cmd_cls(cons); </span><br><span class="line">     &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">strcmp</span>(cmdline, <span class="string">&quot;dir&quot;</span>) == <span class="number">0</span>) &#123; </span><br><span class="line">        cmd_dir(cons); </span><br><span class="line">     &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">strncmp</span>(cmdline, <span class="string">&quot;type &quot;</span>, <span class="number">5</span>) == <span class="number">0</span>) &#123; </span><br><span class="line">        cmd_type(cons, fat, cmdline); </span><br><span class="line">     &#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmdline[<span class="number">0</span>] != <span class="number">0</span>) &#123; <span class="comment">/*ä»æ­¤å¼€å§‹*/</span> </span><br><span class="line">     <span class="keyword">if</span> (cmd_app(cons, fat, cmdline) == <span class="number">0</span>) &#123; </span><br><span class="line">         <span class="comment">/*ä¸æ˜¯å‘½ä»¤ï¼Œä¸æ˜¯åº”ç”¨ç¨‹åºï¼Œä¹Ÿä¸æ˜¯ç©ºè¡Œ*/</span> </span><br><span class="line">         putfonts8_asc_sht(cons-&gt;sht, <span class="number">8</span>, cons-&gt;cur_y, COL8_FFFFFF, COL8_000000, <span class="string">&quot;Bad command.&quot;</span>, </span><br><span class="line">         <span class="number">12</span>); </span><br><span class="line">         cons_newline(cons); </span><br><span class="line">         cons_newline(cons); </span><br><span class="line">         &#125; </span><br><span class="line">     &#125; <span class="comment">/*åˆ°æ­¤ç»“æŸ */</span> </span><br><span class="line">     <span class="keyword">return</span>; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="7-å½“å¿ƒå¯„å­˜å™¨"><a href="#7-å½“å¿ƒå¯„å­˜å™¨" class="headerlink" title="7.å½“å¿ƒå¯„å­˜å™¨"></a>7.å½“å¿ƒå¯„å­˜å™¨</h3><ul>
<li>å‘½ååªæ˜¾ç¤ºä¸€ä¸ªh</li>
<li>ç»™_asm_cons_putcharæ·»ä¸Š2è¡Œä»£ç ï¼Œå°±æ˜¯PUSHADå’ŒPOPADã€‚</li>
</ul>
<h3 id="8-ç”¨APIæ˜¾ç¤ºå­—ç¬¦"><a href="#8-ç”¨APIæ˜¾ç¤ºå­—ç¬¦" class="headerlink" title="8.ç”¨APIæ˜¾ç¤ºå­—ç¬¦"></a>8.ç”¨APIæ˜¾ç¤ºå­—ç¬¦</h3><ul>
<li>ä»å®é™…çš„åº”ç”¨ç¨‹åºå¼€å‘è§’åº¦æ¥è¯´ï¼Œèƒ½æ˜¾ç¤ºå­—ç¬¦ä¸²çš„APIè¿œæ¯”åªèƒ½æ˜¾ç¤ºå•ä¸ªå­—ç¬¦çš„APIè¦æ¥çš„æ–¹ä¾¿ï¼Œå› ä¸ºä¸€æ¬¡æ˜¾ç¤ºä¸€ä¸²å­—ç¬¦çš„æƒ…å†µæ¯”ä¸€æ¬¡åªæ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦çš„æƒ…å†µå¤šå¾—å¤šã€‚</li>
<li>ä¸€èˆ¬æœ‰ä¸¤ç§æ–¹å¼ï¼š<ul>
<li>ç§æ˜¯æ˜¾ç¤ºä¸€ä¸²å­—ç¬¦ï¼Œé‡åˆ°å­—ç¬¦ç¼–ç 0åˆ™ç»“æŸï¼›</li>
<li>å…ˆæŒ‡å®šå¥½è¦æ˜¾ç¤ºçš„å­—ç¬¦ä¸²çš„é•¿åº¦å†æ˜¾ç¤ºã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">åŠŸèƒ½å· 1â€¦â€¦æ˜¾ç¤ºå•ä¸ªå­—ç¬¦ï¼ˆAL = å­—ç¬¦ç¼–ç ï¼‰</span><br><span class="line">åŠŸèƒ½å· 2â€¦â€¦æ˜¾ç¤ºå­—ç¬¦ä¸² 0ï¼ˆEBX = å­—ç¬¦ä¸²åœ°å€ï¼‰</span><br><span class="line">åŠŸèƒ½å· 3â€¦â€¦æ˜¾ç¤ºå­—ç¬¦ä¸² 1ï¼ˆEBX = å­—ç¬¦ä¸²åœ°å€ï¼ŒECX = å­—ç¬¦ä¸²é•¿åº¦ï¼‰</span><br></pre></td></tr></table></figure>
<ul>
<li>å°†_asm_cons_putcharæ”¹å†™æˆä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">_asm_hrb_api:</span><br><span class="line">    STI</span><br><span class="line">    PUSHAD;</span><br><span class="line">    PUSHAD;</span><br><span class="line">    CALL _hrb_api</span><br><span class="line">    ADD ESP,32</span><br><span class="line">    POPAD</span><br><span class="line">    IRETD</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ19ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8819%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY19-åº”ç”¨ç¨‹åº"><a href="#DAY19-åº”ç”¨ç¨‹åº" class="headerlink" title="DAY19_åº”ç”¨ç¨‹åº"></a>DAY19_åº”ç”¨ç¨‹åº</h1><h3 id="1-typeå‘½ä»¤"><a href="#1-typeå‘½ä»¤" class="headerlink" title="1.typeå‘½ä»¤"></a>1.typeå‘½ä»¤</h3><ul>
<li>åœ¨Windowsçš„å‘½ä»¤è¡Œä¸­ï¼Œæœ‰ä¸€ä¸ªå«åštypeçš„å‘½ä»¤ï¼Œè¾“å…¥â€œtype æ–‡ä»¶åâ€å°±ä¼šæ˜¾ç¤ºå‡ºæ–‡ä»¶çš„å†…å®¹ã€‚</li>
</ul>
<span id="more"></span>
<hr>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ç£ç›˜æ˜ åƒä¸­çš„åœ°å€ = clustno * 512 + 0x003e00</span><br></pre></td></tr></table></figure>
<hr>
<ul>
<li>å°†s[0ï½10]è¿™11ä¸ªå­—èŠ‚ç”¨ç©ºæ ¼çš„å­—ç¬¦ç¼–ç å¡«å……ï¼Œç„¶åè¯»å–cmdline[5ï½]å¹¶å¤åˆ¶åˆ°s[0ï½]ï¼Œåœ¨å¤åˆ¶çš„åŒæ—¶ï¼Œå°†å…¶ä¸­çš„å°å†™å­—æ¯è½¬æ¢ä¸ºå¤§å†™å­—æ¯ã€‚éšåï¼Œå½“é‡åˆ°å¥ç‚¹æ—¶ï¼Œåˆ™å¯ä»¥æ–­å®šæ¥ä¸‹æ¥çš„éƒ¨åˆ†ä¸ºæ‰©å±•åï¼Œäºæ˜¯å°†å¤åˆ¶çš„ç›®æ ‡æ”¹ä¸ºs[8ï½]ã€‚ç»è¿‡è¿™æ ·çš„è½¬æ¢ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†å’Œç£ç›˜å†…æ ¼å¼ç›¸åŒçš„æ–‡ä»¶åã€‚</li>
<li>â€œå¯»æ‰¾æ–‡ä»¶â€è¿™ä¸€æ®µä¸­ï¼Œæˆ‘ä»¬åœ¨ç£ç›˜ä¸­å¯»æ‰¾ä¸æ‰€è¾“å…¥çš„æ–‡ä»¶åç›¸ç¬¦çš„æ–‡ä»¶ã€‚å¦‚æœæˆåŠŸæ‰¾åˆ°æŒ‡<br>å®šæ–‡ä»¶ï¼Œåˆ™ç”¨breakè·³å‡ºforå¾ªç¯ï¼›å¦‚æœæ‰¾ä¸åˆ°ï¼Œåˆ™ä¼šåœ¨xåˆ°è¾¾224æˆ–è€…finfo[x].name[0]ä¸º0x00æ—¶ç»“æŸå¾ªç¯ã€‚</li>
</ul>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/* typeå‘½ä»¤*/</span> </span><br><span class="line"> <span class="comment">/*å‡†å¤‡æ–‡ä»¶å*/</span> </span><br><span class="line"> <span class="keyword">for</span> (y = <span class="number">0</span>; y &lt; <span class="number">11</span>; y++) &#123; </span><br><span class="line">    s[y] = <span class="string">&#x27; &#x27;</span>; </span><br><span class="line"> &#125; </span><br><span class="line"> y = <span class="number">0</span>; </span><br><span class="line"> <span class="keyword">for</span> (x = <span class="number">5</span>; y &lt; <span class="number">11</span> &amp;&amp; cmdline[x] != <span class="number">0</span>; x++) &#123; </span><br><span class="line">    <span class="keyword">if</span> (cmdline[x] == <span class="string">&#x27;.&#x27;</span> &amp;&amp; y &lt;= <span class="number">8</span>) &#123; </span><br><span class="line">    y = <span class="number">8</span>; </span><br><span class="line"> &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">    s[y] = cmdline[x]; </span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&#x27;a&#x27;</span> &lt;= s[y] &amp;&amp; s[y] &lt;= <span class="string">&#x27;z&#x27;</span>) &#123; </span><br><span class="line">        <span class="comment">/*å°†å°å†™å­—æ¯è½¬æ¢æˆå¤§å†™å­—æ¯ */</span> </span><br><span class="line">        s[y] -= <span class="number">0x20</span>; </span><br><span class="line">    &#125; </span><br><span class="line">    y++; </span><br><span class="line">    &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="comment">/*å¯»æ‰¾æ–‡ä»¶*/</span> </span><br><span class="line"> <span class="keyword">for</span> (x = <span class="number">0</span>; x &lt; <span class="number">224</span>; ) &#123; </span><br><span class="line">    <span class="keyword">if</span> (finfo[x].name[<span class="number">0</span>] == <span class="number">0x00</span>) &#123; </span><br><span class="line">    <span class="keyword">break</span>; </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="keyword">if</span> ((finfo[x].type &amp; <span class="number">0x18</span>) == <span class="number">0</span>) &#123; </span><br><span class="line">    <span class="keyword">for</span> (y = <span class="number">0</span>; y &lt; <span class="number">11</span>; y++) &#123; </span><br><span class="line">    <span class="keyword">if</span> (finfo[x].name[y] != s[y]) &#123; </span><br><span class="line">        <span class="keyword">goto</span> type_next_file; </span><br><span class="line">    &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="keyword">break</span>; <span class="comment">/*æ‰¾åˆ°æ–‡ä»¶*/</span> </span><br><span class="line"> &#125; </span><br><span class="line"> type_next_file: </span><br><span class="line"> x++; </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="keyword">if</span> (x &lt; <span class="number">224</span> &amp;&amp; finfo[x].name[<span class="number">0</span>] != <span class="number">0x00</span>) &#123; </span><br><span class="line">    <span class="comment">/*æ‰¾åˆ°æ–‡ä»¶çš„æƒ…å†µ*/</span> </span><br><span class="line">    y = finfo[x].size;</span><br><span class="line">    p = (<span class="type">char</span> *) (finfo[x].clustno * <span class="number">512</span> + <span class="number">0x003e00</span> + ADR_DISKIMG); </span><br><span class="line">    cursor_x = <span class="number">8</span>; </span><br><span class="line"> <span class="keyword">for</span> (x = <span class="number">0</span>; x &lt; y; x++) &#123; </span><br><span class="line">    <span class="comment">/*é€å­—è¾“å‡º*/</span> </span><br><span class="line">    s[<span class="number">0</span>] = p[x]; </span><br><span class="line">    s[<span class="number">1</span>] = <span class="number">0</span>; </span><br><span class="line">    putfonts8_asc_sht(sheet, cursor_x, cursor_y, COL8_FFFFFF, COL8_000000, s, <span class="number">1</span>); </span><br><span class="line">     cursor_x += <span class="number">8</span>; </span><br><span class="line">    <span class="keyword">if</span> (cursor_x == <span class="number">8</span> + <span class="number">240</span>) &#123; <span class="comment">/*åˆ°è¾¾æœ€å³ç«¯åæ¢è¡Œ*/</span> </span><br><span class="line">    cursor_x = <span class="number">8</span>; </span><br><span class="line">    cursor_y = cons_newline(cursor_y, sheet); </span><br><span class="line">    &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> &#125; <span class="keyword">else</span> &#123; </span><br><span class="line"> <span class="comment">/*æ²¡æœ‰æ‰¾åˆ°æ–‡ä»¶çš„æƒ…å†µ*/</span> </span><br><span class="line"> putfonts8_asc_sht(sheet, <span class="number">8</span>, cursor_y, COL8_FFFFFF, COL8_000000, <span class="string">&quot;File </span></span><br><span class="line"><span class="string"> not found.&quot;</span>, <span class="number">15</span>); </span><br><span class="line"> cursor_y = cons_newline(cursor_y, sheet); </span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-typeå‘½ä»¤æ”¹è‰¯"><a href="#2-typeå‘½ä»¤æ”¹è‰¯" class="headerlink" title="2.typeå‘½ä»¤æ”¹è‰¯"></a>2.typeå‘½ä»¤æ”¹è‰¯</h3><ul>
<li><p>ç›®æ ‡ï¼šå®ç°å¯¹æ¢è¡Œçš„æ”¯æŒã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0x09â€¦â€¦åˆ¶è¡¨ç¬¦ï¼šæ˜¾ç¤ºç©ºæ ¼ç›´åˆ° x è¢« 4 æ•´é™¤ä¸ºæ­¢</span><br><span class="line">0x0aâ€¦â€¦æ¢è¡Œç¬¦ï¼šæ¢è¡Œ</span><br><span class="line">0x0dâ€¦â€¦å›è½¦ç¬¦ï¼šå¿½ç•¥</span><br></pre></td></tr></table></figure>
</li>
<li><p>æˆ‘ä»¬è¿™é‡Œæ‰€è¯´çš„åˆ¶è¡¨ç¬¦ä¹Ÿç§°ä¸ºæ°´å¹³åˆ¶è¡¨ç¬¦ï¼ˆhorizonal tabï¼‰ï¼Œå› ä¸ºå¯¹é½å­—ç¬¦ä½ç½®æ˜¯åœ¨æ°´å¹³æ–¹å‘ä¸Šç§»åŠ¨ã€‚ç›¸å¯¹çš„ï¼Œè¿˜æœ‰ä¸€ç§å‚ç›´åˆ¶è¡¨ç¬¦ï¼ˆvertical tabï¼‰</p>
</li>
<li>åœ¨Windowsä¸­æ¢è¡Œçš„å­—ç¬¦ç¼–ç ä¸ºâ€œ0x0d 0x0aâ€ä¸¤ä¸ªå­—èŠ‚ï¼Œè€ŒLinuxä¸­åªæœ‰â€œ0x0aâ€ä¸€ä¸ªå­—èŠ‚ã€‚<ul>
<li>å­—ç¬¦ç¼–ç 0x0aåŸæœ¬ä»£è¡¨æŠ˜è¡Œï¼ˆline feedï¼‰çš„æ„æ€ï¼Œå³åªæ˜¯ç§»åŠ¨åˆ°ä¸‹ä¸€è¡Œã€‚</li>
<li>0x0dï¼Œä¹Ÿå°±æ˜¯å›è½¦ç¬¦çš„æ–‡å­—ç¼–ç ï¼Œä»£è¡¨â€œè®©æ‰“å°å¤´ï¼ˆæˆ–è€…æ‰“å­—æœºçš„è¾Šç­’ï¼‰å›åˆ°è¡Œé¦–â€çš„æ„æ€ï¼Œå› æ­¤æ‰è¢«ç§°ä¸ºâ€œå›è½¦â€ï¼ˆcarriage returnï¼‰ã€‚</li>
</ul>
</li>
</ul>
<h3 id="3-å¯¹FATçš„æ”¯æŒ"><a href="#3-å¯¹FATçš„æ”¯æŒ" class="headerlink" title="3.å¯¹FATçš„æ”¯æŒ"></a>3.å¯¹FATçš„æ”¯æŒ</h3><ul>
<li>ç°åœ¨çš„typeå‘½ä»¤ï¼Œè‚¯å®šå¯ä»¥æ­£ç¡®æ˜¾ç¤ºæ–‡ä»¶å¼€å¤´çš„512ä¸ªå­—èŠ‚çš„å†…å®¹ï¼Œä½†æ˜¯å¦‚æœé‡åˆ°å¤§äº512ä¸ªå­—èŠ‚çš„æ–‡ä»¶ï¼Œä¸­é—´å¯èƒ½å°±ä¼šçªç„¶æ˜¾ç¤ºå‡ºå…¶ä»–æ–‡ä»¶çš„å†…å®¹ã€‚</li>
<li>å¯¹äºæ–‡ä»¶çš„ä¸‹ä¸€æ®µå­˜æ”¾åœ¨å“ªé‡Œï¼Œåœ¨ç£ç›˜ä¸­æ˜¯æœ‰è®°å½•çš„ï¼Œæˆ‘ä»¬åªè¦åˆ†æè¿™ä¸ªè®°å½•ï¼Œå°±å¯ä»¥æ­£ç¡®è¯»å–æ–‡ä»¶å†…å®¹äº†ã€‚</li>
<li>å®ƒä½äºä»0æŸ±é¢ã€0ç£å¤´ã€2æ‰‡åŒºå¼€å§‹çš„9ä¸ªæ‰‡åŒºä¸­ï¼Œåœ¨ç£ç›˜æ˜ åƒä¸­ç›¸å½“äº0x000200ï½0x0013ffã€‚è¿™ä¸ªè®°å½•è¢«ç§°ä¸ºFATï¼Œæ˜¯â€œfile allocation tableâ€çš„ç¼©å†™ï¼Œç¿»è¯‘è¿‡æ¥å«ä½œâ€œæ–‡ä»¶åˆ†é…è¡¨â€ï¼ˆå³è®°å½•æ–‡ä»¶åœ¨ç£ç›˜ä¸­å­˜æ”¾ä½ç½®çš„è¡¨ï¼‰ã€‚</li>
</ul>
<h3 id="4-ä»£ç æ•´ç†"><a href="#4-ä»£ç æ•´ç†" class="headerlink" title="4.ä»£ç æ•´ç†"></a>4.ä»£ç æ•´ç†</h3><ul>
<li>çª—å£ç›¸å…³å‡½æ•° â†’ window.c </li>
<li>å‘½ä»¤è¡Œçª—å£ç›¸å…³å‡½æ•° â†’ console.c </li>
<li>æ–‡ä»¶ç›¸å…³å‡½æ•° â†’ file.c</li>
</ul>
<h3 id="5-ç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åº"><a href="#5-ç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åº" class="headerlink" title="5.ç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åº"></a>5.ç¬¬ä¸€ä¸ªåº”ç”¨ç¨‹åº</h3><h2 id=""><a href="#" class="headerlink" title=""></a><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">[BITS 32] </span><br><span class="line">fin: </span><br><span class="line"> HLT </span><br><span class="line"> JMP fin</span><br></pre></td></tr></table></figure></h2><ul>
<li>åƒtypeå‘½ä»¤ä¸€æ ·ï¼Œæˆ‘ä»¬ç”¨file_loadfileå°†æ–‡ä»¶çš„å†…å®¹è¯»åˆ°å†…å­˜ä¸­</li>
<li>åº”ç”¨ç¨‹åºä¸çŸ¥é“è‡ªå·±è¢«è¯»åˆ°å“ªä¸ªå†…å­˜åœ°å€ï¼Œè¿™é‡Œæš‚ä¸”ç”±ORG0æ¥ç”Ÿæˆã€‚å› æ­¤ï¼Œä¸ºäº†åº”ç”¨ç¨‹åºèƒ½å¤Ÿé¡ºåˆ©è¿è¡Œï¼Œæˆ‘ä»¬éœ€è¦ä¸ºå…¶åˆ›å»ºä¸€ä¸ªå†…å­˜æ®µã€‚</li>
<li>æ®µåˆ›å»ºå¥½ä¹‹åï¼Œæ¥ä¸‹æ¥åªè¦gotoåˆ°è¯¥æ®µä¸­çš„ç¨‹åºï¼Œç¨‹åºåº”è¯¥å°±ä¼šå¼€å§‹è¿è¡Œäº†ã€‚è¦gotoåˆ°å…¶ä»–çš„å†…å­˜æ®µï¼Œåœ¨æ±‡ç¼–è¯­è¨€ä¸­ç”¨farjmpæŒ‡ä»¤ã€‚<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> (y = <span class="number">0</span>; y &lt; <span class="number">11</span>; y++) &#123; </span><br><span class="line">     s[y] = <span class="string">&#x27; &#x27;</span>; </span><br><span class="line"> &#125; </span><br><span class="line"> s[<span class="number">0</span>] = <span class="string">&#x27;H&#x27;</span>; </span><br><span class="line"> s[<span class="number">1</span>] = <span class="string">&#x27;L&#x27;</span>; </span><br><span class="line"> s[<span class="number">2</span>] = <span class="string">&#x27;T&#x27;</span>; </span><br><span class="line"> s[<span class="number">8</span>] = <span class="string">&#x27;H&#x27;</span>; </span><br><span class="line"> s[<span class="number">9</span>] = <span class="string">&#x27;R&#x27;</span>; </span><br><span class="line"> s[<span class="number">10</span>] = <span class="string">&#x27;B&#x27;</span>; </span><br><span class="line"> <span class="keyword">for</span> (x = <span class="number">0</span>; x &lt; <span class="number">224</span>; ) &#123; </span><br><span class="line">     <span class="keyword">if</span> (finfo[x].name[<span class="number">0</span>] == <span class="number">0x00</span>) &#123; </span><br><span class="line">     <span class="keyword">break</span>; </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="keyword">if</span> ((finfo[x].type &amp; <span class="number">0x18</span>) == <span class="number">0</span>) &#123; </span><br><span class="line">     <span class="keyword">for</span> (y = <span class="number">0</span>; y &lt; <span class="number">11</span>; y++) &#123; </span><br><span class="line">         <span class="keyword">if</span> (finfo[x].name[y] != s[y]) &#123; </span><br><span class="line">         <span class="keyword">goto</span> hlt_next_file; </span><br><span class="line">         &#125; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="keyword">break</span>; <span class="comment">/*æ‰¾åˆ°æ–‡ä»¶*/</span> </span><br><span class="line">     &#125; </span><br><span class="line">     hlt_next_file: </span><br><span class="line">     x++; </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="keyword">if</span> (x &lt; <span class="number">224</span> &amp;&amp; finfo[x].name[<span class="number">0</span>] != <span class="number">0x00</span>) &#123; </span><br><span class="line">     <span class="comment">/*æ‰¾åˆ°æ–‡ä»¶çš„æƒ…å†µ*/</span> </span><br><span class="line">     p = (<span class="type">char</span> *) memman_alloc_4k(memman, finfo[x].size); </span><br><span class="line">     file_loadfile(finfo[x].clustno, finfo[x].size, p, fat, (<span class="type">char</span> *) </span><br><span class="line">     (ADR_DISKIMG + <span class="number">0x003e00</span>)); </span><br><span class="line">     set_segmdesc(gdt + <span class="number">1003</span>, finfo[x].size - <span class="number">1</span>, (<span class="type">int</span>) p, AR_CODE32_ER); </span><br><span class="line">     farjmp(<span class="number">0</span>, <span class="number">1003</span> * <span class="number">8</span>); </span><br><span class="line">     memman_free_4k(memman, (<span class="type">int</span>) p, finfo[x].size); </span><br><span class="line"> &#125; <span class="keyword">else</span> &#123; </span><br><span class="line"> <span class="comment">/*æ²¡æœ‰æ‰¾åˆ°æ–‡ä»¶çš„æƒ…å†µ*/</span> </span><br><span class="line">     putfonts8_asc_sht(sheet, <span class="number">8</span>, cursor_y, COL8_FFFFFF, COL8_000000, <span class="string">&quot;File </span></span><br><span class="line"><span class="string">     not found.&quot;</span>, <span class="number">15</span>); </span><br><span class="line">     cursor_y = cons_newline(cursor_y, sheet); </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="comment">/*åˆ°æ­¤ç»“æŸ*/</span></span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>å¾ªç¯èµ›èµ›ç¨‹å®‰æ’</title>
    <url>/201904/%E5%BE%AA%E7%8E%AF%E8%B5%9B%E8%B5%9B%E7%A8%8B%E5%AE%89%E6%8E%92/</url>
    <content><![CDATA[<h2 id="ä¸€ã€é—®é¢˜é‡è¿°"><a href="#ä¸€ã€é—®é¢˜é‡è¿°" class="headerlink" title="ä¸€ã€é—®é¢˜é‡è¿°"></a>ä¸€ã€é—®é¢˜é‡è¿°</h2><p>è®¾æœ‰nä¸ªè¿åŠ¨å‘˜è¦è¿›è¡Œç½‘çƒå¾ªç¯èµ›ã€‚è®¾è®¡ä¸€ä¸ªæ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„æ¯”èµ›æ—¥ç¨‹è¡¨ï¼š</p>
<ul>
<li>æ¯ä¸ªé€‰æ‰‹å¿…é¡»ä¸å…¶ä»–n-1ä¸ªé€‰æ‰‹å„èµ›ä¸€æ¬¡ï¼›</li>
<li>æ¯ä¸ªé€‰æ‰‹ä¸€å¤©åªèƒ½èµ›ä¸€æ¬¡ï¼›</li>
<li>å½“næ˜¯å¶æ•°æ—¶ï¼Œå¾ªç¯èµ›è¿›è¡Œn-1å¤©ã€‚</li>
<li>å½“næ˜¯å¥‡æ•°æ—¶ï¼Œå¾ªç¯èµ›è¿›è¡Œnå¤©ã€‚</li>
</ul>
<span id="more"></span>
<h2 id="äºŒã€é—®é¢˜åˆ†æ"><a href="#äºŒã€é—®é¢˜åˆ†æ" class="headerlink" title="äºŒã€é—®é¢˜åˆ†æ"></a>äºŒã€é—®é¢˜åˆ†æ</h2><h4 id="1-å½“næ˜¯2çš„æ¬¡å¹‚æ—¶"><a href="#1-å½“næ˜¯2çš„æ¬¡å¹‚æ—¶" class="headerlink" title="1.å½“næ˜¯2çš„æ¬¡å¹‚æ—¶"></a>1.å½“næ˜¯2çš„æ¬¡å¹‚æ—¶</h4><p> $ n=2^k,k=1,2,3,4â€¦ $æ—¶ï¼Œæ­¤æ—¶é—®é¢˜æ¯”è¾ƒç®€å•ã€‚æŒ‰ç…§==åˆ†æ²»==çš„ç­–ç•¥ï¼Œå¯å°†æ‰€æœ‰å‚èµ›çš„é€‰æ‰‹åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œ$ nï¼2k $ä¸ªé€‰æ‰‹çš„æ¯”èµ›æ—¥ç¨‹è¡¨å¯ä»¥é€šè¿‡ä¸º $ n/2ï¼2k-1 $ ä¸ªé€‰æ‰‹è®¾è®¡çš„æ¯”èµ›æ—¥ç¨‹è¡¨æ¥å†³å®šã€‚é€’å½’åœ°æ‰§è¡Œè¿™ç§åˆ†å‰²ï¼Œç›´åˆ°åªå‰©ä¸‹ 2 ä¸ªé€‰æ‰‹æ—¶ï¼Œæ¯”èµ›æ—¥ç¨‹è¡¨çš„åˆ¶å®šå°±å˜å¾—å¾ˆç®€å•ï¼šåªè¦è®©è¿™ 2 ä¸ªé€‰æ‰‹è¿›è¡Œæ¯”èµ›å°±å¯ä»¥äº†ã€‚å†é€æ­¥åˆå¹¶å­é—®é¢˜çš„è§£å³å¯å¾—åˆ°åŸé—®é¢˜çš„è§£ã€‚<br> ç¤ºæ„å›¾å¦‚ä¸‹ï¼š</p>
<p><img src="https://s2.ax1x.com/2019/04/13/ALTauj.jpg" alt="1.1"></p>
<p>æ­¤æ—¶çš„åˆ†æ²»ç®—æ³•å¦‚ä¸‹æ‰€ç¤º:<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void tourna(int n) //åŸºæœ¬çš„åˆ†æ²»ç®—æ³•</span><br><span class="line">&#123;</span><br><span class="line">    if(n==1)&#123;a[0][0]=1;return;&#125;</span><br><span class="line">    tourna(n/2); //åˆ†æ²»</span><br><span class="line">    copy(n); //åˆå¹¶</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void copy(int n)</span><br><span class="line">&#123;</span><br><span class="line">    int m=n/2;</span><br><span class="line">    for(int i=0;i&lt;m;i++)</span><br><span class="line">    for(int j=0;j&lt;m;j++)&#123;</span><br><span class="line">        //ç”±å·¦ä¸Šè§’å°å—çš„å€¼ç®—å‡ºå¯¹åº”çš„å³ä¸Šè§’å°å—çš„å€¼</span><br><span class="line">        a[i][j+m]=a[i][j]+m;</span><br><span class="line">        //ç”±å³ä¸Šè§’å°å—çš„å€¼ç®—å‡ºå¯¹åº”çš„å·¦ä¸‹è§’å°å—çš„å€¼</span><br><span class="line">        a[i+m][j]=a[i][j+m];</span><br><span class="line">        //ç”±å·¦ä¸Šè§’å°å—çš„å€¼ç®—å‡ºå¯¹åº”çš„å³ä¸‹è§’å°å—çš„å€¼</span><br><span class="line">        a[i+m][j+m]=a[i][j];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>æˆ‘ä»¬ç”¨a[i][j]è¡¨ç¤ºç¬¬iæ”¯é˜Ÿä¼åœ¨ç¬¬jå¤©é‡åˆ°çš„å¯¹æ‰‹ã€‚</p>
<h4 id="2-å½“nä¸æ˜¯2çš„æ¬¡å¹‚æ—¶"><a href="#2-å½“nä¸æ˜¯2çš„æ¬¡å¹‚æ—¶" class="headerlink" title="2.å½“nä¸æ˜¯2çš„æ¬¡å¹‚æ—¶"></a>2.å½“nä¸æ˜¯2çš„æ¬¡å¹‚æ—¶</h4><p>ä¸‹é¢è®¨è®ºå½“nä¸æ˜¯2çš„æ¬¡å¹‚æ—¶çš„æƒ…å†µã€‚<br>æˆ‘ä»¬å‘ç°å½“nä¸ºå¥‡æ•°æ—¶ï¼Œæ¯å¤©å¿…å®šæœ‰ä¸€æ”¯é˜Ÿä¼è½®ç©ºã€‚æ­¤æ—¶æˆ‘ä»¬==å‡å®šè¿˜æœ‰ä¸€åªä¸å­˜åœ¨çš„é˜Ÿä¼ä¸è½®ç©ºçš„é˜Ÿä¼æ¯”èµ›==ï¼Œå°†æˆ‘ä»¬çš„å¥‡å¶æ•°æƒ…å†µçš„æ¨¡å‹ç»Ÿä¸€ã€‚æ­¤æ—¶nçš„èµ›ç¨‹è¡¨ä¸å¶æ•°n+1æ—¶çš„èµ›ç¨‹è¡¨æ˜¯ç›¸ä¼¼çš„ã€‚<br>æ¯”å¦‚ï¼Œå½“n=4æ—¶<br>| 0 | 1 | 2 | 3 |<br>|â€”-|â€”-|â€”-|â€”-|<br>| 1 | 0 | 3 | 2 |<br>| 2 | 3 | 0 | 1 |<br>| 3 | 2 | 1 | 0 |</p>
<p>å½“n=3æ—¶<br>| 0 | 1 | 2 | / |<br>|â€”-|â€”-|â€”-|â€”-|<br>| 1 | 0 | / | 2 |<br>| 2 | / | 0 | 1 |<br>| / | 2 | 1 | 0 |</p>
<p>(åˆ å»æœ€åä¸€è¡Œ)å…¶ä¸­â€œ/â€è¡¨ç¤ºè½®ç©ºã€‚</p>
<p>ç»¼ä¸Šï¼Œå½“é‡åˆ°nä¸ºå¥‡æ•°çš„æƒ…å†µï¼Œæˆ‘ä»¬ä¾¿å¯ä»¥è½¬åŒ–ä¸ºå¶æ•°æ¥è€ƒè™‘ã€‚</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬é‡åˆ°é—®é¢˜çš„éš¾ç‚¹==çŸ©é˜µçš„åˆå¹¶==<br>å½“n/2ä¸ºå¶æ•°æ—¶ï¼Œåˆå¹¶æ¯”è¾ƒå®¹æ˜“ï¼Œå°±åƒ$ n=2^k $é‚£æ ·ã€‚<br>ä¸‹é¢æˆ‘ä»¬æ¥è€ƒè™‘n/2ä¸ºå¥‡æ•°çš„æƒ…å†µã€‚<br>æ­¤æ—¶åˆå¹¶çš„è¿‡ç¨‹æˆ‘å‚è€ƒäº†<a href="https://www.cnblogs.com/zhuyijie/p/6465812.html">çŒªä¸€æˆ’çš„åšå®¢</a></p>
<p>æˆ‘ä»¬è€ƒè™‘å½“n=6æ—¶çš„æƒ…å†µã€‚<br>æˆ‘ä»¬å…ˆå°†6ä¸ªäººåˆ†æˆ2ç»„ï¼Œæ¯ç»„3ä¸ªäººï¼ˆ[0ï¼Œ1,2],[3,4,5]ï¼‰ï¼Œç„¶åå‘ç°3æ˜¯ä¸ªå¥‡æ•°ï¼Œç„¶ååœ¨æ¯ç»„ä¸­+1ä¸ªè™šæ‹Ÿäººï¼šXå’ŒYï¼›è¿™æ ·ï¼Œæ¯ç»„å°±å˜æˆäº†4ä¸ªäººï¼Œç„¶åå°†è¿™4ä¸ªäººåœ¨é™¤ä»¥2ï¼Œæˆ‘ä»¬å°±å¾—åˆ°äº†ä¸€ä¸ªä¸¤ä¸¤ç»„åˆçš„å°çš„ç»„ã€‚</p>
<p>é¦–å…ˆæ¥çœ‹[0ï¼Œ1]; [2,x]</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>2</th>
<th>x</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>2</td>
</tr>
</tbody>
</table>
</div>
<p>å°†è¿™ä¸¤ç»„åˆèµ·æ¥ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>x</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0</td>
<td>x</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>x</td>
<td>0</td>
<td>1</td>
</tr>
<tr>
<td>x</td>
<td>2</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<p>è¿™é‡Œè¦å¾—åˆ°3ä¸ªé€‰æ‰‹çš„æ¯”èµ›å®‰æ’ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬å°†å‡æƒ³çš„Xå»æ‰ï¼Œå¹¶å°†å®ƒçš„ä½ç½®ä»¥/ä»£æ›¿ï¼š</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>/</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0</td>
<td>/</td>
<td>2</td>
</tr>
<tr>
<td>2</td>
<td>/</td>
<td>0</td>
<td>1</td>
</tr>
</tbody>
</table>
</div>
<p>ç„¶åæˆ‘ä»¬ä¹ŸæŒ‰ç…§è¿™ä¸ªè§„å¾‹ï¼Œå®‰æ’[3,4,5]çš„æ—¥ç¨‹ï¼Œå¾—åˆ°è¡¨æ ¼<br>| 3 | 4 | 5 | / |<br>|â€”-|â€”-|â€”-|â€”-|<br>| 4 | 3 | / | 5 |<br>| 5 | / | 3 | 4 |</p>
<p>æˆ‘ä»¬å¾—åˆ°äº†ä¸¤ä¸ª3x4çš„çŸ©é˜µï¼ˆå…¶ä¸­ç¬¬ä¸€åˆ—è¡¨ç¤ºæ¯ä¸ªé˜Ÿä¼ï¼Œå®é™…ä¸Šåªæœ‰ä¸‰å¤©ï¼‰ï¼Œæˆ‘ä»¬æœ€ç»ˆæƒ³å¾—åˆ°6*6ï¼ˆå…¶ä¸­ç¬¬ä¸€åˆ—è¡¨ç¤ºæ¯ä¸ªé˜Ÿä¼ï¼Œå®é™…ä¸Šåªæœ‰äº”å¤©ï¼‰çš„çŸ©é˜µã€‚</p>
<p>æˆ‘ä»¬å…ˆå°†ä¸Šé¢ä¸¤ä¸ªçŸ©é˜µåˆå¹¶</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>/</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0</td>
<td>/</td>
<td>2</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>/</td>
<td>0</td>
<td>1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>5</td>
<td>/</td>
<td></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>3</td>
<td>/</td>
<td>5</td>
<td></td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>/</td>
<td>3</td>
<td>4</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p> å‰ä¸‰å¤©çš„æ¯”èµ›å·²ç»åŸºæœ¬æ’å®Œäº†ï¼Œæˆ‘ä»¬åªéœ€è¦åœ¨æ–œæ /çš„åœ°æ–¹å¡«ä¸Šç›¸åº”çš„æ¯”èµ›ã€‚å¾ˆæ˜¾ç„¶å¯ä»¥è®©æ¯å¤©è½®ç©ºçš„ä¸¤æ”¯é˜Ÿä¼æ¯”èµ›ã€‚ï¼ˆåœ¨ç¨‹åºä¸­æ²¡æœ‰æ–œæ è¡¨ç¤ºï¼Œè¿˜æ˜¯å‡æƒ³çš„é˜Ÿä¼ï¼Œæ–¹ä¾¿è¿›è¡Œç›‘æµ‹ï¼‰</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0</td>
<td>4</td>
<td>2</td>
<td></td>
<td></td>
</tr>
<tr>
<td>2</td>
<td>5</td>
<td>0</td>
<td>1</td>
<td></td>
<td></td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>5</td>
<td>0</td>
<td></td>
<td></td>
</tr>
<tr>
<td>4</td>
<td>3</td>
<td>1</td>
<td>5</td>
<td></td>
<td></td>
</tr>
<tr>
<td>5</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td></td>
</tr>
</tbody>
</table>
</div>
<p>ä¸Šé¢çš„çŸ©é˜µä¸­[0,1,2]å’Œ[3,4,5]ç»„å†…å·²ç»æ¯”å®Œäº†ï¼Œç»„é—´æ¯”äº†ä¸€æ¬¡ï¼Œå‰©ä¸‹çš„åªéœ€è¦è½®æ¢ä¸¤æ¬¡å³å¯å¾—åˆ°åä¸¤å¤©çš„æ¯”èµ›æƒ…å†µã€‚</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>0</td>
<td>4</td>
<td>2</td>
<td>5</td>
<td>3</td>
</tr>
<tr>
<td>2</td>
<td>5</td>
<td>0</td>
<td>1</td>
<td>3</td>
<td>4</td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>5</td>
<td>0</td>
<td>2</td>
<td>1</td>
</tr>
<tr>
<td>4</td>
<td>3</td>
<td>1</td>
<td>5</td>
<td>0</td>
<td>2</td>
</tr>
<tr>
<td>5</td>
<td>2</td>
<td>3</td>
<td>4</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
</div>
<p>äºæ˜¯æˆ‘ä»¬ä¾¿å¯ä»¥å¾—åˆ°ä¸¤ä¸ªå¥‡æ•°çŸ©é˜µçš„åˆå¹¶æƒ…å†µã€‚</p>
<p>åœ¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬çš„æ€è·¯ä¸æ˜¯ä¸¥æ ¼æ„ä¹‰ä¸Šçš„æ‰€è°“çš„â€œåˆå¹¶â€ï¼Œè€Œæ˜¯â€œæ‰©å±•â€ã€‚æ¯”å¦‚å¯¹äºâ€œåˆå¹¶2ä¸ª3x4çš„çŸ©é˜µâ€ï¼Œæˆ‘ä»¬æ˜¯â€œå°†1ä¸ª3x4çš„çŸ©é˜µæ‰©å±•ä¸º6x6çš„çŸ©é˜µâ€ï¼ˆå› ä¸ºè¿™ä¸¤ä¸ª3x4çš„çŸ©é˜µè§„æ ¼ç›¸åŒï¼Œæ’åºé¡ºåºä¸€æ ·ï¼Œæ‰€ä»¥åªéœ€è¦åšä¸€éï¼‰</p>
<h2 id="ä¸‰ã€ä»£ç å±•ç¤º"><a href="#ä¸‰ã€ä»£ç å±•ç¤º" class="headerlink" title="ä¸‰ã€ä»£ç å±•ç¤º"></a>ä¸‰ã€ä»£ç å±•ç¤º</h2><p>ï¼ˆä»£ç é‡Œæœ‰ä¸€äº›æ‰“å°è¡Œå·çš„printfè¯­å¥ï¼Œä¸çŸ¥é“ä¸ºå•¥ä¸€å»æ‰å°±è¿‡ä¸äº†ç¼–è¯‘ï¼Œæ‰€ä»¥æ²¡æœ‰åˆ æ‰ã€‚ã€‚ï¼‰<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;stdlib.h&gt;</span><br><span class="line">#include&quot;Check.cpp&quot;</span><br><span class="line"></span><br><span class="line">void copy(int n, int **a)//å¶æ•°æƒ…å†µ</span><br><span class="line">&#123;</span><br><span class="line">	//printf(&quot;å½“å‰è¡Œå·%05d\n&quot;,__LINE__);</span><br><span class="line">	int m=n/2;</span><br><span class="line">	for(int i=0;i&lt;m;i++)&#123;</span><br><span class="line">		for(int j=0;j&lt;m;j++)&#123;</span><br><span class="line">			//ç”±å·¦ä¸Šè§’å°å—çš„å€¼ç®—å‡ºå¯¹åº”çš„å³ä¸Šè§’å°å—çš„å€¼</span><br><span class="line">			a[i][j+m]=a[i][j]+m;</span><br><span class="line">			//ç”±å³ä¸Šè§’å°å—çš„å€¼ç®—å‡ºå¯¹åº”çš„å·¦ä¸‹è§’å°å—çš„å€¼</span><br><span class="line">			a[i+m][j]=a[i][j+m];</span><br><span class="line">			//ç”±å·¦ä¸Šè§’å°å—çš„å€¼ç®—å‡ºå¯¹åº”çš„å³ä¸‹è§’å°å—çš„å€¼</span><br><span class="line">			a[i+m][j+m]=a[i][j];</span><br><span class="line">		&#125;	</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void copyodd(int n, int **a) // n/2 ä¸ºå¥‡æ•°æ—¶çš„åˆå¹¶ç®—æ³•</span><br><span class="line">&#123;</span><br><span class="line">	printf(&quot;å½“å‰è¡Œå·%05d\n&quot;,__LINE__);</span><br><span class="line">	int m=n/2;</span><br><span class="line">	int b[m];</span><br><span class="line">	for(int i=0;i&lt;m;i++)&#123;</span><br><span class="line">		b[i]=m+i;</span><br><span class="line">		b[m+i]=b[i];</span><br><span class="line">	&#125;</span><br><span class="line">	for(int i=0;i&lt;m;i++)&#123;</span><br><span class="line">		//ç”±å·¦ä¸Šè§’å°å—çš„å€¼ç®—å‡ºç›¸åº”çš„å·¦ä¸‹è§’å°å—çš„å€¼</span><br><span class="line">		for(int j=0;j&lt;m+1;j++)&#123;</span><br><span class="line">			if(a[i][j]&gt;=m)&#123;</span><br><span class="line">				a[i][j]=b[i];</span><br><span class="line">				a[m+i][j]=(b[i]+m)%n;</span><br><span class="line">			&#125;	else a[m+i][j]=a[i][j]+m;</span><br><span class="line">		&#125;</span><br><span class="line">		//ç”±å·¦ä¸Šè§’å°å—çš„å€¼ç®—å‡ºç›¸åº”çš„å³ä¸Šè§’å’Œå³ä¸‹è§’å°å—çš„å€¼</span><br><span class="line">		for(int j=1;j&lt;m;j++)&#123;</span><br><span class="line">			a[i][m+j]=b[i+j];</span><br><span class="line">			a[b[i+j]][m+j]=i;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void merge(int n, int **a) //åˆå¹¶ç®—æ³•</span><br><span class="line">&#123;</span><br><span class="line">	if((n/2)&gt;1 &amp;&amp; (n/2)%2 == 1) copyodd(n,a); //n/2 ä¸ºå¥‡æ•°æ—¶,æ³¨æ„æ˜¯ (n/2)%2 == 1ï¼Œnåˆ«å¿˜äº†/2 </span><br><span class="line">	else copy(n,a);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">void tournament(int n, int **a) //å¾ªç¯èµ›ç®—æ³•</span><br><span class="line">&#123;</span><br><span class="line">	printf(&quot;å½“å‰è¡Œå·%05d\n&quot;,__LINE__);</span><br><span class="line">	if(n==1)&#123;a[0][0]=0;return;&#125;</span><br><span class="line">	if(n%2 == 1)	&#123;tournament(n+1,a);return;&#125; //nä¸ºå¥‡æ•°ï¼Œåˆ†æ²»</span><br><span class="line">	tournament(n/2,a); //nä¸ºå¶æ•°ï¼Œåˆ†æ²»</span><br><span class="line">	merge(n,a); //åˆå¹¶</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line">	int n;</span><br><span class="line">	scanf(&quot;%d&quot;,&amp;n);</span><br><span class="line">	</span><br><span class="line">	//åˆ›å»ºæ•°ç»„</span><br><span class="line">	int **a;</span><br><span class="line">	a = (int**)malloc(sizeof(int*)*n);</span><br><span class="line">	</span><br><span class="line">	if(n%2==1)&#123;</span><br><span class="line">		for(int i=0; i&lt;n+1; i++)	a[i] = (int*)malloc(sizeof(int)*(n+1));</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		for(int i=0; i&lt;n; i++)	a[i] = (int*)malloc(sizeof(int)*n);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	//ç”Ÿæˆå¾ªåèµ›çŸ©é˜µ</span><br><span class="line">	tournament(n,a);</span><br><span class="line">	</span><br><span class="line">	//æ‰“å°</span><br><span class="line">	printf(&quot;å½“å‰è¡Œå·:%05d\n&quot;,__LINE__);</span><br><span class="line">	for(int i=0; i&lt;n; i++)&#123;</span><br><span class="line">		for(int j=1; j&lt;(n%2 == 1 ? n+1 : n); j++)&#123;</span><br><span class="line">			if(a[i][j]&lt;n)	printf(&quot;%d &quot;,a[i][j]);</span><br><span class="line">			else printf(&quot;x &quot;);</span><br><span class="line">		&#125;</span><br><span class="line">		printf(&quot;\n&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	//æ£€éªŒç¨‹åº</span><br><span class="line">	if(Check(a,n)==1) printf(&quot;This gametable is availuable.\n&quot;);</span><br><span class="line">	else printf(&quot;This gametable is unavailuable.\n&quot;);</span><br><span class="line">	if(n%2 ==1)&#123;</span><br><span class="line">		for(int i=0; i&lt;n; i++)	free(a[i]);</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		for(int i=0; i&lt;n+1; i++)	free(a[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	free(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="å››ã€æµ‹è¯•ç¨‹åº"><a href="#å››ã€æµ‹è¯•ç¨‹åº" class="headerlink" title="å››ã€æµ‹è¯•ç¨‹åº"></a>å››ã€æµ‹è¯•ç¨‹åº</h2><p>æµ‹è¯•ç¨‹åºå¯¹æˆ‘ä»¬ç”Ÿæˆçš„çŸ©é˜µè¿›è¡Œæ£€éªŒã€‚ä»ä¸¤ä¸ªè§’åº¦è¿›è¡Œã€‚</p>
<ul>
<li>æ¯ä¸ªé˜Ÿä¼éƒ½è¦å’Œå…¶ä»–é˜Ÿä¼è¿›è¡Œä¸€åœºæ¯”èµ›</li>
<li>æ¯ä¸ªé˜Ÿä¼æ¯å¤©ä»…è¿›è¡Œä¸€åœºæ¯”èµ›</li>
</ul>
<p>æµ‹è¯•ç¨‹åºä»£ç å¦‚ä¸‹<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">int Check(int **a, int n)</span><br><span class="line">&#123;</span><br><span class="line">	int column;</span><br><span class="line">	if(n%2==1) column=n+1;</span><br><span class="line">	else column=n;</span><br><span class="line">	int flag=0;</span><br><span class="line">	int check=1;//checkä¸º0è¯´æ˜ä¸ç¬¦åˆæ¡ä»¶ï¼Œåœæ­¢æ£€éªŒã€‚ </span><br><span class="line">	//æ£€éªŒæ¯ä¸ªé˜Ÿä¼éƒ½ä¸å…¶ä»–é˜Ÿä¼æ¯”èµ› </span><br><span class="line">	for(int i=0; i&lt;n&amp;&amp;check==1; i++)&#123;</span><br><span class="line">		for(int k=0; k&lt;n&amp;&amp;check==1; k++)&#123;</span><br><span class="line">			flag=0;</span><br><span class="line">			for(int j=0;j&lt;column&amp;&amp;flag==0;j++)&#123;</span><br><span class="line">				if(a[i][j] == k) flag=1;</span><br><span class="line">			&#125;</span><br><span class="line">			if(flag==0) check=0;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	//æ£€éªŒæŸå¤©æ˜¯å¦æœ‰é˜Ÿä¼é‡å¤æ¯”èµ›</span><br><span class="line">	int times[n];</span><br><span class="line">	for(int j=1; j&lt;column&amp;&amp;check==1; j++)&#123;</span><br><span class="line">		for(int w=0; w&lt;n; w++) times[w]=0;</span><br><span class="line">		for(int i=0; i&lt;n&amp;&amp;check==1; i++)&#123;</span><br><span class="line">			times[a[i][j]]++;</span><br><span class="line">			if(times[a[i][j]]&gt;=2) check==0;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">	if(check==1) return 1;</span><br><span class="line">	else return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="äº”ã€å®éªŒç»“æœ"><a href="#äº”ã€å®éªŒç»“æœ" class="headerlink" title="äº”ã€å®éªŒç»“æœ"></a>äº”ã€å®éªŒç»“æœ</h2><ul>
<li>å½“n=6æ—¶</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/04/13/ALb4Vs.jpg" alt="1.2"></p>
<ul>
<li>å½“n=9æ—¶</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/04/13/ALb5an.jpg" alt="1.3"></p>
<p>æµ‹è¯•ç»“æœå‡æ­£ç¡®ã€‚</p>
<p><em>å‚è€ƒæ–‡çŒ®</em><br><em>[1]ç‹æ°‘å·,ç”°æ°¸è½©.åˆ†æ²»æ³•åœ¨å¾ªç¯èµ›æ—¥ç¨‹è¡¨è®¾è®¡ä¸­çš„åº”ç”¨[J].å…‰ç›˜æŠ€æœ¯,2009(05):45-46.</em></p>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>åˆ†æ²»æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ18ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8818%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY18-dirå‘½ä»¤"><a href="#DAY18-dirå‘½ä»¤" class="headerlink" title="DAY18_dirå‘½ä»¤"></a>DAY18_dirå‘½ä»¤</h1><h3 id="1-æ§åˆ¶å…‰æ ‡é—ªçƒ-1"><a href="#1-æ§åˆ¶å…‰æ ‡é—ªçƒ-1" class="headerlink" title="1.æ§åˆ¶å…‰æ ‡é—ªçƒ(1)"></a>1.æ§åˆ¶å…‰æ ‡é—ªçƒ(1)</h3><ul>
<li>åœ¨Windowsä¸­ï¼Œåªæœ‰å¯ä»¥æ¥å—é”®ç›˜è¾“å…¥çš„çª—å£æœ‰å…‰æ ‡é—ªçƒï¼Œè€Œå…¶ä»–çš„çª—å£ä¸­æ˜¯ä¸æ˜¾ç¤ºå…‰æ ‡çš„ã€‚</li>
<li>å¯¹HariMainè¿›è¡Œæ”¹å†™</li>
</ul>
<span id="more"></span>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">    <span class="comment">/*ä»æ­¤å¼€å§‹*/</span> <span class="keyword">if</span> (cursor_c &gt;= <span class="number">0</span>) &#123; </span><br><span class="line">        boxfill8(sht_win-&gt;buf, sht_win-&gt;bxsize, cursor_c, cursor_x, <span class="number">28</span>, cursor_x + <span class="number">7</span>, <span class="number">43</span>); </span><br><span class="line">    <span class="comment">/*åˆ°æ­¤ç»“æŸ*/</span> &#125; </span><br><span class="line">         sheet_refresh(sht_win, cursor_x, <span class="number">28</span>, cursor_x + <span class="number">8</span>, <span class="number">44</span>); </span><br><span class="line">     &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">512</span> &lt;= i &amp;&amp; i &lt;= <span class="number">767</span>) &#123; <span class="comment">/*é¼ æ ‡æ•°æ®*/</span> </span><br><span class="line">     ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">     &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i &lt;= <span class="number">1</span>) &#123; <span class="comment">/*å…‰æ ‡ç”¨å®šæ—¶å™¨*/</span> </span><br><span class="line">    <span class="comment">/*ä»æ­¤å¼€å§‹*/</span> <span class="keyword">if</span> (i != <span class="number">0</span>) &#123; </span><br><span class="line">         timer_init(timer, &amp;fifo, <span class="number">0</span>); <span class="comment">/*ä¸‹æ¬¡ç½®0 */</span> </span><br><span class="line">     <span class="keyword">if</span> (cursor_c &gt;= <span class="number">0</span>) &#123; </span><br><span class="line">        cursor_c = COL8_000000; </span><br><span class="line">     &#125; </span><br><span class="line">     &#125; <span class="keyword">else</span> &#123; </span><br><span class="line">         timer_init(timer, &amp;fifo, <span class="number">1</span>); <span class="comment">/*ä¸‹æ¬¡ç½®1 */</span> </span><br><span class="line">         <span class="keyword">if</span> (cursor_c &gt;= <span class="number">0</span>) &#123; </span><br><span class="line">         cursor_c = COL8_FFFFFF; </span><br><span class="line">        &#125; </span><br><span class="line">     &#125; </span><br><span class="line">     timer_settime(timer, <span class="number">50</span>); </span><br><span class="line">     <span class="keyword">if</span> (cursor_c &gt;= <span class="number">0</span>) &#123; </span><br><span class="line">     boxfill8(sht_win-&gt;buf, sht_win-&gt;bxsize, cursor_c, cursor_x, <span class="number">28</span>, cursor_x + </span><br><span class="line">     <span class="number">7</span>, <span class="number">43</span>); </span><br><span class="line">     sheet_refresh(sht_win, cursor_x, <span class="number">28</span>, cursor_x + <span class="number">8</span>, <span class="number">44</span>); </span><br><span class="line">    <span class="comment">/*åˆ°æ­¤ç»“æŸ*/</span> &#125; </span><br><span class="line">     &#125; </span><br><span class="line">     &#125; </span><br><span class="line">     &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-æ§åˆ¶å…‰æ ‡é—ªçƒ-2"><a href="#2-æ§åˆ¶å…‰æ ‡é—ªçƒ-2" class="headerlink" title="2.æ§åˆ¶å…‰æ ‡é—ªçƒ(2)"></a>2.æ§åˆ¶å…‰æ ‡é—ªçƒ(2)</h3><ul>
<li>å®ç°å‘½ä»¤è¡Œçª—å£ä¸­å…‰æ ‡é—ªçƒçš„æ§åˆ¶ã€‚</li>
<li>åƒä¼ é€’æŒ‰é”®ç¼–ç ä¸€æ ·ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨FIFOæ¥å®ç°ã€‚</li>
<li>æˆ‘ä»¬å…ˆå°†å…‰æ ‡å¼€å§‹é—ªçƒå®šä¹‰ä¸º2ï¼Œåœæ­¢é—ªçƒå®šä¹‰ä¸º3ã€‚</li>
</ul>
<hr>
<h3 id="3-å¯¹å›è½¦é”®çš„æ”¯æŒ"><a href="#3-å¯¹å›è½¦é”®çš„æ”¯æŒ" class="headerlink" title="3.å¯¹å›è½¦é”®çš„æ”¯æŒ"></a>3.å¯¹å›è½¦é”®çš„æ”¯æŒ</h3><ul>
<li>åº”è¯¥å¯¹è¾“å…¥çš„å­—ç¬¦è¿›è¡Œåˆ¤æ–­ï¼Œç„¶åæ‰§è¡Œç›¸åº”çš„å‘½ä»¤<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">    <span class="comment">/*ä»æ­¤å¼€å§‹*/</span> <span class="keyword">if</span> (i == <span class="number">256</span> + <span class="number">0x1c</span>) &#123; <span class="comment">/*å›è½¦é”®*/</span> </span><br><span class="line">     <span class="keyword">if</span> (key_to != <span class="number">0</span>) &#123; <span class="comment">/*å‘é€è‡³å‘½ä»¤è¡Œçª—å£*/</span> </span><br><span class="line">        fifo32_put(&amp;task_cons-&gt;fifo, <span class="number">10</span> + <span class="number">256</span>); </span><br><span class="line"> &#125; </span><br><span class="line"><span class="comment">/*åˆ°æ­¤ç»“æŸ*/</span> &#125; </span><br><span class="line"> </span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="4-å¯¹çª—å£æ»šåŠ¨çš„æ”¯æŒ"><a href="#4-å¯¹çª—å£æ»šåŠ¨çš„æ”¯æŒ" class="headerlink" title="4.å¯¹çª—å£æ»šåŠ¨çš„æ”¯æŒ"></a>4.å¯¹çª—å£æ»šåŠ¨çš„æ”¯æŒ</h3><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void console_task(struct SHEET *sheet) </span><br><span class="line">&#123; </span><br><span class="line"> ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line"> int x, y;</span><br><span class="line">  ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line"> for (;;) &#123; </span><br><span class="line">     io_cli(); </span><br><span class="line">     if (fifo32_status(&amp;task-&gt;fifo) == 0) &#123; </span><br><span class="line">     ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line"> &#125; else &#123; </span><br><span class="line">    ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line"> if (256 &lt;= i &amp;&amp; i &lt;= 511) &#123; /*é”®ç›˜æ•°æ®ï¼ˆé€šè¿‡ä»»åŠ¡Aï¼‰ */ </span><br><span class="line"> if (i == 8 + 256) &#123; </span><br><span class="line">     /*é€€æ ¼é”®*/ </span><br><span class="line">     ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line"> &#125; else if (i == 10 + 256) &#123; </span><br><span class="line">     /* Enter */ </span><br><span class="line">     /*ç”¨ç©ºæ ¼å°†å…‰æ ‡æ“¦é™¤*/ </span><br><span class="line">     putfonts8_asc_sht(sheet, cursor_x, cursor_y, COL8_FFFFFF, COL8_000000, &quot; &quot;, 1); </span><br><span class="line">/*ä»æ­¤å¼€å§‹ */ if (cursor_y &lt; 28 + 112) &#123; </span><br><span class="line"> cursor_y += 16; /*æ¢è¡Œ*/ </span><br><span class="line"> &#125; else &#123; </span><br><span class="line">     /*æ»šåŠ¨*/ </span><br><span class="line">     for (y = 28; y &lt; 28 + 112; y++) &#123; </span><br><span class="line">     for (x = 8; x &lt; 8 + 240; x++) &#123; </span><br><span class="line">     sheet-&gt;buf[x + y * sheet-&gt;bxsize] = sheet-&gt;buf[x + (y + 16) * </span><br><span class="line">     sheet-&gt;bxsize]; </span><br><span class="line">    &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> for (y = 28 + 112; y &lt; 28 + 128; y++) &#123; </span><br><span class="line">    for (x = 8; x &lt; 8 + 240; x++) &#123; </span><br><span class="line">        sheet-&gt;buf[x + y * sheet-&gt;bxsize] = COL8_000000; </span><br><span class="line">    &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> sheet_refresh(sheet, 8, 28, 8 + 240, 28 + 128); </span><br><span class="line"> &#125; </span><br><span class="line"> /*æ˜¾ç¤ºæç¤ºç¬¦*/ </span><br><span class="line"> putfonts8_asc_sht(sheet, 8, cursor_y, COL8_FFFFFF, COL8_000000, &quot;&gt;&quot;, 1); </span><br><span class="line">/*åˆ°æ­¤ä¸ºæ­¢*/ cursor_x = 16; </span><br><span class="line"> &#125; else &#123; </span><br><span class="line"> /*ä¸€èˆ¬å­—ç¬¦*/ </span><br><span class="line"> ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line"> &#125; </span><br><span class="line"> &#125; </span><br><span class="line"> ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line"> &#125; </span><br><span class="line"> &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-memå‘½ä»¤"><a href="#5-memå‘½ä»¤" class="headerlink" title="5.memå‘½ä»¤"></a>5.memå‘½ä»¤</h3><p>æˆ‘ä»¬å·²ç»å®ç°äº†å±å¹•æ»šåŠ¨ï¼Œç°åœ¨è¯¥æ˜¯åˆ°äº†è®©å®ƒæ‰§è¡Œå‘½ä»¤çš„æ—¶å€™äº†ã€‚<br>memå‘½ä»¤å°±æ˜¯memeoryçš„ç¼©å†™ï¼Œä¹Ÿå°±æ˜¯ç”¨æ¥æ˜¾ç¤ºå†…å­˜ä½¿ç”¨æƒ…å†µçš„å‘½ä»¤ã€‚</p>
<hr>
<ul>
<li>ä»‹ç»ä¸€ä¸‹é‡ç‚¹ã€‚é¦–å…ˆæˆ‘ä»¬æ·»åŠ äº†memtotalå’Œmemmanä¸¤ä¸ªå˜é‡ï¼Œå®ƒä»¬æ˜¯æ‰§è¡Œmemå‘½ä»¤æ‰€å¿…éœ€çš„ã€‚å…³äºmemtotalï¼Œæˆ‘ä»¬é‡‡ç”¨å’Œsheetç›¸åŒçš„æ–¹æ³•ä»HariMainä¼ é€’è¿‡æ¥ï¼Œå› æ­¤æˆ‘ä»¬è¿˜è¦æ”¹å†™ä¸€ä¸‹HariMainã€‚</li>
<li>æˆ‘ä»¬è¿˜æ·»åŠ äº†ä¸€ä¸ªcmdlineå˜é‡ï¼Œä¹Ÿå°±æ˜¯â€œå‘½ä»¤è¡Œâ€ï¼ˆcommand lineï¼‰çš„ç¼©å†™ã€‚è¿™ä¸ªå˜é‡ç”¨æ¥è®°å½•é€šè¿‡é”®ç›˜è¾“å…¥çš„å†…å®¹ï¼Œåœ¨â€œé”®ç›˜æ•°æ®â€å¤„ç†çš„â€œä¸€èˆ¬å­—ç¬¦â€éƒ¨åˆ†ï¼Œå°†è¾“å…¥çš„å†…å®¹é¡ºæ¬¡ç´¯ç§¯èµ·æ¥ã€‚</li>
</ul>
<h3 id="6-clså‘½ä»¤"><a href="#6-clså‘½ä»¤" class="headerlink" title="6.clså‘½ä»¤"></a>6.clså‘½ä»¤</h3><ul>
<li>è¿™ä¸ªå‘½ä»¤çš„ä½œç”¨æ˜¯æ¸…é™¤å±å¹•ä¸Šçš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯â€œclear screenâ€ï¼ˆæ¸…å±ï¼‰çš„ç¼©å†™ã€‚é¡ºä¾¿è¡¥å……ä¸ªå°çŸ¥è¯†ï¼Œåœ¨Linuxä¸­æ¸…å±å‘½ä»¤æ˜¯â€œclearâ€ã€‚<br>ä»£ç ç²¾ç®€ï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if (c[0] == &#x27;m&#x27; &amp;&amp; c[1] == &#x27;e&#x27; &amp;&amp; c[2] == &#x27;m&#x27; &amp;&amp; c[3] == 0) &#123;</span><br></pre></td></tr></table></figure>
æ”¹æˆï¼š<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if (strcmp(cmdline, &quot;mem&quot;) == 0) &#123;</span><br></pre></td></tr></table></figure>
strcmpè¿™ä¸ªå‡½æ•°ï¼Œåªè¦å£°æ˜#include<string.h>å³å¯ä½¿ç”¨ï¼Œå› æ­¤åœ¨bootpack.cä¸­æˆ‘ä»¬ä¹Ÿè¦ç”¨å®ƒã€‚</li>
</ul>
<h3 id="7-dirå‘½ä»¤"><a href="#7-dirå‘½ä»¤" class="headerlink" title="7. dirå‘½ä»¤"></a>7. dirå‘½ä»¤</h3><ul>
<li>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯åˆ¶ä½œå¯æ‰§è¡Œæ–‡ä»¶ï¼ˆæ¯”å¦‚.exeï¼‰æ¥è®©å®ƒè¿è¡Œã€‚</li>
<li>è¿‡åœ¨æ­¤ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥åˆ¶ä½œä¸€ä¸ªæ˜¾ç¤ºç£ç›˜å†…æ–‡ä»¶åç§°çš„å‘½ä»¤å§ã€‚</li>
<li>diræŒ‡ä»¤é™¤äº†ä¼šæ˜¾ç¤ºæ–‡ä»¶åï¼Œè¿˜ä¼šæ˜¾ç¤ºæ–‡ä»¶çš„æ—¥æœŸå’Œå¤§å°ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ17ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8817%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY17-å‘½ä»¤è¡Œçª—å£"><a href="#DAY17-å‘½ä»¤è¡Œçª—å£" class="headerlink" title="DAY17_å‘½ä»¤è¡Œçª—å£"></a>DAY17_å‘½ä»¤è¡Œçª—å£</h1><h2 id="1-é—²ç½®ä»»åŠ¡"><a href="#1-é—²ç½®ä»»åŠ¡" class="headerlink" title="1.é—²ç½®ä»»åŠ¡"></a>1.é—²ç½®ä»»åŠ¡</h2><ul>
<li>å³ä½¿ä¸æ”¹å†™ç¨‹åºï¼Œä¹Ÿèƒ½è‡ªåŠ¨åœ¨é€‚å½“çš„LEVELè¿è¡Œé€‚å½“çš„ä»»åŠ¡ï¼Œè¿™æ ·çš„æ“ä½œç³»ç»Ÿæ‰æ˜¯ä¼˜ç§€çš„æ“ä½œç³»ç»Ÿ</li>
<li>å› æ­¤ï¼Œä¸€èˆ¬æƒ…å†µä¸‹å¯ä»¥è®©ä»»åŠ¡ä¼‘çœ ï¼Œä½†å½“æ‰€æœ‰LEVELä¸­éƒ½æ²¡æœ‰ä»»åŠ¡å­˜åœ¨çš„æ—¶å€™ï¼Œå°±éœ€è¦HTLäº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å°±æŒ‰ç…§è¿™ä¸ªè¦æ±‚æ¥æ”¹å†™mtask.cã€‚</li>
<li>å¦‚æœâ€œæ‰€æœ‰LEVELä¸­éƒ½æ²¡æœ‰ä»»åŠ¡â€å°±ä¼šå‡ºé—®é¢˜ï¼Œé‚£æˆ‘ä»¬åªè¦é¿å…è¿™ç§æƒ…å†µå‘ç”Ÿä¸å°±å¯ä»¥äº†å—ï¼Ÿè¿™ç±»ä¼¼äºæˆ‘ä»¬å†™å®šæ—¶å™¨çš„æ—¶å€™æ‰€é‡‡ç”¨çš„â€œå«å…µâ€çš„æ€è·¯ã€‚</li>
</ul>
<span id="more"></span>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void task_idle(void) </span><br><span class="line">&#123; </span><br><span class="line">    for (;;) &#123; </span><br><span class="line">        io_hlt(); </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>ç»¼ä¸Šæ‰€è¿°ï¼Œæˆ‘ä»¬å®Œå…¨ä¸éœ€è¦å¯¹task_sleepç­‰ä»£ç è¿›è¡Œä»»ä½•æ”¹åŠ¨ï¼Œåªéœ€åœ¨task_initä¸­å°†è¿™ä¸ªé—²ç½®ä»»åŠ¡æ”¾åœ¨æœ€ä¸‹å±‚LEVELä¸­å°±å¯ä»¥äº†ã€‚</li>
</ul>
<h2 id="2-åˆ›å»ºå‘½ä»¤è¡Œçª—å£"><a href="#2-åˆ›å»ºå‘½ä»¤è¡Œçª—å£" class="headerlink" title="2.åˆ›å»ºå‘½ä»¤è¡Œçª—å£"></a>2.åˆ›å»ºå‘½ä»¤è¡Œçª—å£</h2><h2 id="3-åˆ‡æ¢è¾“å…¥çª—å£"><a href="#3-åˆ‡æ¢è¾“å…¥çª—å£" class="headerlink" title="3.åˆ‡æ¢è¾“å…¥çª—å£"></a>3.åˆ‡æ¢è¾“å…¥çª—å£</h2><ul>
<li>ç›®æ ‡ï¼šæˆ‘ä»¬è¦è®©ç³»ç»Ÿåœ¨æŒ‰ä¸‹â€œTabâ€é”®çš„æ—¶å€™ï¼Œå°†è¾“å…¥çª—å£åˆ‡æ¢åˆ°å‘½ä»¤è¡Œçª—å£ä¸Šå»ã€‚</li>
<li>æˆ‘ä»¬å…ˆæ”¹å˜çª—å£æ ‡é¢˜æ çš„é¢œè‰²ã€‚</li>
</ul>
<h2 id="4-å®ç°å­—ç¬¦è¾“å…¥"><a href="#4-å®ç°å­—ç¬¦è¾“å…¥" class="headerlink" title="4.å®ç°å­—ç¬¦è¾“å…¥"></a>4.å®ç°å­—ç¬¦è¾“å…¥</h2><ul>
<li>è¦å®ç°å­—ç¬¦çš„è¾“å…¥ï¼Œåªè¦åœ¨é”®ç›˜è¢«æŒ‰ä¸‹çš„æ—¶å€™å‘console_taskçš„FIFOå‘é€æ•°æ®å³å¯ã€‚</li>
<li>æˆ‘ä»¬è¿˜æ˜¯æŠŠstruct FIFOæ”¾åˆ°struct TASKé‡Œé¢å»å§ã€‚åŸºæœ¬ä¸Šæ²¡æœ‰ä»€ä¹ˆä»»åŠ¡æ˜¯å®Œå…¨ç”¨ä¸åˆ°FIFOçš„ï¼Œå› æ­¤æˆ‘ä»¬æŠŠå®ƒä»¬ç»‘å®šèµ·æ¥</li>
<li>åœ¨å‘å‘½ä»¤è¡Œçª—å£å‘é€é”®ç›˜æ•°æ®çš„æ—¶å€™ï¼Œå¹¶ä¸æ˜¯ç›´æ¥å‘é€ä»é”®ç›˜æ¥æ”¶åˆ°çš„åŸå§‹æ•°æ®ï¼Œè€Œæ˜¯å‘é€ç»è¿‡keytable[]è½¬æ¢åçš„å€¼ã€‚ç©¶å…¶åŸå› ï¼Œæ˜¯ç”±äºè¿™æ ·åšå¯ä»¥çœå»åœ¨å‘½ä»¤è¡Œçª—å£ä»»åŠ¡ä¸­å°†æŒ‰é”®ç¼–ç è½¬æ¢æˆå­—ç¬¦ç¼–ç çš„æ­¥éª¤<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void console_task(struct SHEET *sheet) </span><br><span class="line">&#123; </span><br><span class="line"> struct TIMER *timer; </span><br><span class="line"> struct TASK *task = task_now(); </span><br><span class="line"> int i, fifobuf[128], cursor_x = 16, cursor_c = COL8_000000; </span><br><span class="line"> char s[2]; </span><br><span class="line"> fifo32_init(&amp;task-&gt;fifo, 128, fifobuf, task); </span><br><span class="line"> timer = timer_alloc(); </span><br><span class="line"> timer_init(timer, &amp;task-&gt;fifo, 1); </span><br><span class="line"> timer_settime(timer, 50); </span><br><span class="line"> /*æ˜¾ç¤ºæç¤ºç¬¦*/ </span><br><span class="line"> putfonts8_asc_sht(sheet, 8, 28, COL8_FFFFFF, COL8_000000, &quot;&gt;&quot;, 1); </span><br><span class="line"> for (;;) &#123; </span><br><span class="line">    io_cli(); </span><br><span class="line">    if (fifo32_status(&amp;task-&gt;fifo) == 0) &#123; </span><br><span class="line">        task_sleep(task); </span><br><span class="line">        io_sti(); </span><br><span class="line">    &#125; else &#123; </span><br><span class="line">        i = fifo32_get(&amp;task-&gt;fifo); </span><br><span class="line">             io_sti(); </span><br><span class="line">             if (i &lt;= 1) &#123; /*å…‰æ ‡ç”¨å®šæ—¶å™¨*/ </span><br><span class="line">                if (i != 0) &#123; </span><br><span class="line">                    timer_init(timer, &amp;task-&gt;fifo, 0); /*æ¥ä¸‹æ¥ç½®0 */ </span><br><span class="line">                    cursor_c = COL8_FFFFFF; </span><br><span class="line">                &#125; else &#123; </span><br><span class="line">                    timer_init(timer, &amp;task-&gt;fifo, 1); /*æ¥ä¸‹æ¥ç½®1 */ </span><br><span class="line">                    cursor_c = COL8_000000; </span><br><span class="line">                &#125; </span><br><span class="line">                timer_settime(timer, 50); </span><br><span class="line">             &#125; </span><br><span class="line">             if (256 &lt;= i &amp;&amp; i &lt;= 511) &#123; /*é”®ç›˜æ•°æ®ï¼ˆé€šè¿‡ä»»åŠ¡Aï¼‰ */ </span><br><span class="line">                if (i == 8 + 256) &#123;</span><br><span class="line">                /*é€€æ ¼é”®*/ </span><br><span class="line">                if (cursor_x &gt; 16) &#123; </span><br><span class="line">                    /*ç”¨ç©ºç™½æ“¦é™¤å…‰æ ‡åå°†å…‰æ ‡å‰ç§»ä¸€ä½*/ </span><br><span class="line">                    putfonts8_asc_sht(sheet, cursor_x, 28, COL8_FFFFFF, COL8_000000, &quot; &quot;, 1); </span><br><span class="line">                    cursor_x -= 8; </span><br><span class="line">                 &#125; </span><br><span class="line">             &#125; else &#123; </span><br><span class="line">                /*ä¸€èˆ¬å­—ç¬¦*/ </span><br><span class="line">                if (cursor_x &lt; 240) &#123; </span><br><span class="line">                    /*æ˜¾ç¤ºä¸€ä¸ªå­—ç¬¦ä¹‹åå°†å…‰æ ‡åç§»ä¸€ä½ */ </span><br><span class="line">                    s[0] = i - 256; </span><br><span class="line">                    s[1] = 0; </span><br><span class="line">                    putfonts8_asc_sht(sheet, cursor_x, 28, COL8_FFFFFF, COL8_000000, s, 1); </span><br><span class="line">                    cursor_x += 8; </span><br><span class="line">                &#125; </span><br><span class="line">             &#125; </span><br><span class="line">             &#125; </span><br><span class="line">             /*é‡æ–°æ˜¾ç¤ºå…‰æ ‡*/ </span><br><span class="line">             boxfill8(sheet-&gt;buf, sheet-&gt;bxsize, cursor_c, cursor_x, 28, cursor_x + 7, 43); </span><br><span class="line">             sheet_refresh(sheet, cursor_x, 28, cursor_x + 8, 44); </span><br><span class="line">        &#125; </span><br><span class="line">    &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="5-ç¬¦å·çš„è¾“å…¥"><a href="#5-ç¬¦å·çš„è¾“å…¥" class="headerlink" title="5.ç¬¦å·çš„è¾“å…¥"></a>5.ç¬¦å·çš„è¾“å…¥</h2><ul>
<li>ç›®æ ‡ï¼šå®ç°ï¼å’Œ%çš„è¾“å…¥</li>
<li>æˆ‘ä»¬å¿…é¡»è¦å¤„ç†shifté”®</li>
</ul>
<h2 id="6-å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯"><a href="#6-å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯" class="headerlink" title="6.å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯"></a>6.å¤§å†™å­—æ¯å’Œå°å†™å­—æ¯</h2><ul>
<li>æˆ‘ä»¬å¿…é¡»åŒæ—¶åˆ¤æ–­Shifté”®çš„çŠ¶æ€å’ŒCapsLockçš„çŠ¶æ€<ul>
<li>CapsLock ä¸º OFF &amp; Shift é”®ä¸º OFF â†’ å°å†™è‹±æ–‡å­—æ¯</li>
<li>CapsLock ä¸º OFF &amp; Shift é”®ä¸º ON â†’ å¤§å†™è‹±æ–‡å­—æ¯</li>
<li>CapsLock ä¸º ON &amp; Shift é”®ä¸º OFF â†’ å¤§å†™è‹±æ–‡å­—æ¯</li>
<li>CapsLock ä¸º ON &amp; Shift é”®ä¸º ON â†’ å°å†™è‹±æ–‡å­—æ¯</li>
</ul>
</li>
</ul>
<h2 id="7-å¯¹å„ç§é”å®šé”®çš„æ”¯æŒ"><a href="#7-å¯¹å„ç§é”å®šé”®çš„æ”¯æŒ" class="headerlink" title="7.å¯¹å„ç§é”å®šé”®çš„æ”¯æŒ"></a>7.å¯¹å„ç§é”å®šé”®çš„æ”¯æŒ</h2><ul>
<li>ç‚¹äº®/ç†„ç­é”®ç›˜ä¸ŠæŒ‡ç¤ºç¯çš„æ–¹æ³•</li>
<li>åŸç†ï¼š<ul>
<li>å¯¹äºNumLockå’ŒCapsLockç­‰LEDçš„æ§åˆ¶ï¼Œå¯é‡‡ç”¨ä¸‹é¢çš„æ–¹æ³•å‘é”®ç›˜å‘é€æŒ‡ä»¤å’Œæ•°æ®ã€‚<ul>
<li>è¯»å–çŠ¶æ€å¯„å­˜å™¨ï¼Œç­‰å¾… bit 1 çš„å€¼å˜ä¸º 0ã€‚</li>
<li>å‘æ•°æ®è¾“å‡ºï¼ˆ0060ï¼‰å†™å…¥è¦å‘é€çš„ 1 ä¸ªå­—èŠ‚æ•°æ®ã€‚</li>
<li>ç­‰å¾…é”®ç›˜è¿”å› 1 ä¸ªå­—èŠ‚çš„ä¿¡æ¯ï¼Œè¿™å’Œç­‰å¾…é”®ç›˜è¾“å…¥æ‰€é‡‡ç”¨çš„æ–¹æ³•ç›¸åŒï¼ˆç”¨ IRQç­‰å¾…æˆ–è€…ç”¨è½®è¯¢çŠ¶æ€å¯„å­˜å™¨ bit 1 çš„å€¼ç›´åˆ°å…¶å˜ä¸º 0 éƒ½å¯ä»¥ï¼‰ã€‚</li>
<li>è¿”å›çš„ä¿¡æ¯å¦‚æœä¸º 0xfaï¼Œè¡¨æ˜ 1 ä¸ªå­—èŠ‚çš„æ•°æ®å·²æˆåŠŸå‘é€ç»™é”®ç›˜ã€‚å¦‚ä¸º 0xfeåˆ™è¡¨æ˜å‘é€å¤±è´¥ï¼Œéœ€è¦è¿”å›ç¬¬ 1 æ­¥é‡æ–°å‘é€ã€‚</li>
</ul>
</li>
<li>è¦æ§åˆ¶LEDçš„çŠ¶æ€ï¼Œéœ€è¦æŒ‰ä¸Šè¿°æ–¹æ³•æ‰§è¡Œä¸¤æ¬¡ï¼Œå‘é”®ç›˜å‘é€EDxxæ•°æ®ã€‚å…¶ä¸­ï¼Œxxçš„bit 0ä»£è¡¨ScrollLockï¼Œbit 1ä»£è¡¨NumLockï¼Œbit2ä»£è¡¨CapsLockï¼ˆ0è¡¨ç¤ºç†„ç­ï¼Œ1è¡¨ç¤ºç‚¹äº®ï¼‰ã€‚bit 3ï½7ä¸ºä¿ç•™ä½ï¼Œç½®0å³å¯ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">#define KEYCMD_LED 0xed </span><br><span class="line">void HariMain(void) </span><br><span class="line">&#123; </span><br><span class="line">     ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">     struct FIFO32 fifo, keycmd; </span><br><span class="line">     int fifobuf[128], keycmd_buf[32]; </span><br><span class="line">     ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">     int key_to = 0, key_shift = 0, key_leds = (binfo-&gt;leds &gt;&gt; 4) &amp; 7, keycmd_wait = -1; </span><br><span class="line">     ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">     fifo32_init(&amp;keycmd, 32, keycmd_buf, 0); </span><br><span class="line">     ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">     </span><br><span class="line">     /*ä¸ºäº†é¿å…å’Œé”®ç›˜å½“å‰çŠ¶æ€å†²çªï¼Œåœ¨ä¸€å¼€å§‹å…ˆè¿›è¡Œè®¾ç½®*/ </span><br><span class="line">     fifo32_put(&amp;keycmd, KEYCMD_LED); </span><br><span class="line">     fifo32_put(&amp;keycmd, key_leds); </span><br><span class="line">     </span><br><span class="line">     for (;;) &#123; </span><br><span class="line">         if (fifo32_status(&amp;keycmd) &gt; 0 &amp;&amp; keycmd_wait &lt; 0) &#123; /*ä»æ­¤å¼€å§‹*/ </span><br><span class="line">             /*å¦‚æœå­˜åœ¨å‘é”®ç›˜æ§åˆ¶å™¨å‘é€çš„æ•°æ®ï¼Œåˆ™å‘é€å®ƒ */ </span><br><span class="line">             keycmd_wait = fifo32_get(&amp;keycmd); </span><br><span class="line">             wait_KBC_sendready(); </span><br><span class="line">             io_out8(PORT_KEYDAT, keycmd_wait); </span><br><span class="line">         &#125; /*åˆ°æ­¤ç»“æŸ*/ </span><br><span class="line">         io_cli(); </span><br><span class="line">         if (fifo32_status(&amp;fifo) == 0) &#123; </span><br><span class="line">             task_sleep(task_a); </span><br><span class="line">             io_sti(); </span><br><span class="line">         &#125; else &#123; </span><br><span class="line">             i = fifo32_get(&amp;fifo); </span><br><span class="line">             io_sti(); </span><br><span class="line">             if (256 &lt;= i &amp;&amp; i &lt;= 511) &#123; /* é”®ç›˜æ•°æ® */ </span><br><span class="line">             ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">            /*ä»æ­¤å¼€å§‹*/ if (i == 256 + 0x3a) &#123; /* CapsLock */ </span><br><span class="line">                 key_leds ^= 4; </span><br><span class="line">                 fifo32_put(&amp;keycmd, KEYCMD_LED); </span><br><span class="line">                 fifo32_put(&amp;keycmd, key_leds); </span><br><span class="line">             &#125; </span><br><span class="line">         if (i == 256 + 0x45) &#123; /* NumLock */ </span><br><span class="line">             key_leds ^= 2; </span><br><span class="line">             fifo32_put(&amp;keycmd, KEYCMD_LED); </span><br><span class="line">             fifo32_put(&amp;keycmd, key_leds); </span><br><span class="line">         &#125; </span><br><span class="line">         if (i == 256 + 0x46) &#123; /* ScrollLock */ </span><br><span class="line">             key_leds ^= 1; </span><br><span class="line">             fifo32_put(&amp;keycmd, KEYCMD_LED); </span><br><span class="line">             fifo32_put(&amp;keycmd, key_leds); </span><br><span class="line">         &#125; </span><br><span class="line">         if (i == 256 + 0xfa) &#123; /*é”®ç›˜æˆåŠŸæ¥æ”¶åˆ°æ•°æ®*/ </span><br><span class="line">            keycmd_wait = -1; </span><br><span class="line">         &#125; </span><br><span class="line">         if (i == 256 + 0xfe) &#123; /*é”®ç›˜æ²¡æœ‰æˆåŠŸæ¥æ”¶åˆ°æ•°æ®*/ </span><br><span class="line">            wait_KBC_sendready(); </span><br><span class="line">            io_out8(PORT_KEYDAT, keycmd_wait); </span><br><span class="line">            /*åˆ°æ­¤ç»“æŸ*/ &#125; </span><br><span class="line">         ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">         &#125; else if (512 &lt;= i &amp;&amp; i &lt;= 767) &#123; /*é¼ æ ‡æ•°æ®*/ </span><br><span class="line">         ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">         &#125; else if (i &lt;= 1) &#123; /*å…‰æ ‡ç”¨å®šæ—¶å™¨*/ </span><br><span class="line">         ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">         &#125; </span><br><span class="line">         &#125; </span><br><span class="line">     &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>å®ç°æ–¹æ³•ï¼š<ul>
<li>åˆ›å»ºäº†ä¸€ä¸ªå«keycmdçš„FIFOç¼“å†²åŒºï¼Œå®ƒä¸æ˜¯ç”¨æ¥æ¥æ”¶ä¸­æ–­è¯·æ±‚çš„ï¼Œè€Œæ˜¯ç”¨æ¥ç®¡ç†ç”±ä»»åŠ¡Aå‘é”®ç›˜æ§åˆ¶å™¨å‘é€æ•°æ®çš„é¡ºåºçš„ã€‚å¦‚æœæœ‰æ•°æ®è¦å‘é€åˆ°é”®ç›˜æ§åˆ¶å™¨ï¼Œé¦–å…ˆä¼šåœ¨è¿™ä¸ªkeycmdä¸­ç´¯ç§¯èµ·æ¥ã€‚</li>
<li>keycmd_waitå˜é‡ï¼Œç”¨æ¥è¡¨ç¤ºå‘é”®ç›˜æ§åˆ¶å™¨å‘é€æ•°æ®çš„çŠ¶æ€ã€‚å½“keycmd_waitçš„å€¼ä¸º-1æ—¶ï¼Œè¡¨ç¤ºé”®ç›˜æ§åˆ¶å™¨å¤„äºé€šå¸¸çŠ¶æ€ï¼Œå¯ä»¥å‘é€æŒ‡ä»¤ï¼›å½“å€¼ä¸ä¸º-1æ—¶ï¼Œè¡¨ç¤ºé”®ç›˜æ§åˆ¶å™¨æ­£åœ¨ç­‰å¾…å‘é€çš„æ•°æ®ï¼Œè¿™æ—¶è¦å‘é€çš„æ•°æ®è¢«ä¿å­˜åœ¨keycmd_waitå˜é‡ä¸­ã€‚</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ16ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8816%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY16-å¤šä»»åŠ¡ï¼ˆ2ï¼‰"><a href="#DAY16-å¤šä»»åŠ¡ï¼ˆ2ï¼‰" class="headerlink" title="DAY16_å¤šä»»åŠ¡ï¼ˆ2ï¼‰"></a>DAY16_å¤šä»»åŠ¡ï¼ˆ2ï¼‰</h1><h2 id="1-ä»»åŠ¡ç®¡ç†è‡ªåŠ¨åŒ–"><a href="#1-ä»»åŠ¡ç®¡ç†è‡ªåŠ¨åŒ–" class="headerlink" title="1.ä»»åŠ¡ç®¡ç†è‡ªåŠ¨åŒ–"></a>1.ä»»åŠ¡ç®¡ç†è‡ªåŠ¨åŒ–</h2><ul>
<li>å……åˆ†åšå¥½å¤šä»»åŠ¡æœºåˆ¶çš„åŸºç¡€ä¸Šï¼Œå†åˆ©ç”¨å¤šä»»åŠ¡é€æ­¥å®Œå–„æ“ä½œç³»ç»Ÿæœ¬èº«ã€‚</li>
<li>å¦‚æœæˆ‘ä»¬æƒ³è¦è¿è¡Œä¸‰ä¸ªä»»åŠ¡çš„è¯ï¼Œå°±å¿…é¡»æ”¹å†™mt_taskswitchçš„ä»£ç ã€‚å¦‚æœèƒ½åƒå½“åˆå®šæ—¶å™¨å’Œçª—å£èƒŒæ™¯çš„åšæ³•ä¸€æ ·æ›´å¥½ã€‚</li>
</ul>
<span id="more"></span>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">struct TASKCTL *taskctl; </span><br><span class="line">struct TIMER *task_timer; </span><br><span class="line">struct TASK *task_init(struct MEMMAN *memman) </span><br><span class="line">&#123; </span><br><span class="line">     int i; </span><br><span class="line">     struct TASK *task; </span><br><span class="line">     struct SEGMENT_DESCRIPTOR *gdt = (struct SEGMENT_DESCRIPTOR *) ADR_GDT; </span><br><span class="line">     taskctl = (struct TASKCTL *) memman_alloc_4k(memman, sizeof (struct TASKCTL)); </span><br><span class="line">     for (i = 0; i &lt; MAX_TASKS; i++) &#123; </span><br><span class="line">         taskctl-&gt;tasks0[i].flags = 0; </span><br><span class="line">         taskctl-&gt;tasks0[i].sel = (TASK_GDT0 + i) * 8; </span><br><span class="line">         set_segmdesc(gdt + TASK_GDT0 + i, 103, (int) &amp;taskctl-&gt;tasks0[i].tss, AR_TSS32); </span><br><span class="line">     &#125; </span><br><span class="line">     task = task_alloc();</span><br><span class="line">     task-&gt;flags = 2; /*æ´»åŠ¨ä¸­æ ‡å¿—*/ </span><br><span class="line">     taskctl-&gt;running = 1; </span><br><span class="line">     taskctl-&gt;now = 0; </span><br><span class="line">     taskctl-&gt;tasks[0] = task; </span><br><span class="line">     load_tr(task-&gt;sel); </span><br><span class="line">     task_timer = timer_alloc(); </span><br><span class="line">     timer_settime(task_timer, 2); </span><br><span class="line">     return task; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>è°ƒç”¨task_initï¼Œä¼šè¿”å›ä¸€ä¸ªå†…å­˜åœ°å€ï¼Œæ„æ€æ˜¯==ç°åœ¨æ­£åœ¨è¿è¡Œçš„è¿™ä¸ªç¨‹åºï¼Œå·²ç»å˜æˆä¸€ä¸ªä»»åŠ¡äº†==ã€‚å¯èƒ½å¤§å®¶ä¸æ˜¯å¾ˆèƒ½ç†è§£è¿™ä¸ªè¯´æ³•ï¼Œåœ¨è°ƒç”¨initä¹‹åï¼Œæ‰€æœ‰ç¨‹åºçš„è¿è¡Œéƒ½ä¼šè¢«å½“æˆä»»åŠ¡æ¥è¿›è¡Œç®¡ç†ï¼Œè€Œè°ƒç”¨initçš„è¿™ä¸ªç¨‹åºï¼Œæˆ‘ä»¬ä¹Ÿè¦è®©å®ƒæ‰€å±äºæŸä¸ªä»»åŠ¡ï¼Œè¿™æ ·ä¸€æ¥ï¼Œé€šè¿‡è°ƒç”¨ä»»åŠ¡çš„è®¾ç½®å‡½æ•°ï¼Œå°±å¯ä»¥å¯¹ä»»åŠ¡è¿›è¡Œå„ç§æ§åˆ¶ï¼Œæ¯”å¦‚è¯´ä¿®æ”¹ä¼˜å…ˆçº§ç­‰ã€‚</li>
</ul>
<h2 id="2-è®©ä»»åŠ¡ä¼‘çœ "><a href="#2-è®©ä»»åŠ¡ä¼‘çœ " class="headerlink" title="2.è®©ä»»åŠ¡ä¼‘çœ "></a>2.è®©ä»»åŠ¡ä¼‘çœ </h2><ul>
<li>ç»™æ¯ä¸ªä»»åŠ¡==åˆ†é…ä¸åŒçš„æ—¶é—´==â€”â€”ä¼‘çœ +å”¤é†’</li>
<li><p>ä¼‘çœ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void task_sleep(struct TASK *task) </span><br><span class="line">&#123; </span><br><span class="line">     int i; </span><br><span class="line">     char ts = 0; </span><br><span class="line">     if (task-&gt;flags == 2) &#123; /*å¦‚æœæŒ‡å®šä»»åŠ¡å¤„äºå”¤é†’çŠ¶æ€*/ </span><br><span class="line">         if (task == taskctl-&gt;tasks[taskctl-&gt;now]) &#123; </span><br><span class="line">            ts = 1; /*è®©è‡ªå·±ä¼‘çœ çš„è¯ï¼Œç¨åéœ€è¦è¿›è¡Œä»»åŠ¡åˆ‡æ¢*/ </span><br><span class="line">         &#125; </span><br><span class="line">         /*å¯»æ‰¾taskæ‰€åœ¨çš„ä½ç½®*/ </span><br><span class="line">         for (i = 0; i &lt; taskctl-&gt;running; i++) &#123; </span><br><span class="line">             if (taskctl-&gt;tasks[i] == task) &#123; </span><br><span class="line">                 /*åœ¨è¿™é‡Œ*/ </span><br><span class="line">                 break; </span><br><span class="line">             &#125; </span><br><span class="line">         &#125; </span><br><span class="line">         taskctl-&gt;running--; </span><br><span class="line">         if (i &lt; taskctl-&gt;now) &#123; </span><br><span class="line">            taskctl-&gt;now--; /*éœ€è¦ç§»åŠ¨æˆå‘˜ï¼Œè¦ç›¸åº”åœ°å¤„ç†*/ </span><br><span class="line">         &#125; </span><br><span class="line">         /*ç§»åŠ¨æˆå‘˜*/ </span><br><span class="line">         for (; i &lt; taskctl-&gt;running; i++) &#123; </span><br><span class="line">            taskctl-&gt;tasks[i] = taskctl-&gt;tasks[i + 1]; </span><br><span class="line">         &#125; </span><br><span class="line">         task-&gt;flags = 1; /*ä¸å·¥ä½œçš„çŠ¶æ€*/ </span><br><span class="line">         if (ts != 0) &#123; </span><br><span class="line">            /*ä»»åŠ¡åˆ‡æ¢*/ </span><br><span class="line">            if (taskctl-&gt;now &gt;= taskctl-&gt;running) &#123; </span><br><span class="line">                /*å¦‚æœnowçš„å€¼å‡ºç°å¼‚å¸¸ï¼Œåˆ™è¿›è¡Œä¿®æ­£*/ </span><br><span class="line">                taskctl-&gt;now = 0; </span><br><span class="line">            &#125; </span><br><span class="line">            farjmp(0, taskctl-&gt;tasks[taskctl-&gt;now]-&gt;sel); </span><br><span class="line">         &#125; </span><br><span class="line">     &#125; </span><br><span class="line">     return; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>å”¤é†’ï¼š</p>
<ul>
<li>åœ¨FIFOä¸­æ·»åŠ ç”¨äºè®°å½•è¦å”¤é†’ä»»åŠ¡çš„ä¿¡æ¯çš„æˆå‘˜ã€‚<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">struct FIFO32 &#123; </span><br><span class="line">    int *buf; </span><br><span class="line">    int p, q, size, free, flags; </span><br><span class="line">    struct TASK *task; </span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="3-å¢åŠ çª—å£æ•°é‡"><a href="#3-å¢åŠ çª—å£æ•°é‡" class="headerlink" title="3.å¢åŠ çª—å£æ•°é‡"></a>3.å¢åŠ çª—å£æ•°é‡</h2></li>
</ul>
</li>
<li>å½¢æˆä»»åŠ¡Aã€ä»»åŠ¡B0ã€ä»»åŠ¡B1å’Œä»»åŠ¡B2çš„æ ¼å±€ã€‚</li>
<li>ä»»åŠ¡B0ï½B2å„è‡ªæ‹¥æœ‰è‡ªå·±çš„çª—å£ï¼Œå®ƒä»¬çš„åŠŸèƒ½éƒ½ä¸€æ ·ï¼Œå³è¿›è¡Œè®¡æ•°ï¼Œè¿™æœ‰ç‚¹åƒåœ¨Windowsä¸­å¯åŠ¨äº†ä¸€ä¸ªåº”ç”¨ç¨‹åºåŠå…¶2ä¸ªå‰¯æœ¬çš„æ„Ÿè§‰ã€‚</li>
</ul>
<h2 id="4-è®¾å®šä»»åŠ¡ä¼˜å…ˆçº§ï¼ˆ1ï¼‰"><a href="#4-è®¾å®šä»»åŠ¡ä¼˜å…ˆçº§ï¼ˆ1ï¼‰" class="headerlink" title="4.è®¾å®šä»»åŠ¡ä¼˜å…ˆçº§ï¼ˆ1ï¼‰"></a>4.è®¾å®šä»»åŠ¡ä¼˜å…ˆçº§ï¼ˆ1ï¼‰</h2><ul>
<li>æ”¹å†™mtask.cã€task_switch<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void task_switch(void) </span><br><span class="line">&#123; </span><br><span class="line">     struct TASK *task; </span><br><span class="line">     taskctl-&gt;now++; </span><br><span class="line">     if (taskctl-&gt;now == taskctl-&gt;running) &#123; </span><br><span class="line">        taskctl-&gt;now = 0; </span><br><span class="line">     &#125; </span><br><span class="line">     task = taskctl-&gt;tasks[taskctl-&gt;now]; </span><br><span class="line">     timer_settime(task_timer, task-&gt;priority); </span><br><span class="line">     if (taskctl-&gt;running &gt;= 2) &#123; </span><br><span class="line">        farjmp(0, task-&gt;sel); </span><br><span class="line">     &#125;</span><br><span class="line">     return; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="5-è®¾å®šä»»åŠ¡ä¼˜å…ˆçº§ï¼ˆ2ï¼‰"><a href="#5-è®¾å®šä»»åŠ¡ä¼˜å…ˆçº§ï¼ˆ2ï¼‰" class="headerlink" title="5.è®¾å®šä»»åŠ¡ä¼˜å…ˆçº§ï¼ˆ2ï¼‰"></a>5.è®¾å®šä»»åŠ¡ä¼˜å…ˆçº§ï¼ˆ2ï¼‰</h2><ul>
<li>åœ¨æ“ä½œç³»ç»Ÿä¸­æœ‰ä¸€äº›å¤„ç†ï¼Œå³ä½¿ç‰ºç‰²å…¶ä»–ä»»åŠ¡çš„æ€§èƒ½ä¹Ÿå¿…é¡»è¦å°½å¿«å®Œæˆï¼Œå¦åˆ™ä¼šå¼•èµ·ç”¨æˆ·çš„ä¸æ»¡ï¼Œå°±æ¯”å¦‚è¿™æ¬¡å¯¹é¼ æ ‡çš„å¤„ç†ã€‚å¯¹äºè¿™ç±»ä»»åŠ¡ï¼Œæˆ‘ä»¬å¯ä»¥è®©å®ƒåœ¨å¤„ç†ç»“æŸåé©¬ä¸Šä¼‘çœ ï¼Œè€Œä¼˜å…ˆçº§åˆ™å¯ä»¥è®¾ç½®å¾—éå¸¸é«˜ã€‚</li>
<li>æˆ‘ä»¬éœ€è¦è®¾è®¡ä¸€ç§æ¶æ„ï¼Œä½¿å¾—å³ä¾¿é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡åŒæ—¶è¿è¡Œï¼Œä¹Ÿèƒ½å¤ŸåŒºåˆ†å“ªä¸ªæ›´åŠ ä¼˜å…ˆã€‚<br><img src="https://s2.ax1x.com/2019/04/07/AhpVk8.jpg" alt="16.1"></li>
<li>è¿™ç§æ¶æ„çš„å·¥ä½œåŸç†æ˜¯ï¼Œæœ€ä¸Šå±‚çš„LEVEL 0ä¸­åªè¦å­˜åœ¨å“ªæ€•ä¸€ä¸ªä»»åŠ¡ï¼Œåˆ™å®Œå…¨å¿½ç•¥LEVEL 1å’ŒLEVEL 2ä¸­çš„ä»»åŠ¡ï¼Œåªåœ¨LEVEL 0çš„ä»»åŠ¡ä¸­è¿›è¡Œä»»åŠ¡åˆ‡æ¢ã€‚å½“LEVEL 0ä¸­çš„ä»»åŠ¡å…¨éƒ¨ä¼‘çœ ï¼Œæˆ–è€…å…¨éƒ¨é™åˆ°ä¸‹å±‚LEVELï¼Œä¹Ÿå°±æ˜¯å½“LEVEL 0ä¸­æ²¡æœ‰ä»»ä½•ä»»åŠ¡çš„æ—¶å€™ï¼Œæ¥ä¸‹æ¥å¼€å§‹è½®åˆ°LEVEL 1ä¸­çš„ä»»åŠ¡è¿›è¡Œä»»åŠ¡åˆ‡æ¢ã€‚å½“LEVEL 0å’ŒLEVEL 1ä¸­éƒ½æ²¡æœ‰ä»»åŠ¡æ—¶ï¼Œé‚£å°±è¯¥è½®åˆ°LEVEL2 å‡ºåœºäº†ã€‚<br>åœ¨è¿™ç§æ¶æ„ä¸‹ï¼Œåªè¦æŠŠéŸ³ä¹æ’­æ”¾ä»»åŠ¡è®¾ç½®åœ¨LEVEL 0ä¸­ï¼Œå°±å¯ä»¥ä¿è¯è·å¾—æ¯”é¼ æ ‡æ›´é«˜çš„ä¼˜å…ˆçº§ã€‚</li>
</ul>
<hr>
<ul>
<li>task_now ç”¨äºè¿”å›ç°åœ¨æ´»åŠ¨ä¸­çš„struct TASKçš„å†…å­˜åœ°å€<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">struct TASK *task_now(void) </span><br><span class="line">&#123; </span><br><span class="line"> struct TASKLEVEL *tl = &amp;taskctl-&gt;level[taskctl-&gt;now_lv]; </span><br><span class="line"> return tl-&gt;tasks[tl-&gt;now]; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>task_addï¼Œç”¨æ¥å‘struct TASKLEVELä¸­æ·»åŠ ä¸€ä¸ªä»»åŠ¡<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void task_add(struct TASK *task) </span><br><span class="line">&#123; </span><br><span class="line"> struct TASKLEVEL *tl = &amp;taskctl-&gt;level[task-&gt;level]; </span><br><span class="line"> tl-&gt;tasks[tl-&gt;running] = task; </span><br><span class="line"> tl-&gt;running++; </span><br><span class="line"> task-&gt;flags = 2; /*æ´»åŠ¨ä¸­*/ </span><br><span class="line"> return; </span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>task_remove</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void task_remove(struct TASK *task) </span><br><span class="line">&#123; </span><br><span class="line">     int i; </span><br><span class="line">     struct TASKLEVEL *tl = &amp;taskctl-&gt;level[task-&gt;level]; </span><br><span class="line">     /*å¯»æ‰¾taskæ‰€åœ¨çš„ä½ç½®*/ </span><br><span class="line">     for (i = 0; i &lt; tl-&gt;running; i++) &#123; </span><br><span class="line">         if (tl-&gt;tasks[i] == task) &#123; </span><br><span class="line">             /*åœ¨è¿™é‡Œ */ </span><br><span class="line">             break; </span><br><span class="line">         &#125; </span><br><span class="line">     &#125; </span><br><span class="line">     tl-&gt;running--; </span><br><span class="line">     if (i &lt; tl-&gt;now) &#123; </span><br><span class="line">        tl-&gt;now--; /*éœ€è¦ç§»åŠ¨æˆå‘˜ï¼Œè¦ç›¸åº”åœ°å¤„ç† */ </span><br><span class="line">     &#125; </span><br><span class="line">     if (tl-&gt;now &gt;= tl-&gt;running) &#123; </span><br><span class="line">         /*å¦‚æœnowçš„å€¼å‡ºç°å¼‚å¸¸ï¼Œåˆ™è¿›è¡Œä¿®æ­£*/ </span><br><span class="line">         tl-&gt;now = 0; </span><br><span class="line">     &#125; </span><br><span class="line">     task-&gt;flags = 1; /* ä¼‘çœ ä¸­ */ </span><br><span class="line">     /* ç§»åŠ¨ */ </span><br><span class="line">     for (; i &lt; tl-&gt;running; i++) &#123;</span><br><span class="line">        tl-&gt;tasks[i] = tl-&gt;tasks[i + 1]; </span><br><span class="line">     &#125; </span><br><span class="line">     return; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>task_switchsub,ç”¨æ¥åœ¨ä»»åŠ¡åˆ‡æ¢æ—¶å†³å®šæ¥ä¸‹æ¥åˆ‡æ¢åˆ°å“ªä¸ªLEVEL</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void task_switchsub(void) </span><br><span class="line">&#123; </span><br><span class="line">     int i; </span><br><span class="line">     /*å¯»æ‰¾æœ€ä¸Šå±‚çš„LEVEL */ </span><br><span class="line">     for (i = 0; i &lt; MAX_TASKLEVELS; i++) &#123; </span><br><span class="line">     if (taskctl-&gt;level[i].running &gt; 0) &#123; </span><br><span class="line">     break; /*æ‰¾åˆ°äº†*/ </span><br><span class="line">     &#125; </span><br><span class="line">     &#125; </span><br><span class="line">     taskctl-&gt;now_lv = i; </span><br><span class="line">     taskctl-&gt;lv_change = 0; </span><br><span class="line">     return; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ15ï¼‰</title>
    <url>/201904/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8815%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY15-å¤šä»»åŠ¡ï¼ˆ1ï¼‰"><a href="#DAY15-å¤šä»»åŠ¡ï¼ˆ1ï¼‰" class="headerlink" title="DAY15_å¤šä»»åŠ¡ï¼ˆ1ï¼‰"></a>DAY15_å¤šä»»åŠ¡ï¼ˆ1ï¼‰</h1><h2 id="1-æŒ‘æˆ˜ä»»åŠ¡åˆ‡æ¢"><a href="#1-æŒ‘æˆ˜ä»»åŠ¡åˆ‡æ¢" class="headerlink" title="1.æŒ‘æˆ˜ä»»åŠ¡åˆ‡æ¢"></a>1.æŒ‘æˆ˜ä»»åŠ¡åˆ‡æ¢</h2><ul>
<li><strong>å¤šä»»åŠ¡</strong>ï¼šå¤šä¸ªåº”ç”¨ç¨‹åºåŒæ—¶è¿è¡Œçš„çŠ¶æ€ï¼ˆä¹Ÿå°±æ˜¯åŒæ—¶æ‰“å¼€å¥½å‡ ä¸ªçª—å£çš„çŠ¶æ€ï¼‰ã€‚</li>
<li>å®é™…ä¸Šè¿™äº›ç¨‹åº==å¹¶æ²¡æœ‰åœ¨åŒæ—¶è¿è¡Œ==ï¼Œåªæ˜¯çœ‹ä¸Šå»å¥½åƒæ˜¯åœ¨åŒæ—¶è¿è¡Œä¸€æ ·ã€‚<br><img src="https://s2.ax1x.com/2019/04/07/Af2OaT.jpg" alt="15.1"></li>
</ul>
<span id="more"></span>
<ul>
<li>åœ¨ä¸€èˆ¬çš„æ“ä½œç³»ç»Ÿä¸­ï¼Œè¿™ä¸ªåˆ‡æ¢çš„åŠ¨ä½œæ¯0.01ï½0.03ç§’å°±ä¼šè¿›è¡Œä¸€æ¬¡ã€‚å½“ç„¶ï¼Œåˆ‡æ¢çš„é€Ÿåº¦è¶Šå¿«ï¼Œè®©äººè§‰å¾—ç¨‹åºæ˜¯åœ¨åŒæ—¶è¿è¡Œçš„æ•ˆæœä¹Ÿå°±è¶Šå¥½ã€‚ä¸è¿‡ï¼ŒCPUè¿›è¡Œç¨‹åºåˆ‡æ¢ï¼ˆæˆ‘ä»¬ç§°ä¸ºâ€œä»»åŠ¡åˆ‡æ¢â€ï¼‰è¿™ä¸ªåŠ¨ä½œæœ¬èº«å°±éœ€è¦æ¶ˆè€—ä¸€å®šçš„æ—¶é—´ï¼Œè¿™ä¸ªæ—¶é—´å¤§çº¦ä¸º0.0001ç§’å·¦å³ï¼Œä¸åŒçš„CPUåŠæ“ä½œç³»ç»Ÿæ‰€éœ€çš„æ—¶é—´ä¹Ÿæœ‰æ‰€ä¸åŒã€‚</li>
<li>CPUå¤„ç†æ–¹å¼ï¼šå½“ä½ å‘CPUå‘å‡ºä»»åŠ¡åˆ‡æ¢çš„æŒ‡ä»¤æ—¶ï¼ŒCPUä¼šå…ˆæŠŠå¯„å­˜å™¨ä¸­çš„å€¼å…¨éƒ¨å†™å…¥å†…å­˜ä¸­ï¼Œè¿™æ ·åšæ˜¯ä¸ºäº†å½“ä»¥ååˆ‡æ¢å›è¿™ä¸ªç¨‹åºçš„æ—¶å€™ï¼Œå¯ä»¥ä»ä¸­æ–­çš„åœ°æ–¹ç»§ç»­è¿è¡Œã€‚æ¥ä¸‹æ¥ï¼Œä¸ºäº†è¿è¡Œä¸‹ä¸€ä¸ªç¨‹åºï¼ŒCPUä¼šæŠŠæ‰€æœ‰å¯„å­˜å™¨ä¸­çš„å€¼ä»å†…å­˜ä¸­è¯»å–å‡ºæ¥ï¼ˆå½“ç„¶ï¼Œè¿™ä¸ªè¯»å–çš„åœ°å€å’Œåˆšåˆšå†™å…¥çš„åœ°å€ä¸€å®šæ˜¯ä¸åŒçš„ï¼Œä¸ç„¶å°±ç›¸å½“äºä»€ä¹ˆéƒ½æ²¡å˜å˜›ï¼‰ï¼Œè¿™æ ·å°±å®Œæˆäº†ä¸€æ¬¡åˆ‡æ¢ã€‚æˆ‘ä»¬å‰é¢æ‰€è¯´çš„ä»»åŠ¡åˆ‡æ¢æ‰€éœ€è¦çš„æ—¶é—´ï¼Œæ­£æ˜¯å¯¹å†…å­˜è¿›è¡Œå†™å…¥å’Œè¯»å–æ“ä½œæ‰€æ¶ˆè€—çš„æ—¶é—´ã€‚</li>
<li>TSS ä»»åŠ¡çŠ¶æ€æ®µ task status segment</li>
<li>EIP æ‰©å±•æŒ‡ä»¤æŒ‡é’ˆå¯„å­˜å™¨ extended instruction pointerï¼šCPUç”¨æ¥è®°å½•ä¸‹ä¸€æ¡éœ€è¦æ‰§è¡Œçš„æŒ‡ä»¤ä½äºå†…å­˜ä¸­å“ªä¸ªåœ°å€çš„å¯„å­˜å™¨ï¼Œå› æ­¤å®ƒæ‰è¢«ç§°ä¸ºâ€œæŒ‡ä»¤æŒ‡é’ˆâ€ã€‚å¦‚æœæ²¡æœ‰è¿™ä¸ªå¯„å­˜å™¨ï¼Œè®°æ€§ä¸å¥½çš„CPUå°±ä¼šå¿˜è®°è‡ªå·±æ­£åœ¨è¿è¡Œå“ªé‡Œçš„ç¨‹åºï¼Œäºæ˜¯ç¨‹åºå°±æ²¡åŠæ³•æ­£å¸¸è¿è¡Œäº†ã€‚æ¯æ‰§è¡Œä¸€æ¡æŒ‡ä»¤ï¼ŒEIPå¯„å­˜å™¨ä¸­çš„å€¼å°±ä¼šè‡ªåŠ¨ç´¯åŠ ï¼Œä»è€Œä¿è¯ä¸€ç›´æŒ‡å‘ä¸‹ä¸€æ¡æŒ‡ä»¤æ‰€åœ¨çš„å†…å­˜åœ°å€ã€‚</li>
</ul>
<h3 id="å®é™…ä»»åŠ¡åˆ‡æ¢"><a href="#å®é™…ä»»åŠ¡åˆ‡æ¢" class="headerlink" title="å®é™…ä»»åŠ¡åˆ‡æ¢"></a>å®é™…ä»»åŠ¡åˆ‡æ¢</h3><ul>
<li>åˆ›å»ºä¸¤ä¸ªTSS<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">struct TSS32 tss_a, tss_b;</span><br></pre></td></tr></table></figure></li>
<li>å‘å®ƒä»¬çš„Idtrå’Œiomapåˆ†åˆ«å­˜å…¥åˆé€‚çš„å€¼<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">tss_a.ldtr = 0; </span><br><span class="line">tss_a.iomap = 0x40000000; </span><br><span class="line">tss_b.ldtr = 0; </span><br><span class="line">tss_b.iomap = 0x40000000;</span><br></pre></td></tr></table></figure></li>
<li><p>å°†å®ƒä»¬ä¸¤ä¸ªåœ¨GDTä¸­è¿›è¡Œå®šä¹‰</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">struct SEGMENT_DESCRIPTOR *gdt = (struct SEGMENT_DESCRIPTOR *) ADR_GDT; </span><br><span class="line"> </span><br><span class="line">set_segmdesc(gdt + 3, 103, (int) &amp;tss_a, AR_TSS32); </span><br><span class="line">set_segmdesc(gdt + 4, 103, (int) &amp;tss_b, AR_TSS32);</span><br></pre></td></tr></table></figure>
</li>
<li><p>æˆ‘ä»¬å‘TRå¯„å­˜å™¨å­˜å…¥3 * 8è¿™ä¸ªå€¼ï¼Œè¿™æ˜¯å› ä¸ºæˆ‘ä»¬åˆšæ‰æŠŠå½“å‰è¿è¡Œçš„ä»»åŠ¡å®šä¹‰ä¸ºGDTçš„3å·ã€‚</p>
</li>
<li>è¦è¿›è¡Œä»»åŠ¡åˆ‡æ¢ï¼Œæˆ‘ä»¬å¿…é¡»æ‰§è¡Œfaræ¨¡å¼çš„è·³è½¬æŒ‡ä»¤</li>
</ul>
<hr>
<ul>
<li>åœ¨eipä¸­ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰åœ¨åˆ‡æ¢åˆ°è¿™ä¸ªä»»åŠ¡çš„æ—¶å€™ï¼Œè¦ä»å“ªé‡Œå¼€å§‹è¿è¡Œã€‚</li>
</ul>
<h2 id="2-ä»»åŠ¡åˆ‡æ¢è¿›é˜¶"><a href="#2-ä»»åŠ¡åˆ‡æ¢è¿›é˜¶" class="headerlink" title="2.ä»»åŠ¡åˆ‡æ¢è¿›é˜¶"></a>2.ä»»åŠ¡åˆ‡æ¢è¿›é˜¶</h2><ul>
<li>ç›®æ ‡ï¼šä»ä»»åŠ¡Aåˆ‡æ¢åˆ°ä»»åŠ¡Bï¼Œå†åˆ‡æ¢å›ä»»åŠ¡A</li>
</ul>
<h2 id="3-åšä¸ªç®€å•çš„å¤šä»»åŠ¡ï¼ˆ1ï¼‰"><a href="#3-åšä¸ªç®€å•çš„å¤šä»»åŠ¡ï¼ˆ1ï¼‰" class="headerlink" title="3.åšä¸ªç®€å•çš„å¤šä»»åŠ¡ï¼ˆ1ï¼‰"></a>3.åšä¸ªç®€å•çš„å¤šä»»åŠ¡ï¼ˆ1ï¼‰</h2><ul>
<li>ç›®æ ‡ï¼šå®ç°æ›´å¿«é€Ÿçš„ï¼Œæ¥å›äº¤æ›¿çš„ä»»åŠ¡åˆ‡æ¢ã€‚è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å‘Šåˆ«å…‰æ ‡åœä½ã€é¼ æ ‡å¡æ­»ã€é”®ç›˜æ‰“ä¸äº†å­—çš„æƒ…å†µï¼Œè®©ä¸¤ä¸ªä»»åŠ¡çœ‹ä¸Šå»å¥½åƒåœ¨åŒæ—¶è¿è¡Œä¸€æ ·ã€‚</li>
<li>æŠŠtaskswitchå†™æˆä¸€ä¸ªå‡½æ•°<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">_farjmp: ; void farjmp(int eip, int cs); </span><br><span class="line"> JMP FAR [ESP+4] ; eip, cs </span><br><span class="line"> RET</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="4-åšä¸ªç®€å•çš„å¤šä»»åŠ¡ï¼ˆ2ï¼‰"><a href="#4-åšä¸ªç®€å•çš„å¤šä»»åŠ¡ï¼ˆ2ï¼‰" class="headerlink" title="4.åšä¸ªç®€å•çš„å¤šä»»åŠ¡ï¼ˆ2ï¼‰"></a>4.åšä¸ªç®€å•çš„å¤šä»»åŠ¡ï¼ˆ2ï¼‰</h2><h2 id="5-æé«˜è¿è¡Œé€Ÿåº¦"><a href="#5-æé«˜è¿è¡Œé€Ÿåº¦" class="headerlink" title="5.æé«˜è¿è¡Œé€Ÿåº¦"></a>5.æé«˜è¿è¡Œé€Ÿåº¦</h2><ul>
<li>å› ä¸ºæˆ‘ä»¬çš„ç¨‹åºæ¯è®¡1ä¸ªæ•°å°±åœ¨ç”»é¢ä¸Šæ˜¾ç¤ºä¸€æ¬¡ï¼Œä½†1ç§’é’Ÿä¹‹å†…åˆ·æ–°100æ¬¡ä»¥ä¸Šçš„è¯ï¼Œäººçœ¼æ ¹æœ¬å°±åˆ†è¾¨ä¸å‡ºæ¥ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¸éœ€è¦è®¡1ä¸ªæ•°å°±åˆ·æ–°ä¸€æ¬¡ï¼Œåªè¦æ¯éš”0.01ç§’åˆ·æ–°ä¸€æ¬¡å°±è¶³å¤Ÿäº†ã€‚</li>
</ul>
<h2 id="6-æµ‹è¯•è¿è¡Œé€Ÿåº¦"><a href="#6-æµ‹è¯•è¿è¡Œé€Ÿåº¦" class="headerlink" title="6.æµ‹è¯•è¿è¡Œé€Ÿåº¦"></a>6.æµ‹è¯•è¿è¡Œé€Ÿåº¦</h2><p>å‘task_b_mainæ·»åŠ ä»£ç æµ‹è¯•è¿è¡Œé€Ÿåº¦<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void task_b_main(struct SHEET *sht_back) </span><br><span class="line">&#123; </span><br><span class="line">     struct FIFO32 fifo; </span><br><span class="line">     struct TIMER *timer_ts, *timer_put, *timer_1s; </span><br><span class="line">     int i, fifobuf[128], count = 0, count0 = 0; </span><br><span class="line">     char s[12]; </span><br><span class="line">     ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">     timer_1s = timer_alloc(); </span><br><span class="line">     timer_init(timer_1s, &amp;fifo, 100); </span><br><span class="line">     timer_settime(timer_1s, 100); </span><br><span class="line">     for (;;) &#123; </span><br><span class="line">         count++; </span><br><span class="line">         io_cli(); </span><br><span class="line">         if (fifo32_status(&amp;fifo) == 0) &#123; </span><br><span class="line">            io_sti(); </span><br><span class="line">         &#125; else &#123; </span><br><span class="line">             i = fifo32_get(&amp;fifo);</span><br><span class="line">             io_sti(); </span><br><span class="line">             if (i == 1) &#123; </span><br><span class="line">                ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">             &#125; else if (i == 2) &#123; </span><br><span class="line">                ï¼ˆä¸­ç•¥ï¼‰</span><br><span class="line">             &#125; else if (i == 100) &#123; </span><br><span class="line">                 sprintf(s, &quot;%11d&quot;, count - count0); </span><br><span class="line">                 putfonts8_asc_sht(sht_back, 0, 128, COL8_FFFFFF, COL8_008484, s, 11); </span><br><span class="line">                 count0 = count; </span><br><span class="line">                 timer_settime(timer_1s, 100); </span><br><span class="line">            &#125; </span><br><span class="line">         &#125; </span><br><span class="line">     &#125; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="7-å¤šä»»åŠ¡è¿›é˜¶"><a href="#7-å¤šä»»åŠ¡è¿›é˜¶" class="headerlink" title="7.å¤šä»»åŠ¡è¿›é˜¶"></a>7.å¤šä»»åŠ¡è¿›é˜¶</h2><ul>
<li>çœŸæ­£çš„å¤šä»»åŠ¡ï¼Œæ˜¯è¦åšåˆ°åœ¨ç¨‹åºæœ¬èº«ä¸çŸ¥é“çš„æƒ…å†µä¸‹è¿›è¡Œä»»åŠ¡åˆ‡æ¢ã€‚</li>
<li>æœä½¿ç”¨è¿™æ ·çš„è®¾è®¡ï¼Œå³ä¾¿åœ¨ç¨‹åºä¸­ä¸è¿›è¡Œä»»åŠ¡åˆ‡æ¢çš„å¤„ç†ï¼ˆæ¯”å¦‚å¿˜è®°å†™äº†ï¼Œæˆ–è€…å› ä¸ºbugæ²¡èƒ½æ­£å¸¸åˆ‡æ¢ä¹‹ç±»çš„ï¼‰ï¼Œä¹Ÿä¸€å®šä¼šæ­£å¸¸å®Œæˆåˆ‡æ¢ã€‚ä¹‹å‰é‚£ç§å¤šä»»åŠ¡çš„è¯ï¼Œå¦‚æœä»»åŠ¡Bå› ä¸ºå‘ç”Ÿbugè€Œæ— æ³•è¿›è¡Œåˆ‡æ¢ï¼Œé‚£ä¹ˆå½“åˆ‡æ¢åˆ°ä»»åŠ¡Bä»¥åï¼Œå…¶ä»–çš„ä»»åŠ¡å°±å†ä¹Ÿæ— æ³•è¿è¡Œäº†ï¼Œè¿™æ ·ä¼šé€ æˆæ— è®ºæ˜¯æŒ‰é”®ç›˜è¿˜æ˜¯åŠ¨é¼ æ ‡éƒ½æ¯«æ— ååº”çš„æ‚²å‰§ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>æ’å…¥æ’åºï¼ˆInsert Sortï¼‰ã€å½’å¹¶æ’åºï¼ˆMerge Sortï¼‰å’Œå¿«é€Ÿæ’åºï¼ˆQuick Sortï¼‰</title>
    <url>/201904/%E6%8F%92%E5%85%A5%E6%8E%92%E5%BA%8F%E5%BD%92%E5%B9%B6%E6%8E%92%E5%BA%8F%E5%92%8C%E5%BF%AB%E9%80%9F%E6%8E%92%E5%BA%8F/</url>
    <content><![CDATA[<h2 id="ä¸€ã€ç®—æ³•ç®€ä»‹"><a href="#ä¸€ã€ç®—æ³•ç®€ä»‹" class="headerlink" title="ä¸€ã€ç®—æ³•ç®€ä»‹"></a>ä¸€ã€ç®—æ³•ç®€ä»‹</h2><h4 id="1-æ’å…¥æ’åºç®—æ³•ï¼ˆInsert-Sort-Algorithmï¼‰"><a href="#1-æ’å…¥æ’åºç®—æ³•ï¼ˆInsert-Sort-Algorithmï¼‰" class="headerlink" title="1.æ’å…¥æ’åºç®—æ³•ï¼ˆInsert Sort Algorithmï¼‰"></a>1.æ’å…¥æ’åºç®—æ³•ï¼ˆInsert Sort Algorithmï¼‰</h4><ul>
<li><strong>ç›´æ¥æ’å…¥æ’åº(Straight Insertion Sort)çš„åŸºæœ¬æ€æƒ³æ˜¯</strong>ï¼š<br>æŠŠnä¸ªå¾…æ’åºçš„å…ƒç´ çœ‹æˆä¸ºä¸€ä¸ªæœ‰åºè¡¨å’Œä¸€ä¸ªæ— åºè¡¨ã€‚å¼€å§‹æ—¶æœ‰åºè¡¨ä¸­åªåŒ…å«1ä¸ªå…ƒç´ ï¼Œæ— åºè¡¨ä¸­åŒ…å«æœ‰n-1ä¸ªå…ƒç´ ï¼Œæ’åºè¿‡ç¨‹ä¸­æ¯æ¬¡==ä»æ— åºè¡¨ä¸­å–==å‡ºç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå°†å®ƒ==æ’å…¥åˆ°æœ‰åºè¡¨ä¸­==çš„é€‚å½“ä½ç½®ï¼Œä½¿ä¹‹æˆä¸ºæ–°çš„æœ‰åºè¡¨ï¼Œé‡å¤n-1æ¬¡å¯å®Œæˆæ’åºè¿‡ç¨‹ã€‚</li>
<li><strong>æˆ‘ä»¬éœ€è¦åšçš„å·¥ä½œåªæœ‰ä¸¤ä¸ªï¼š</strong>   <ul>
<li>å–å‡ºæ— åºåŒºä¸­çš„ç¬¬1ä¸ªæ•°ï¼Œå¹¶æ‰¾å‡ºå®ƒåœ¨æœ‰åºåŒºå¯¹åº”çš„ä½ç½®ã€‚  </li>
<li>å°†æ— åºåŒºçš„æ•°æ®æ’å…¥åˆ°æœ‰åºåŒºï¼›è‹¥æœ‰å¿…è¦çš„è¯ï¼Œåˆ™å¯¹æœ‰åºåŒºä¸­çš„ç›¸å…³æ•°æ®è¿›è¡Œç§»ä½ã€‚</li>
</ul>
</li>
</ul>
<span id="more"></span>
<h4 id="2-å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge-Sort-Algorithmï¼‰"><a href="#2-å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge-Sort-Algorithmï¼‰" class="headerlink" title="2.å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge Sort Algorithmï¼‰"></a>2.å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge Sort Algorithmï¼‰</h4><ul>
<li><strong>å½’å¹¶æ’åºçš„æ“ä½œï¼š</strong><br>å°†å·²æœ‰åºçš„å­åºåˆ—åˆå¹¶ï¼Œå¾—åˆ°å®Œå…¨æœ‰åºçš„åºåˆ—ï¼›å³å…ˆä½¿æ¯ä¸ªå­åºåˆ—æœ‰åºï¼Œå†ä½¿å­åºåˆ—æ®µé—´æœ‰åºã€‚è‹¥å°†ä¸¤ä¸ªæœ‰åºè¡¨åˆå¹¶æˆä¸€ä¸ªæœ‰åºè¡¨ï¼Œç§°ä¸ºäºŒè·¯å½’å¹¶ã€‚</li>
<li><strong>å½’å¹¶æ’åºçš„åº”ç”¨åœºæ™¯ï¼š</strong><br>é€Ÿåº¦ä»…æ¬¡äºå¿«é€Ÿæ’åºï¼Œä¸ºç¨³å®šæ’åºç®—æ³•ï¼Œä¸€èˆ¬ç”¨äº==å¯¹æ€»ä½“æ— åºï¼Œä½†æ˜¯å„å­é¡¹ç›¸å¯¹æœ‰åºçš„æ•°åˆ—==<h4 id="3-å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick-Sort-Algorithmï¼‰"><a href="#3-å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick-Sort-Algorithmï¼‰" class="headerlink" title="3.å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick Sort Algorithmï¼‰"></a>3.å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick Sort Algorithmï¼‰</h4></li>
<li><strong>å¿«é€Ÿæ’åºçš„æ€æƒ³ï¼š</strong><br>é€šè¿‡ä¸€è¶Ÿæ’åºå°†è¦æ’åºçš„æ•°æ®åˆ†å‰²æˆç‹¬ç«‹çš„ä¸¤éƒ¨åˆ†ï¼Œå…¶ä¸­ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”å¦å¤–ä¸€éƒ¨åˆ†çš„æ‰€æœ‰æ•°æ®éƒ½è¦å°ï¼Œç„¶åå†æŒ‰æ­¤æ–¹æ³•å¯¹è¿™ä¸¤éƒ¨åˆ†æ•°æ®åˆ†åˆ«è¿›è¡Œå¿«é€Ÿæ’åºï¼Œæ•´ä¸ªæ’åºè¿‡ç¨‹å¯ä»¥é€’å½’è¿›è¡Œï¼Œä»¥æ­¤è¾¾åˆ°æ•´ä¸ªæ•°æ®å˜æˆæœ‰åºåºåˆ—ã€‚</li>
<li><strong>é€‚ç”¨åœºæ™¯ï¼š</strong><br>å¿«é€Ÿæ’åºæ˜¯==ä¸ç¨³å®šçš„==ã€‚å®ƒä¸éœ€è¦é¢å¤–çš„å­˜å‚¨ç©ºé—´ã€‚å®ƒçš„åº”ç”¨åœºæ™¯æ˜¯å¤§è§„æ¨¡çš„æ•°æ®æ’åºï¼Œå¹¶ä¸”å®é™…æ€§èƒ½è¦å¥½äºå½’å¹¶æ’åºã€‚</li>
</ul>
<h2 id="äºŒã€ç¨‹åº"><a href="#äºŒã€ç¨‹åº" class="headerlink" title="äºŒã€ç¨‹åº"></a>äºŒã€ç¨‹åº</h2><h3 id="â… ã€ç®—æ³•ç¨‹åº"><a href="#â… ã€ç®—æ³•ç¨‹åº" class="headerlink" title="â… ã€ç®—æ³•ç¨‹åº"></a>â… ã€ç®—æ³•ç¨‹åº</h3><h4 id="1-æ’å…¥æ’åºç®—æ³•ï¼ˆInsert-Sort-Algorithmï¼‰-1"><a href="#1-æ’å…¥æ’åºç®—æ³•ï¼ˆInsert-Sort-Algorithmï¼‰-1" class="headerlink" title="1.æ’å…¥æ’åºç®—æ³•ï¼ˆInsert Sort Algorithmï¼‰"></a>1.æ’å…¥æ’åºç®—æ³•ï¼ˆInsert Sort Algorithmï¼‰</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*Insertion Sorting*/</span></span><br><span class="line"><span class="comment">/*æ¯æ¬¡ä»æ— åºçš„é˜Ÿåˆ—ä¸­é€‰æ‹©ä¸€ä¸ªæ’å…¥ï¼Œ</span></span><br><span class="line"><span class="comment"> *ç›´åˆ°æ‰€æœ‰å…ƒç´ éƒ½æ’åºå®Œæˆã€‚*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">InsertSortUp</span><span class="params">(<span class="type">int</span> A[], <span class="type">int</span> n)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">		<span class="type">int</span> swap = A[i];</span><br><span class="line">		<span class="type">int</span> j;</span><br><span class="line">		<span class="keyword">for</span> (j = i<span class="number">-1</span> ; A[j] &gt; swap &amp;&amp; j &gt;= <span class="number">0</span>; j--)</span><br><span class="line">			A[j+<span class="number">1</span>] = A[j];</span><br><span class="line">		A[j+<span class="number">1</span>] = swap;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge-Sort-Algorithmï¼‰-1"><a href="#2-å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge-Sort-Algorithmï¼‰-1" class="headerlink" title="2.å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge Sort Algorithmï¼‰"></a>2.å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge Sort Algorithmï¼‰</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*MergeSort*/</span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">Merge</span><span class="params">(<span class="type">int</span> A[], <span class="type">int</span> p, <span class="type">int</span> q, <span class="type">int</span> r)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="comment">//åˆ›é€ å·¦å³ä¸¤ä¸ªæ•°ç»„Lã€Rï¼Œå°†å·²ç»æ’å¥½çš„ä¸¤éƒ¨åˆ†æ”¾è¿›å» </span></span><br><span class="line">	<span class="type">int</span> n1 = q - p + <span class="number">1</span>, n2 = r - q;</span><br><span class="line">	<span class="type">int</span> L[n1], R[n2];</span><br><span class="line">	<span class="type">int</span> i,j;</span><br><span class="line">	<span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n1; i++)</span><br><span class="line">		L[i] = A[p + i];</span><br><span class="line">	<span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n2; j++)</span><br><span class="line">		R[j] = A[q + <span class="number">1</span> + j];</span><br><span class="line">	</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">	//å¼€å§‹å¯¹ä¸¤ä¸ªæ•°ç»„è¿›è¡Œå½’å¹¶ </span><br><span class="line">	i = 0; j = 0;</span><br><span class="line">	for (int k = p; k &lt;= r; k++) &#123;</span><br><span class="line">		if(i == n1)&#123;//å¦‚æœå·¦è¾¹æ•°ç»„å·²ç»å…¨æ”¾è¿›å» </span><br><span class="line">			while(j &lt; n2)	A[k++] = R[j++];</span><br><span class="line">		&#125; else if ( j == n2)&#123;//å¦‚æœå³è¾¹æ•°ç»„å·²ç»å…¨æ”¾è¿›å» </span><br><span class="line">			while(i &lt; n1)	A[k++] = L[i++];</span><br><span class="line">		&#125; else&#123;//æ¯”è¾ƒä¸¤ä¸ªæ•°ç»„ï¼ŒæŠŠå°çš„æ•°æ”¾è¿›Aæ•°ç»„ï¼ŒæŒ‡é’ˆåç§» </span><br><span class="line">			if (L[i] &lt;= R[j]) &#123;</span><br><span class="line">				A[k] = L[i];</span><br><span class="line">				i++;</span><br><span class="line">			&#125;</span><br><span class="line">			else &#123;</span><br><span class="line">				A[k] = R[j];</span><br><span class="line">				j++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void MergeSortUp(int A[], int p,int r)</span><br><span class="line">&#123;</span><br><span class="line">	if (p &lt; r) &#123;</span><br><span class="line">		int q = (p + r) / 2;</span><br><span class="line">		MergeSortUp(A, p, q);</span><br><span class="line">		MergeSortUp(A, q + 1, r);</span><br><span class="line">		Merge(A, p, q, r);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick-Sort-Algorithmï¼‰-1"><a href="#3-å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick-Sort-Algorithmï¼‰-1" class="headerlink" title="3.å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick Sort Algorithmï¼‰"></a>3.å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick Sort Algorithmï¼‰</h4><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*QuickSort*/</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> A[], <span class="type">int</span> i, <span class="type">int</span> j)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x = A[i];</span><br><span class="line">	A[i] = A[j];</span><br><span class="line">	A[j] = x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span> A[], <span class="type">int</span> p, <span class="type">int</span> r)</span></span><br><span class="line">&#123;</span><br><span class="line">	<span class="type">int</span> x = A[p];</span><br><span class="line">	<span class="type">int</span> i = p;</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">int</span> j = p + <span class="number">1</span>; j &lt;= r; j++) &#123;</span><br><span class="line">		<span class="keyword">if</span> (A[j] &lt; x) &#123;</span><br><span class="line">			i = i + <span class="number">1</span>;</span><br><span class="line">			swap(A, i, j);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	swap(A, p, i);</span><br><span class="line">	<span class="keyword">return</span> i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void QuickSortUp(int A[], int p, int r)</span><br><span class="line">&#123;</span><br><span class="line">	if (p &lt; r) &#123;</span><br><span class="line">		int q = partition(A, p, r);</span><br><span class="line">		QuickSortUp(A, p, q - 1);</span><br><span class="line">		QuickSortUp(A, q + 1, r);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="â…¡ã€æµ‹è¯•ç¨‹åº"><a href="#â…¡ã€æµ‹è¯•ç¨‹åº" class="headerlink" title="â…¡ã€æµ‹è¯•ç¨‹åº"></a>â…¡ã€æµ‹è¯•ç¨‹åº</h3><figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="comment">/*Test*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;ctime&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> size 10000 <span class="comment">//sizeä¸ºæ•°æ®è§„æ¨¡</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;InsertSort.cpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;MergeSort.cpp&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span><span class="string">&quot;QuickSort.cpp&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> A[size];</span><br><span class="line"><span class="type">clock_t</span> start,finish;</span><br><span class="line"><span class="type">double</span> runtime_insert,runtime_merge,runtime_quick;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/*Generating test data set*/</span><br><span class="line">void tstdata(int n)</span><br><span class="line">&#123;</span><br><span class="line">	FILE *fp;</span><br><span class="line">	if((fp = fopen(&quot;tstdata.txt&quot;,&quot;w+&quot;))== NULL)</span><br><span class="line">		printf(&quot;cant open the file.\n&quot;);</span><br><span class="line">	else&#123;</span><br><span class="line">		srand(time(NULL));</span><br><span class="line">		for (int i = 1; i &lt;= n; i++) &#123;</span><br><span class="line">			if(i!=n) fprintf(fp,&quot;%d &quot;,rand());</span><br><span class="line">	      else fprintf(fp,&quot;%d\n&quot;,rand());</span><br><span class="line">		&#125;</span><br><span class="line">		fclose(fp);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">/*output function*/</span><br><span class="line">int output(char *filename,int A[])</span><br><span class="line">&#123;</span><br><span class="line">    FILE * fp;</span><br><span class="line">    if((fp = fopen(filename,&quot;w+&quot;))==NULL)&#123;</span><br><span class="line">      printf(&quot;cant open the file.\n&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    else&#123;</span><br><span class="line">	   for(int i=0;i&lt;size;i++)&#123;</span><br><span class="line">		   if(i!=size-1) fprintf(fp,&quot;%d &quot;,A[i]);</span><br><span class="line">		   else fprintf(fp,&quot;%d\n&quot;,A[i]);</span><br><span class="line">	   &#125;</span><br><span class="line">	   fclose(fp);</span><br><span class="line">	 &#125;</span><br><span class="line">    </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">main()</span><br><span class="line">&#123;</span><br><span class="line">	int i=0;</span><br><span class="line">	</span><br><span class="line">	/*generating test data*/</span><br><span class="line">	/*tstdata(size);</span><br><span class="line">	printf(&quot;Data set has been created.\n&quot;);*/</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	/*get the test data*/</span><br><span class="line">	FILE *fp;</span><br><span class="line">	if((fp = fopen(&quot;tstdata.txt&quot;,&quot;r&quot;))==NULL)&#123;</span><br><span class="line">		printf(&quot;cant open the file.\n&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">	while(fscanf(fp, &quot;%d&quot;, &amp;A[i]) != EOF) </span><br><span class="line">        i++;</span><br><span class="line">   fclose(fp);</span><br><span class="line">	 for(i=0;i&lt;size;i++)&#123;</span><br><span class="line">	 	printf(&quot;%d &quot;,A[i]);</span><br><span class="line">	 &#125; </span><br><span class="line">	 printf(&quot;\n&quot;);</span><br><span class="line">	 printf(&quot;Array has been created.\n&quot;);</span><br><span class="line">	   </span><br><span class="line">	    </span><br><span class="line">	/*copy the test data set*/</span><br><span class="line">	int A1[size],A2[size],A3[size];</span><br><span class="line">	for(int i=0;i&lt;size;i++)&#123;</span><br><span class="line">		A1[i]=A[i];</span><br><span class="line">		A2[i]=A[i];</span><br><span class="line">		A3[i]=A[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">    /*Insert Sorting*/</span><br><span class="line">	printf(&quot;Insert Sorting...\n&quot;);</span><br><span class="line">	</span><br><span class="line">	start = clock();</span><br><span class="line">	InsertSortUp(A1,size);</span><br><span class="line">	finish = clock();</span><br><span class="line">	</span><br><span class="line">	output(&quot;InsertSortUp.txt&quot;,A1);</span><br><span class="line">	runtime_insert = (double)(finish - start)/CLOCKS_PER_SEC;</span><br><span class="line">	printf(&quot;Insert Sort has been finished.\nTime Cost:%lf\n&quot;,runtime_insert);</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">    /*Merge Sorting*/</span><br><span class="line">	printf(&quot;Merge Sorting...\n&quot;);</span><br><span class="line">	</span><br><span class="line">	start = clock();</span><br><span class="line">	MergeSortUp(A2,0,size-1);</span><br><span class="line">	finish = clock();</span><br><span class="line">	</span><br><span class="line">	output(&quot;MergeSortUp.txt&quot;,A2);</span><br><span class="line">	runtime_merge = (double)(finish-start)/CLOCKS_PER_SEC;</span><br><span class="line">	printf(&quot;Merge Sort has been finished.\nTime Cost:%lf\n&quot;,runtime_merge);</span><br><span class="line"></span><br><span class="line">    /*Quick Sorting*/</span><br><span class="line">	printf(&quot;Quick Sorting...\n&quot;);</span><br><span class="line">	</span><br><span class="line">	start = clock();</span><br><span class="line">	QuickSortUp(A3,0,size-1);</span><br><span class="line">	finish = clock();</span><br><span class="line">	</span><br><span class="line">	output(&quot;QuickSortUp.txt&quot;,A3);</span><br><span class="line">	runtime_quick = (double)(finish-start)/CLOCKS_PER_SEC;</span><br><span class="line">	printf(&quot;Quick Sort has been finished.\nTime Cost:%lf\n&quot;,runtime_quick);</span><br><span class="line">	</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä¸‰ã€æµ‹è¯•æ•°æ®é›†ç”ŸæˆåŠæµ‹è¯•"><a href="#ä¸‰ã€æµ‹è¯•æ•°æ®é›†ç”ŸæˆåŠæµ‹è¯•" class="headerlink" title="ä¸‰ã€æµ‹è¯•æ•°æ®é›†ç”ŸæˆåŠæµ‹è¯•"></a>ä¸‰ã€æµ‹è¯•æ•°æ®é›†ç”ŸæˆåŠæµ‹è¯•</h2><ul>
<li><strong>æˆ‘ä¸ºç®—æ³•çš„æµ‹è¯•å‡†å¤‡äº†12ä¸ªæµ‹è¯•æ•°æ®é›†ï¼Œå…¶ä¸­æ•°æ®é‡åˆ†åˆ«ä¸º10,000\50,000\100,000</strong>  </li>
<li><strong>æ¯ä¸ªæ•°æ®é‡ä¸‹æœ‰==éšæœºç”Ÿæˆæ•°æ®é›†ï¼ˆç”¨äºæµ‹è¯•å¹³å‡å¤æ‚åº¦ï¼‰==å’Œ==é€†åºæ•°æ®é›†ï¼ˆç”¨äºæµ‹è¯•æœ€åæƒ…å†µï¼‰==</strong>  </li>
<li><strong>ä¸ºäº†å‡å°è¯¯å·®ï¼Œæ¯ä¸ªç±»å‹çš„æ•°æ®é›†éƒ½å‡†å¤‡äº†ä¸¤ä¸ªï¼Œè¿™æ ·ä¾¿ç”Ÿæˆäº†3x2x2=12ä¸ªæ•°æ®é›†</strong></li>
<li><strong>ç®—æ³•çš„æ­£ç¡®æ€§æµ‹è¯•åœ¨æ•°æ®é‡å¾ˆå°çš„æ—¶å€™è¿›è¡Œäº†æ‰‹åŠ¨éªŒè¯ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä»¬ä»…ç€é‡æ¯”è¾ƒæ—¶é—´å¤æ‚åº¦</strong></li>
</ul>
<h3 id="â… ã€æµ‹è¯•æ•°æ®é›†ç”Ÿæˆ"><a href="#â… ã€æµ‹è¯•æ•°æ®é›†ç”Ÿæˆ" class="headerlink" title="â… ã€æµ‹è¯•æ•°æ®é›†ç”Ÿæˆ"></a>â… ã€æµ‹è¯•æ•°æ®é›†ç”Ÿæˆ</h3><p>é€šè¿‡mainå‡½æ•°ä¸­çš„/<em>generating test data</em>/éƒ¨åˆ†ç”Ÿæˆâ€œéšæœºç”Ÿæˆæµ‹è¯•é›†â€ï¼Œè¯¦ç»†æµ‹è¯•æ•°æ®è§é™„ä»¶ã€‚<br>é€šè¿‡å¿«é€Ÿæ’åºç®—æ³•ç”Ÿæˆç›¸åº”çš„â€œé€†åºæ•°æ®é›†â€è¿›è¡Œæ’åºç®—æ³•çš„æ—¶é—´å¤æ‚åº¦æµ‹è¯•ï¼Œè¯¦ç»†æ•°æ®è§é™„ä»¶ã€‚</p>
<h3 id="â…¡ã€æµ‹è¯•è¿‡ç¨‹"><a href="#â…¡ã€æµ‹è¯•è¿‡ç¨‹" class="headerlink" title="â…¡ã€æµ‹è¯•è¿‡ç¨‹"></a>â…¡ã€æµ‹è¯•è¿‡ç¨‹</h3><p>æµ‹è¯•ç»“æœå¦‚ä¸‹è¡¨ï¼šï¼ˆè¯¦è§é™„ä»¶ï¼‰</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>data set</th>
<th>Insert Sort(s)</th>
<th>Merge Sort(s)</th>
<th>Quick Sort(s) </th>
</tr>
</thead>
<tbody>
<tr>
<td>S1:10,000\rand array(average condition)</td>
<td>0.082</td>
<td>0.001</td>
<td>0.002</td>
</tr>
<tr>
<td>S2:10,000\rand array(average condition)</td>
<td>0.069</td>
<td>0.002</td>
<td>0.001</td>
</tr>
<tr>
<td>S3:10,000\reserve array(worst condition)</td>
<td>0.469</td>
<td>0.003</td>
<td>0.554</td>
</tr>
<tr>
<td>S4:10,000\reserve array(worst condition)</td>
<td>0.463</td>
<td>0.003</td>
<td>0.546</td>
</tr>
<tr>
<td>S5:50,000\rand array(average condition)</td>
<td>1.718</td>
<td>0.009</td>
<td>0.009</td>
</tr>
<tr>
<td>S6:50,000\rand array(average condition)</td>
<td>1.881</td>
<td>0.01</td>
<td>0.009</td>
</tr>
<tr>
<td>S7:50,000\reserve array(worst condition)</td>
<td>8.54</td>
<td>0.015</td>
<td>/</td>
</tr>
<tr>
<td>S8:50,000\reserve array(worst condition)</td>
<td>7.956</td>
<td>0.015</td>
<td>/</td>
</tr>
<tr>
<td>S9:100,000\rand array(average condition)</td>
<td>7.023</td>
<td>0.022</td>
<td>0.017</td>
</tr>
<tr>
<td>S10:100,000\rand array(average condition)</td>
<td>6.86</td>
<td>0.02</td>
<td>0.018</td>
</tr>
<tr>
<td>S11:100,000\reserve array(worst condition)</td>
<td>31.549</td>
<td>0.027</td>
<td>/</td>
</tr>
<tr>
<td>S12:100,000\reserve array(worst condition)</td>
<td>30.989</td>
<td>0.029</td>
<td>/</td>
</tr>
</tbody>
</table>
</div>
<p><em>æ³¨ï¼š50,000å’Œ100,000æ•°æ®é‡ä¸‹ï¼Œæœ€åæƒ…å†µä¸‹å¿«é€Ÿæ’åºç®—æ³•ç¨‹åºæ²¡æ³•å®Œæˆæ’åº</em></p>
<h2 id="å››ã€ç®—æ³•å¤æ‚åº¦åˆ†æ"><a href="#å››ã€ç®—æ³•å¤æ‚åº¦åˆ†æ" class="headerlink" title="å››ã€ç®—æ³•å¤æ‚åº¦åˆ†æ"></a>å››ã€ç®—æ³•å¤æ‚åº¦åˆ†æ</h2><h4 id="1-æ’å…¥æ’åºç®—æ³•ï¼ˆInsert-Sort-Algorithmï¼‰-2"><a href="#1-æ’å…¥æ’åºç®—æ³•ï¼ˆInsert-Sort-Algorithmï¼‰-2" class="headerlink" title="1.æ’å…¥æ’åºç®—æ³•ï¼ˆInsert Sort Algorithmï¼‰"></a>1.æ’å…¥æ’åºç®—æ³•ï¼ˆInsert Sort Algorithmï¼‰</h4><ul>
<li>æœ€ä¼˜æƒ…å†µï¼š<br>æœ€å°‘æ¯”è¾ƒä¸€æ¬¡ï¼Œç§»åŠ¨ä¸¤æ¬¡ã€‚<br>Cmin = n-1ï¼›Mmin=ï¼ˆn-1ï¼‰Ã—2ï¼›</li>
<li>æœ€åæƒ…å†µï¼š<br>æœ€å¤šæ¯”è¾ƒiæ¬¡ï¼Œç§»åŠ¨iï¼‹2æ¬¡ï¼ˆé€†åºï¼‰ï¼ˆi=1ï¼Œ2ï¼Œâ€¦ï¼Œn-1ï¼‰<br>Cmax=1+2+â€¦+ï¼ˆn-1ï¼‰=ï¼ˆn2-nï¼‰/2<br>M max=3+4+â€¦+ï¼ˆn+1ï¼‰=ï¼ˆn2+3n-4ï¼‰/2<br>Cave=ï¼ˆn2+n-2ï¼‰/4<br>M ave=ï¼ˆn2+7n-8ï¼‰/4</li>
<li>æ•…ç›´æ¥æ’å…¥æ’åºçš„æ—¶é—´å¤æ‚åº¦ä¸ºOï¼ˆn2ï¼‰ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦å’Œå¾…æ’åºåˆ—çš„é¡ºåºæœ‰å…³ã€‚</li>
</ul>
<h4 id="2-å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge-Sort-Algorithmï¼‰-2"><a href="#2-å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge-Sort-Algorithmï¼‰-2" class="headerlink" title="2.å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge Sort Algorithmï¼‰"></a>2.å½’å¹¶æ’åºç®—æ³•ï¼ˆMerge Sort Algorithmï¼‰</h4><p>é€šè¿‡è¿­ä»£ä½œå›¾æ³•å¯çŸ¥ï¼Œå½’å¹¶ç®—æ³•çš„ç®—æ³•å¤æ‚åº¦ä¸ºO(nlogn)ï¼Œå®ƒçš„æ—¶é—´å¤æ‚åº¦å’Œå¾…æ’åºåˆ—çš„é¡ºåºæ— å…³ã€‚</p>
<h4 id="3-å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick-Sort-Algorithmï¼‰-2"><a href="#3-å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick-Sort-Algorithmï¼‰-2" class="headerlink" title="3.å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick Sort Algorithmï¼‰"></a>3.å¿«é€Ÿæ’åºç®—æ³•ï¼ˆQuick Sort Algorithmï¼‰</h4><ul>
<li>æœ€åæƒ…å†µï¼š<br>é¡ºåºæˆ–é€†åºæ—¶ï¼Œä¸€æ¬¡partitionåªèƒ½è§£å†³ä¸€ä¸ªå…ƒç´ çš„ä½ç½® æ’åˆ—ï¼Œæ‰€ä»¥æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(n^2)</li>
<li>å¹³å‡æƒ…å†µï¼š<br>O(logn),æ¢è½´å…ƒç´ ä¸¤è¾¹çš„å¾…æ’åºåˆ—åˆ†çš„è¶Šå¹³å‡ï¼Œæ—¶é—´å¤æ‚åº¦è¶Šå°ã€‚</li>
</ul>
<h2 id="äº”ã€ç®—æ³•ä¼˜åŒ–"><a href="#äº”ã€ç®—æ³•ä¼˜åŒ–" class="headerlink" title="äº”ã€ç®—æ³•ä¼˜åŒ–"></a>äº”ã€ç®—æ³•ä¼˜åŒ–</h2><h3 id="1-å½’å¹¶æ’åºçš„â€œå“¨å…µâ€"><a href="#1-å½’å¹¶æ’åºçš„â€œå“¨å…µâ€" class="headerlink" title="1.å½’å¹¶æ’åºçš„â€œå“¨å…µâ€"></a>1.å½’å¹¶æ’åºçš„â€œå“¨å…µâ€</h3><p>åœ¨å½’å¹¶æ’åºä¸­ï¼Œå°†ä¸¤ä¸ªå·²ç»æ’å·çš„åºåˆ—æ•´åˆåœ¨ä¸€èµ·æ—¶ï¼Œä¹‹å‰æˆ‘ä»¬æ˜¯è¿™æ ·åšçš„ï¼š<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if(i == n1)&#123;//å¦‚æœå·¦è¾¹æ•°ç»„å·²ç»å…¨æ”¾è¿›å» </span><br><span class="line">			while(j &lt; n2)	A[k++] = R[j++];</span><br><span class="line">		&#125; else if ( j == n2)&#123;//å¦‚æœå³è¾¹æ•°ç»„å·²ç»å…¨æ”¾è¿›å» </span><br><span class="line">			while(i &lt; n1)	A[k++] = L[i++];</span><br><span class="line">		&#125;</span><br></pre></td></tr></table></figure><br>å¦‚æœåœ¨å¾…æ’çš„ä¸¤ä¸ªåºåˆ—çš„æœ€å³ç«¯æ·»åŠ ä¸€ä¸ª==å“¨å…µ==ï¼Œå³æœ€å¤§å€¼MAXï¼Œå°±ä¸ç”¨åˆ¤æ–­æœ‰åºåˆ—å·²ç»é€‰å®Œäº†çš„é—®é¢˜ï¼Œèƒ½å¤Ÿæœ‰æ•ˆçš„å‡å°‘åˆ¤æ–­çš„æ¬¡æ•°ã€‚</p>
<h3 id="2-å¿«é€Ÿæ’åºæ¢è½´å…ƒç´ pivotçš„é€‰å–"><a href="#2-å¿«é€Ÿæ’åºæ¢è½´å…ƒç´ pivotçš„é€‰å–" class="headerlink" title="2.å¿«é€Ÿæ’åºæ¢è½´å…ƒç´ pivotçš„é€‰å–"></a>2.å¿«é€Ÿæ’åºæ¢è½´å…ƒç´ pivotçš„é€‰å–</h3><p>pivotçš„é€‰æ‹©å¯¹äºå¿«é€Ÿæ’åºæ—¶é—´å¤æ‚åº¦çš„å½±å“ååˆ†çš„å¤§ã€‚ä»ä¸Šé¢çš„â€œé€†åºæµ‹è¯•æ•°æ®â€å¯çŸ¥ï¼Œå¦‚æœæ¯æ¬¡é€‰æ‹©çš„pivotéƒ½æ˜¯æœ€å¤§/æœ€å°å€¼ï¼Œå¿«é€Ÿæ’åºçš„å¤æ‚åº¦å¯èƒ½ä¼šè¾¾åˆ°O(n^2)ã€‚<br>æ¯æ¬¡è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œéšæœºé€‰å–pivot, é€šå¸¸èƒ½å¾—åˆ°æ¯”è¾ƒå¥½çš„ç»“æœã€‚<br>æˆ‘é‡‡ç”¨äº†ä¸€ç§==ä¸‰è€…å–ä¸­==çš„æ–¹æ³•ï¼Œå³é€‰å–ç¬¬ä¸€ä¸ªã€æœ€åä¸€ä¸ªä»¥åŠä¸­é—´çš„å…ƒç´ çš„ä¸­ä½æ•°ä½œä¸ºpivotï¼Œè¿™æ ·èƒ½å¤Ÿæœ‰æ•ˆçš„é¿å…â€œworst conditionâ€çš„å‡ºç°ã€‚<br>ä»£ç å¦‚ä¸‹ï¼š(æ‘˜è‡ªcsdnåšå®¢)<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//median-of-three pivot rule</span><br><span class="line">private static int choosePivotMedianOfThree(int[] a, int l, int r) &#123;	</span><br><span class="line">	int mid = 0;</span><br><span class="line">	if ((r-l+1) % 2 == 0) &#123;</span><br><span class="line">		mid = l + (r-l+1)/2 - 1;</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		mid = l + (r-l+1)/2;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	//åªéœ€è¦æ‰¾å‡ºä¸­ä½æ•°å³å¯ï¼Œä¸éœ€è¦äº¤æ¢</span><br><span class="line">    //æœ‰çš„ç‰ˆæœ¬ä¹Ÿå¯ä»¥è¿›è¡Œäº¤æ¢</span><br><span class="line">	if (((a[l]-a[mid]) * (a[l]-a[r])) &lt;= 0) &#123;</span><br><span class="line">		return l;</span><br><span class="line">	&#125; else if (((a[mid]-a[l]) * (a[mid]-a[r])) &lt;= 0) 	&#123;</span><br><span class="line">		return mid;</span><br><span class="line">	&#125; else &#123;</span><br><span class="line">		return r;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">--------------------- </span><br><span class="line">/*ä½œè€…ï¼šxinyuexy </span><br><span class="line"> *æ¥æºï¼šCSDN </span><br><span class="line"> *åŸæ–‡ï¼šhttps://blog.csdn.net/qq_31903733/article/details/82945605 </span><br><span class="line"> *ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºåšä¸»åŸåˆ›æ–‡ç« ï¼Œè½¬è½½è¯·é™„ä¸Šåšæ–‡é“¾æ¥ï¼*/</span><br></pre></td></tr></table></figure><br>å†å°†é€‰å–çš„pivotä¸é˜Ÿåˆ—ç¬¬ä¸€ä¸ªå…ƒç´ äº¤æ¢å³å¯ã€‚</p>
<h3 id="3-å¿«é€Ÿæ’åºç¨³å®šæ€§çš„æ”¹å–„"><a href="#3-å¿«é€Ÿæ’åºç¨³å®šæ€§çš„æ”¹å–„" class="headerlink" title="3.å¿«é€Ÿæ’åºç¨³å®šæ€§çš„æ”¹å–„"></a>3.å¿«é€Ÿæ’åºç¨³å®šæ€§çš„æ”¹å–„</h3><p>å¿«é€Ÿæ’åºæ˜¯â€œä¸ç¨³å®šâ€çš„åŸå› åœ¨äºï¼Œpartitionçš„æœ€åä¸€æ­¥ï¼Œpivotå’ŒæŒ‡é’ˆiä½ç½®çš„å…ƒç´ äº¤æ¢ã€‚<br>ä¸¾ä¾‹ï¼š</p>
<ul>
<li>3  1  3â€™  5   2   6  1â€™(å¤§å°ç›¸åŒçš„å…ƒç´ ç”¨â€™åŒºåˆ†)</li>
<li>3  1  2   5   3â€™  6  1â€™</li>
<li>3  1  2   1â€™  3â€™  6  5<br>(è¿™æ—¶å€™è¿˜æ²¡é—®é¢˜)</li>
<li>1â€™ 1  2   3   3â€™  6  5<br>(æœ€åä¸€æ­¥1â€™å’Œ1çš„é¡ºåºå‘ç”Ÿå˜åŒ–)</li>
</ul>
<p>è§£å†³æ–¹æ³•ï¼šæ¯æ¬¡partitionçš„æœ€åä¸€æ­¥æ—¶ï¼Œéå†å¾…æ’æ•°ç»„A[i]ä¹‹å‰çš„éƒ¨åˆ†ï¼Œå°†ä¸A[i]å¤§å°ç›¸åŒçš„å…ƒç´ æ•´ä½“åç§»ã€‚</p>
<h2 id="å…­ã€å®éªŒå¿ƒå¾—"><a href="#å…­ã€å®éªŒå¿ƒå¾—" class="headerlink" title="å…­ã€å®éªŒå¿ƒå¾—"></a>å…­ã€å®éªŒå¿ƒå¾—</h2><ul>
<li>æœ¬æ¬¡å®éªŒæˆ‘å­¦ä¹ äº†ä¸‰ç§é‡è¦ç®—æ³•ï¼šæ’å…¥æ’åºç®—æ³•ã€å½’å¹¶æ’åºç®—æ³•å’Œå¿«é€Ÿæ’åºç®—æ³•ï¼Œäº†è§£äº†å®ƒä»¬çš„åŸç†å’Œé€‚ç”¨çš„æƒ…æ™¯ã€‚</li>
<li>æˆ‘è®¤ä¸ºç›¸å¯¹äºå¿«é€Ÿæ’åºï¼Œå½’å¹¶æ’åºæ›´å…·æœ‰å¥å£®æ€§ï¼Œå®ƒä¸ä¼šå› ä¸ºåºåˆ—çš„é¡ºåºå½±å“æ—¶é—´å¤æ‚åº¦ï¼Œè€Œä¸”å®ƒæ˜¯ä¸€ä¸ªç¨³å®šçš„æ’åºã€‚å¯èƒ½ç”±äºæ•°æ®é›†ä¸å¤Ÿå¤§ï¼Œæˆ‘è¿˜æ²¡èƒ½å……åˆ†ä½“ä¼šåˆ°å¿«é€Ÿæ’åºåœ¨æ—¶é—´ä¸Šçš„ä¼˜åŠ¿ã€‚</li>
<li>æœ€åæƒ…å†µä¸‹çš„æ—¶é—´å¤æ‚åº¦å’Œå¹³å‡æ—¶é—´å¤æ‚åº¦ç›¸å·®éå¸¸å¤§ï¼Œåœ¨ä»¥ååˆ†æç®—æ³•æ—¶è¦å…¼é¡¾ä¸¤è€…ã€‚</li>
</ul>
<h2 id="ä¸ƒã€é™„å½•å¤§çº²"><a href="#ä¸ƒã€é™„å½•å¤§çº²" class="headerlink" title="ä¸ƒã€é™„å½•å¤§çº²"></a>ä¸ƒã€é™„å½•å¤§çº²</h2><ul>
<li>Test.cpp<br>æµ‹è¯•ç¨‹åºï¼ŒåŒ…æ‹¬æ•°æ®é›†ç”Ÿæˆï¼Œå¾…æ’åºåˆ—è¾“å‡ºç­‰ç­‰ã€‚</li>
<li>InsertSort.cpp<br>æ’å…¥æ’åºç®—æ³•</li>
<li>MergeSort.cpp<br>å½’å¹¶æ’åºç®—æ³•</li>
<li>QuickSort.cpp<br>å¿«é€Ÿæ’åºç®—æ³•</li>
<li>12ä¸ªæµ‹è¯•æ•°æ®é›†txt</li>
<li>12ä¸ªæµ‹è¯•ç»“æœçš„æˆªå›¾</li>
</ul>
]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>æ’å…¥æ’åº</tag>
        <tag>å½’å¹¶æ’åº</tag>
        <tag>å¿«é€Ÿæ’åº</tag>
      </tags>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ14ï¼‰</title>
    <url>/201903/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8814%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY14-é«˜åˆ†è¾¨ç‡åŠé”®ç›˜è¾“å…¥"><a href="#DAY14-é«˜åˆ†è¾¨ç‡åŠé”®ç›˜è¾“å…¥" class="headerlink" title="DAY14_é«˜åˆ†è¾¨ç‡åŠé”®ç›˜è¾“å…¥"></a>DAY14_é«˜åˆ†è¾¨ç‡åŠé”®ç›˜è¾“å…¥</h1><h2 id="1-ç»§ç»­æµ‹è¯•æ€§èƒ½"><a href="#1-ç»§ç»­æµ‹è¯•æ€§èƒ½" class="headerlink" title="1. ç»§ç»­æµ‹è¯•æ€§èƒ½"></a>1. ç»§ç»­æµ‹è¯•æ€§èƒ½</h2><ul>
<li>ä¹‹å‰æˆ‘ä»¬é€šè¿‡â€œæ¶ˆé™¤ä½ç§»å¤„ç†â€ç¼©çŸ­æ—¶é—´ï¼Œå¯¹äºå¾ˆå¤šâ€œä½ç§»â€æƒ…å†µï¼Œæ”¹è¿›æ‰èƒ½çœ‹åˆ°æ•ˆæœã€‚æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨å¤§é‡çš„å®šæ—¶å™¨ï¼Œç„¶åå¯¹æ€§èƒ½è¿›è¡Œæ¯”è¾ƒã€‚</li>
</ul>
<h2 id="2-æé«˜åˆ†è¾¨ç‡ï¼ˆ1ï¼‰"><a href="#2-æé«˜åˆ†è¾¨ç‡ï¼ˆ1ï¼‰" class="headerlink" title="2.æé«˜åˆ†è¾¨ç‡ï¼ˆ1ï¼‰"></a>2.æé«˜åˆ†è¾¨ç‡ï¼ˆ1ï¼‰</h2><ul>
<li>ç”±äºç”»é¢åˆ‡æ¢ä¸­æˆ‘ä»¬è¦ä½¿ç”¨BIOSï¼Œæ‰€ä»¥å°±éœ€è¦æ”¹å†™asmhead.nasçš„â€œç”»é¢æ¨¡å¼è®¾å®šâ€éƒ¨åˆ†äº†ã€‚</li>
</ul>
<span id="more"></span>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">; è®¾å®šç”»é¢æ¨¡å¼</span><br><span class="line">     MOV BX,0x4101 ; VBEçš„640x480x8biå½©è‰²</span><br><span class="line">     MOV AX,0x4f02 </span><br><span class="line">     INT 0x10 </span><br><span class="line">     MOV BYTE [VMODE],8 ; è®°ä¸‹ç”»é¢æ¨¡å¼ï¼ˆå‚è€ƒCè¯­è¨€ï¼‰</span><br><span class="line">     MOV WORD [SCRNX],640 </span><br><span class="line">     MOV WORD [SCRNY],480 </span><br><span class="line">     MOV DWORD [VRAM],0xe0000000 </span><br></pre></td></tr></table></figure>
<h2 id="3-æé«˜åˆ†è¾¨ç‡ï¼ˆ2ï¼‰"><a href="#3-æé«˜åˆ†è¾¨ç‡ï¼ˆ2ï¼‰" class="headerlink" title="3.æé«˜åˆ†è¾¨ç‡ï¼ˆ2ï¼‰"></a>3.æé«˜åˆ†è¾¨ç‡ï¼ˆ2ï¼‰</h2><ul>
<li>å°†ç¨‹åºæ”¹å†™ï¼Œä½¿åœ¨çœŸæœºä¸Šè¿è¡Œ</li>
</ul>
<h2 id="4-é”®ç›˜è¾“å…¥ï¼ˆ1ï¼‰"><a href="#4-é”®ç›˜è¾“å…¥ï¼ˆ1ï¼‰" class="headerlink" title="4.é”®ç›˜è¾“å…¥ï¼ˆ1ï¼‰"></a>4.é”®ç›˜è¾“å…¥ï¼ˆ1ï¼‰</h2><ul>
<li>æŒ‰ç…§ä¸‹è¡¨ï¼Œåœ¨é”®ç›˜æŒ‰é”®çš„åŸºç¡€ä¸ŠåŠ ä¸Š0x80å°±å¯ä»¥å¾—åˆ°é”®å¼¹èµ·æ—¶çš„æ•°å€¼<br><img src="https://s2.ax1x.com/2019/03/31/ArbywT.jpg" alt="14.1"></li>
</ul>
<h2 id="5-é”®ç›˜è¾“å…¥ï¼ˆ2ï¼‰"><a href="#5-é”®ç›˜è¾“å…¥ï¼ˆ2ï¼‰" class="headerlink" title="5.é”®ç›˜è¾“å…¥ï¼ˆ2ï¼‰"></a>5.é”®ç›˜è¾“å…¥ï¼ˆ2ï¼‰</h2><ul>
<li>é—®é¢˜ï¼šæ¯ä¸€ä¸ªæŒ‰é”®éƒ½éœ€è¦ä¸€ä¸ªifï¼Œç¨‹åºä¼šå˜é•¿ï¼Œæˆ‘ä»¬è¿›è¡Œä¿®æ”¹ï¼š</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">static char keytable[0x54] = &#123; </span><br><span class="line">     0, 0, &#x27;1&#x27;, &#x27;2&#x27;, &#x27;3&#x27;, &#x27;4&#x27;, &#x27;5&#x27;, &#x27;6&#x27;, &#x27;7&#x27;, &#x27;8&#x27;, &#x27;9&#x27;, &#x27;0&#x27;, &#x27;-&#x27;, &#x27;^&#x27;, 0, 0, </span><br><span class="line">     &#x27;Q&#x27;, &#x27;W&#x27;, &#x27;E&#x27;, &#x27;R&#x27;, &#x27;T&#x27;, &#x27;Y&#x27;, &#x27;U&#x27;, &#x27;I&#x27;, &#x27;O&#x27;, &#x27;P&#x27;, &#x27;@&#x27;, &#x27;[&#x27;, 0, 0, &#x27;A&#x27;, &#x27;S&#x27;, </span><br><span class="line">     &#x27;D&#x27;, &#x27;F&#x27;, &#x27;G&#x27;, &#x27;H&#x27;, &#x27;J&#x27;, &#x27;K&#x27;, &#x27;L&#x27;, &#x27;;&#x27;, &#x27;:&#x27;, 0, 0, &#x27;]&#x27;, &#x27;Z&#x27;, &#x27;X&#x27;, &#x27;C&#x27;, &#x27;V&#x27;, </span><br><span class="line">     &#x27;B&#x27;, &#x27;N&#x27;, &#x27;M&#x27;, &#x27;,&#x27;, &#x27;.&#x27;, &#x27;/&#x27;, 0, &#x27;*&#x27;, 0, &#x27; &#x27;, 0, 0, 0, 0, 0, 0, </span><br><span class="line">     0, 0, 0, 0, 0, 0, 0, &#x27;7&#x27;, &#x27;8&#x27;, &#x27;9&#x27;, &#x27;-&#x27;, &#x27;4&#x27;, &#x27;5&#x27;, &#x27;6&#x27;, &#x27;+&#x27;, &#x27;1&#x27;, </span><br><span class="line">     &#x27;2&#x27;, &#x27;3&#x27;, &#x27;0&#x27;, &#x27;.&#x27; </span><br><span class="line">     &#125;; </span><br><span class="line"> if (256 &lt;= i &amp;&amp; i &lt;= 511) &#123; /* é”®ç›˜æ•°æ® */ </span><br><span class="line">     sprintf(s, &quot;%02X&quot;, i - 256); </span><br><span class="line">     putfonts8_asc_sht(sht_back, 0, 16, COL8_FFFFFF, COL8_008484, s, 2); </span><br><span class="line">         if (i &lt; 256 + 0x54) &#123; </span><br><span class="line">             if (keytable[i - 256] != 0) &#123; </span><br><span class="line">             s[0] = keytable[i - 256]; </span><br><span class="line">             s[1] = 0; </span><br><span class="line">             putfonts8_asc_sht(sht_win, 40, 28, COL8_000000, COL8_C6C6C6, s, 1); </span><br><span class="line">             &#125; </span><br><span class="line">        &#125; </span><br><span class="line"> &#125; else if (512 &lt;= i &amp;&amp; i &lt;= 767) &#123; /* é¼ æ ‡æ•°æ® */ </span><br></pre></td></tr></table></figure>
<h2 id="6-è¿½è®°å†…å®¹ï¼ˆ1ï¼‰"><a href="#6-è¿½è®°å†…å®¹ï¼ˆ1ï¼‰" class="headerlink" title="6.è¿½è®°å†…å®¹ï¼ˆ1ï¼‰"></a>6.è¿½è®°å†…å®¹ï¼ˆ1ï¼‰</h2><p>==åœ¨çª—å£ä¸­æ·»åŠ ä¸€äº›ç”»ï¼Œæ”¹å˜é¼ æ ‡å’Œå­—ç¬¦çš„æ˜¾ç¤ºä½ç½®ä»¥åŠé¢œè‰²ã€‚æŒ‰ä¸‹BackSpaceï¼Œè¿˜å¯ä»¥æ”¹å†™å·²ç»è¾“å…¥çš„å­—ç¬¦==</p>
<h2 id="7-è¿½è®°å†…å®¹ï¼ˆ2ï¼‰"><a href="#7-è¿½è®°å†…å®¹ï¼ˆ2ï¼‰" class="headerlink" title="7.è¿½è®°å†…å®¹ï¼ˆ2ï¼‰"></a>7.è¿½è®°å†…å®¹ï¼ˆ2ï¼‰</h2><p>==ä½¿ç”¨é¼ æ ‡ç§»åŠ¨çª—å£==<br>æ·»åŠ çš„ç¨‹åº<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if ((mdec.btn &amp; 0x01) != 0) &#123; </span><br><span class="line"> /* æŒ‰ä¸‹å·¦é”®ã€ç§»åŠ¨sht_win */</span><br><span class="line"> sheet_slide(sht_win, mx - 80, my - 8); </span><br><span class="line">/* åˆ°è¿™é‡Œç»“æŸï¼ */ &#125; </span><br></pre></td></tr></table></figure></p>
<ul>
<li>å³ä½¿çª—å£è·‘åˆ°äº†ç”»é¢å¤–ï¼Œä¹Ÿæ²¡æœ‰é—®é¢˜ã€‚å› ä¸ºæˆ‘ä»¬å·²ç»é’ˆå¯¹é¼ æ ‡æŒ‡é’ˆæå‰é‡‡å–äº†å¯¹ç­–ï¼Œè¿™å°±å¦‚<br>åŒå›¾å±‚è·‘åˆ°äº†ç”»é¢å¤–é¢ä¹Ÿå¯ä»¥åŠ¨èµ·æ¥ä¸€æ ·ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ13ï¼‰</title>
    <url>/201903/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8813%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY13-å®šæ—¶å™¨ï¼ˆ2ï¼‰"><a href="#DAY13-å®šæ—¶å™¨ï¼ˆ2ï¼‰" class="headerlink" title="DAY13_å®šæ—¶å™¨ï¼ˆ2ï¼‰"></a>DAY13_å®šæ—¶å™¨ï¼ˆ2ï¼‰</h1><h2 id="1-ç®€åŒ–å­—ç¬¦ä¸²æ˜¾ç¤º"><a href="#1-ç®€åŒ–å­—ç¬¦ä¸²æ˜¾ç¤º" class="headerlink" title="1. ç®€åŒ–å­—ç¬¦ä¸²æ˜¾ç¤º"></a>1. ç®€åŒ–å­—ç¬¦ä¸²æ˜¾ç¤º</h2><ul>
<li>å°†â€œæ¶‚èƒŒæ™¯è‰²ã€å†™å­—ç¬¦ã€å®Œæˆåˆ·æ–°â€å†™è¿›ä¸€ä¸ªå‡½æ•°ï¼Œæ›´æ–¹ä¾¿ä½¿ç”¨<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void putfonts8_asc_sht(struct SHEET *sht, int x, int y, int c, int b, char *s, int l) </span><br><span class="line">&#123; </span><br><span class="line">     boxfill8(sht-&gt;buf, sht-&gt;bxsize, b, x, y, x + l * 8 - 1, y + 15); </span><br><span class="line">     putfonts8_asc(sht-&gt;buf, sht-&gt;bxsize, x, y, c, s); </span><br><span class="line">     sheet_refresh(sht, x, y, x + l * 8, y + 16); </span><br><span class="line">     return; </span><br><span class="line">&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure>
</li>
</ul>
<span id="more"></span>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">x, y ...... æ˜¾ç¤ºä½ç½®çš„åæ ‡</span><br><span class="line">c ...... å­—ç¬¦é¢œè‰²ï¼ˆcolorï¼‰</span><br><span class="line">b ...... èƒŒæ™¯é¢œè‰²ï¼ˆback colorï¼‰</span><br><span class="line">s ...... å­—ç¬¦ä¸²ï¼ˆstringï¼‰</span><br><span class="line">l ...... å­—ç¬¦ä¸²é•¿åº¦ï¼ˆlengthï¼‰</span><br></pre></td></tr></table></figure>
<h2 id="2-é‡æ–°è°ƒæ•´FIFOç¼“å†²åŒºï¼ˆ1ï¼‰"><a href="#2-é‡æ–°è°ƒæ•´FIFOç¼“å†²åŒºï¼ˆ1ï¼‰" class="headerlink" title="2.é‡æ–°è°ƒæ•´FIFOç¼“å†²åŒºï¼ˆ1ï¼‰"></a>2.é‡æ–°è°ƒæ•´FIFOç¼“å†²åŒºï¼ˆ1ï¼‰</h2><ul>
<li>å°†å®šæ—¶å™¨ç”¨çš„å¤šä¸ªFIFOç¼“å†²åŒºéƒ½é›†ä¸­æˆä¸€ä¸ªï¼Œå¾€FIFOå†™å…¥ä¸åŒçš„æ•°æ®ï¼Œå°±èƒ½å¤Ÿæ­£å¸¸åœ°åˆ†è¾¨å‡ºæ˜¯å“ªä¸ªå¯„å­˜å™¨è¶…æ—¶äº†ã€‚</li>
</ul>
<h2 id="3-æµ‹è¯•æ€§èƒ½"><a href="#3-æµ‹è¯•æ€§èƒ½" class="headerlink" title="3.æµ‹è¯•æ€§èƒ½"></a>3.æµ‹è¯•æ€§èƒ½</h2><ul>
<li>æˆ‘ä»¬ä¸“æ³¨äºå®šæ—¶å™¨åœ°æ”¹è‰¯ï¼Œæ˜¯å› ä¸ºåœ¨ä»Šååœ°å¼€å‘ä¸­ä¼šç»å¸¸ä½¿ç”¨å®šæ—¶å™¨ã€‚</li>
<li>æµ‹è¯•æ€§èƒ½åœ°æ–¹æ³•ï¼šå…ˆå¯¹HariMainç•¥åŠ ä¿®æ”¹ï¼Œæ¢å¤å˜é‡countï¼Œç„¶åå®Œå…¨ä¸æ˜¾ç¤ºè®¡æ•°ï¼Œå…¨åŠ›æ‰§è¡Œâ€œcount++ï¼›â€è¯­å¥ã€‚å½“åˆ°äº†10ç§’åè¶…æ—¶çš„æ—¶å€™ï¼Œå†æ˜¾ç¤ºè¿™ä¸ªcountå€¼ã€‚</li>
</ul>
<h2 id="4-é‡æ–°è°ƒæ•´FIFOç¼“å†²åŒºï¼ˆ2ï¼‰"><a href="#4-é‡æ–°è°ƒæ•´FIFOç¼“å†²åŒºï¼ˆ2ï¼‰" class="headerlink" title="4.é‡æ–°è°ƒæ•´FIFOç¼“å†²åŒºï¼ˆ2ï¼‰"></a>4.é‡æ–°è°ƒæ•´FIFOç¼“å†²åŒºï¼ˆ2ï¼‰</h2><ul>
<li>æŠŠ3ä¸ªå®šæ—¶å™¨å…¨éƒ¨å½’çº³åˆ°ä¸€ä¸ªFIFOç¼“å†²åŒºä¸­ï¼Œå°±å¯ä»¥æŠŠé”®ç›˜å’Œé¼ æ ‡å½’çº³èµ·æ¥ï¼Œåªç”¨1ä¸ªFIFOç¼“å†²åŒºã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">0ï½ 1â€¦â€¦â€¦â€¦â€¦â€¦â€¦å…‰æ ‡é—ªçƒç”¨å®šæ—¶å™¨</span><br><span class="line">3â€¦â€¦â€¦â€¦â€¦â€¦â€¦3ç§’å®šæ—¶å™¨</span><br><span class="line">10â€¦â€¦â€¦â€¦â€¦â€¦â€¦10ç§’å®šæ—¶å™¨</span><br><span class="line">256ï½ 511â€¦â€¦â€¦â€¦â€¦â€¦â€¦é”®ç›˜è¾“å…¥ï¼ˆä»é”®ç›˜æ§åˆ¶å™¨è¯»å…¥çš„å€¼å†åŠ ä¸Š256ï¼‰</span><br><span class="line">512ï½ 767â€¦â€¦é¼ æ ‡è¾“å…¥ï¼ˆä»é”®ç›˜æ§åˆ¶å™¨è¯»å…¥çš„å€¼å†åŠ ä¸Š512ï¼‰</span><br></pre></td></tr></table></figure>
<ul>
<li>æ­¤æ¬¡æˆ‘ä»¬æ”¹å†™æœ€å¤šçš„æ˜¯HariMainã€‚åœ¨HariMainé‡Œï¼Œæ‰§è¡Œâ€œcount++;â€è¯­å¥å’ŒæŸ¥è¯¢FIFOç¼“å†²åŒºä¸­æ˜¯å¦æœ‰æ•°æ®è¿™ä¸¤ä¸ªæ“ä½œï¼Œæ˜¯å¤šæ¬¡äº¤äº’è¿›è¡Œçš„ã€‚è¿™æ¬¡ä¿®æ”¹ä»¥åï¼Œç¨‹åºåªéœ€è¦çœ‹1ä¸ªFIFOç¼“å†²åŒºå°±è¡Œäº†ï¼Œè€Œä»¥å‰è¦çœ‹3ä¸ªã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒFIFOç¼“å†²åŒºçš„æŸ¥è¯¢èƒ½å¤Ÿæ›´å¿«å®Œæˆï¼Œä»è€Œä½¿å¾—â€œcount++;â€è¯­å¥æ‰§è¡Œçš„æ¬¡æ•°æ›´å¤šã€‚</li>
</ul>
<h2 id="5-åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ4ï¼‰"><a href="#5-åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ4ï¼‰" class="headerlink" title="5.åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ4ï¼‰"></a>5.åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ4ï¼‰</h2><ul>
<li>åœ¨FIFOé‡Œæœ‰ä¸€ä¸ªå–ä»£ç§»ä½å¤„ç†çš„æ–¹æ³•ï¼šè¯»å–ä¸€ä¸ªæ•°æ®ä»¥åä¸æ˜¯è®©åé¢çš„æ•°æ®å‘å‰é é½ï¼Œè€Œæ˜¯<br>æ”¹å˜ä¸‹ä¸€æ¬¡çš„æ•°æ®è¯»å–åœ°å€ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå·§å¦™çš„æ–¹æ³•ï¼Œä½†ä¸é€‚ç”¨äºå®šæ—¶å™¨ã€‚å› ä¸ºä»timers[ ]ä¸­å»é™¤è¶…æ—¶çš„ä¸­æ–­æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•è™½ç„¶ä¸é”™ï¼Œä½†é—®é¢˜åœ¨äºï¼Œç”¨timer_settimeç™»å½•ä¸­æ–­æ—¶ï¼Œåé¢çš„ä¸­æ–­å¿…é¡»åç§»ï¼Œåœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œä»¥ä¸Šæ–¹æ³•ä¸å¤ªå¥½ã€‚</li>
<li><p>æ›´å¥½çš„æ–¹æ³•ï¼šæˆ‘ä»¬åœ¨ç»“æ„ä½“struct TIMERä¸­åŠ å…¥nextå˜é‡ã€‚è¿™æ˜¯ä¸ªåœ°å€å˜é‡ï¼Œç”¨æ¥å­˜æ”¾ä¸‹ä¸€ä¸ªå³å°†è¶…æ—¶çš„å®šæ—¶å™¨çš„åœ°å€ã€‚<br><img src="https://s2.ax1x.com/2019/03/31/ArHaKx.jpg" alt="13.1"></p>
</li>
<li><p>åˆ¤æ–­ä¸€ä¸‹é¡ºåºï¼Œå¦‚æœæˆ‘ä»¬çŸ¥é“äº†æ’å…¥çš„ä½ç½®ï¼ˆå³çŸ¥é“äº†åœ¨så’Œtä¸­é—´æ’å…¥çš„è¯ï¼‰ï¼Œå°±å¯ä»¥åƒä¸‹å›¾é‚£æ ·æŠŠæ•°æ®é‡æ–°è¿æ¥èµ·æ¥ã€‚ä¹Ÿå°±æ˜¯ä»…ä»…æ”¹å˜s-&gt;nextå’Œtimer-&gt;nextçš„å€¼å°±å¯ä»¥äº†ã€‚</p>
</li>
</ul>
<p><img src="https://s2.ax1x.com/2019/03/31/ArHgxI.jpg" alt="13.2"></p>
<h2 id="6-ä½¿ç”¨â€œå“¨å…µâ€ç®€åŒ–ç¨‹åº"><a href="#6-ä½¿ç”¨â€œå“¨å…µâ€ç®€åŒ–ç¨‹åº" class="headerlink" title="6.ä½¿ç”¨â€œå“¨å…µâ€ç®€åŒ–ç¨‹åº"></a>6.ä½¿ç”¨â€œå“¨å…µâ€ç®€åŒ–ç¨‹åº</h2><ul>
<li>æˆ‘ä»¬æ¥çœ‹çœ‹å…·ä½“çš„åšæ³•ã€‚åœ¨è¿›è¡Œåˆå§‹åŒ–çš„æ—¶å€™ï¼Œå°†æ—¶åˆ»0xffffffffçš„å®šæ—¶å™¨è¿åˆ°æœ€åä¸€ä¸ªå®šæ—¶å™¨ä¸Šã€‚è™½ç„¶æˆ‘ä»¬å·äº†ç‚¹æ‡’æ²¡æœ‰è®¾å®šfifoç­‰ï¼Œä½†ä¸å¿…æ‹…å¿ƒã€‚åæ­£æ— è®ºå¦‚ä½•éƒ½ä¸å¯èƒ½åˆ°è¾¾è¿™ä¸ªæ—¶åˆ»ï¼ˆåœ¨åˆ°è¾¾ä¹‹å‰ä¼šä¿®æ”¹æ—¶åˆ»ï¼‰ï¼Œæ‰€ä»¥ä¸å¯èƒ½å‘ç”Ÿè¶…æ—¶é—®é¢˜ã€‚å®ƒä¸€ç›´å¤„äºåé¢ï¼Œåªæ˜¯ä¸ªé™„å¸¦ç‰©ï¼Œæ˜¯ä¸ªç•™ä¸‹æ¥çœ‹å®¶çš„ç•™å®ˆè€…ã€‚è¿™ä¸ªç•™å®ˆè€…æ­£æ˜¯â€œå“¨å…µâ€œã€‚</li>
<li></li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ12ï¼‰</title>
    <url>/201903/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8812%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY12-å®šæ—¶å™¨ï¼ˆ1ï¼‰"><a href="#DAY12-å®šæ—¶å™¨ï¼ˆ1ï¼‰" class="headerlink" title="DAY12_å®šæ—¶å™¨ï¼ˆ1ï¼‰"></a>DAY12_å®šæ—¶å™¨ï¼ˆ1ï¼‰</h1><h2 id="1-ä½¿ç”¨å®šæ—¶å™¨"><a href="#1-ä½¿ç”¨å®šæ—¶å™¨" class="headerlink" title="1.ä½¿ç”¨å®šæ—¶å™¨"></a>1.ä½¿ç”¨å®šæ—¶å™¨</h2><p><font color="FF0000">ä»‹ç»å®šæ—¶å™¨çš„ä½œç”¨ï¼Œæ·»åŠ å®šæ—¶å™¨å®ç°ä¸­æ–­ã€‚</font></p>
<ul>
<li>å®šæ—¶å™¨ï¼ˆTimerï¼‰å¯¹äºæ“ä½œç³»ç»Ÿååˆ†é‡è¦ï¼Œæ¯éš”ä¸€æ®µæ—¶é—´å°±å‘é€ä¸€ä¸ªä¸­æ–­ä¿¡å·ç»™CPUã€‚æœ‰äº†å®šæ—¶å™¨ï¼ŒCPUå°±ä¸ç”¨è¾›è‹¦åœ°è®¡é‡æ—¶é—´ã€‚</li>
<li>æ²¡æœ‰å®šæ—¶å™¨ï¼Œæˆ‘ä»¬å°±æ²¡æ³•ä½¿ç”¨HLTæŒ‡ä»¤ï¼Œæ„å‘³ç€è¦æµªè´¹å¾ˆå¤šç”µèƒ½ã€‚</li>
<li>æœ‰äº†å®šæ—¶å™¨ä¸­æ–­ï¼Œç¨‹åºåªéœ€è¦ä»¥è‡ªå·±çš„æ­¥è°ƒå¤„ç†è‡ªå·±çš„é—®é¢˜å°±å¯ä»¥äº†ã€‚è‡³äºåˆ°åº•ç»è¿‡äº†å¤šå°‘æ—¶é—´ï¼Œåªè¦åœ¨ä¸­æ–­å¤„ç†ç¨‹åºä¸­æ•°ä¸€æ•°å®šæ—¶å™¨ä¸­æ–­å‘ç”Ÿçš„æ¬¡æ•°å°±å¯ä»¥äº†ã€‚</li>
</ul>
<span id="more"></span>
<hr>
<ul>
<li>è¦åœ¨ç”µè„‘ä¸­ç®¡ç†å®šæ—¶å™¨ï¼Œåªéœ€è¦å¯¹PITï¼ˆProgrammable Interval Timerå¯ç¼–ç¨‹çš„é—´éš”å‹å®šæ—¶å™¨ï¼‰è¿›è¡Œè®¾å®šå°±å¯ä»¥äº†ã€‚é€šè¿‡è®¾å®šPITï¼Œè®©å®šæ—¶å™¨æ¯éš”å¤šå°‘ç§’å°±äº§ç”Ÿä¸€æ¬¡ä¸­æ–­ã€‚</li>
<li>åœ¨ç”µè„‘ä¸­PITè¿æ¥ç€IRQï¼ˆinterrupt requestï¼‰çš„0å·ï¼Œæ‰€ä»¥åªè¦è®¾å®šäº†PITå°±å¯ä»¥è®¾å®šIRQ0çš„ä¸­æ–­é—´éš”ã€‚</li>
<li>æˆ‘ä»¬ä¸æ¸…æ¥šå…¶ä¸­çš„è¯¦ç»†åŸç†ï¼ŒåªçŸ¥é“åªè¦æ‰§è¡Œ3æ¬¡OUTæŒ‡ä»¤è®¾å®šå°±å®Œæˆäº†ã€‚å°†ä¸­æ–­å‘¨æœŸè®¾å®šä¸º11932çš„è¯ï¼Œä¸­æ–­é¢‘ç‡å¥½åƒå°±æ˜¯100Hzï¼Œä¹Ÿå°±æ˜¯è¯´1ç§’é’Ÿä¼šå‘ç”Ÿ100æ¬¡ä¸­æ–­ã€‚</li>
<li>IRQ0å‘ç”Ÿæ—¶æ‰€è°ƒç”¨çš„ä¸­æ–­å¤„ç†ç¨‹åºå‡ ä¹å’Œé”®ç›˜çš„ä¸­æ–­å¤„ç†ç¨‹åºä¸€æ ·ã€‚</li>
</ul>
<h2 id="2-è®¡é‡æ—¶é—´"><a href="#2-è®¡é‡æ—¶é—´" class="headerlink" title="2.è®¡é‡æ—¶é—´"></a>2.è®¡é‡æ—¶é—´</h2><p>==åŠ å…¥è®¡æ—¶å™¨æ˜¾ç¤ºæ—¶é—´==</p>
<ul>
<li>è®©ä¸­æ–­æ‰§è¡Œä¸‹é¢çš„ç¨‹åº</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">struct TIMERCTL &#123; </span><br><span class="line">    unsigned int count; </span><br><span class="line">&#125;; </span><br></pre></td></tr></table></figure>
<ul>
<li>å®ç°æ–¹æ³•<ul>
<li>å®šä¹‰struct TIMERCTLç»“æ„ä½“ï¼Œåœ¨ç»“æ„ä½“å†…å®šä¹‰ä¸€ä¸ªè®¡æ•°å˜é‡ã€‚</li>
<li>åˆå§‹åŒ–PITæ—¶ï¼Œè®¡æ•°å˜é‡ä¸º0ï¼Œæ¯æ¬¡å‘ç”Ÿå®šæ—¶å™¨ä¸­æ–­æ—¶ï¼Œè®¡æ•°å˜é‡å°±ä»¥1é€’å¢ã€‚</li>
<li>å³è®¡æ•°å˜é‡åœ¨HariMainä¸­ä¸è¿›è¡ŒåŠ ç®—ï¼Œæ¯1sä¹Ÿä¼šå¢åŠ 100.</li>
</ul>
</li>
</ul>
<h2 id="3-è¶…æ—¶åŠŸèƒ½"><a href="#3-è¶…æ—¶åŠŸèƒ½" class="headerlink" title="3.è¶…æ—¶åŠŸèƒ½"></a>3.è¶…æ—¶åŠŸèƒ½</h2><p>==è¶…æ—¶åŠŸèƒ½çš„å®šä¹‰ï¼Œæ·»åŠ è¶…æ—¶åŠŸèƒ½==</p>
<ul>
<li>æˆ‘ä»¬å¯ä»¥è®¡é‡å¤„ç†æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚å…·ä½“åšæ³•ï¼šå¤„ç†å‰çœ‹ä¸€ä¸‹æ—¶é—´å¹¶æŠŠå®ƒå­˜æ”¾åˆ°ä¸€ä¸ªå˜é‡å˜é‡é‡Œï¼Œå¤„ç†ç»“æŸåå†çœ‹ä¸€ä¸‹æ—¶é—´ï¼Œåšå·®å³å¯ã€‚æ ¹æ®è¿™ä¸ªå¯ä»¥ç¼–åˆ¶==åŸºå‡†æµ‹è¯•ç¨‹åº==</li>
<li>è¶…æ—¶ï¼ˆtimeoutï¼‰ï¼šè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œå®šæ—¶å™¨æç¤ºæ“ä½œç³»ç»Ÿã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">struct TIMERCTL &#123; </span><br><span class="line">     unsigned int count; </span><br><span class="line">     unsigned int timeout; </span><br><span class="line">     struct FIFO8 *fifo; </span><br><span class="line">     unsigned char data; </span><br><span class="line">&#125;; </span><br></pre></td></tr></table></figure>
<p>timeoutç”¨äºè®°å½•ç¦»è¶…æ—¶è¿˜æœ‰å¤šé•¿æ—¶é—´ï¼Œå½“å‰©ä½™æ—¶é—´åˆ°è¾¾0æ—¶ï¼Œç¨‹åºå°±å¾€IFIFOç¼“å†²åŒºé‡Œå‘é€æ•°æ®ã€‚</p>
<h2 id="4-è®¾å®šå¤šä¸ªå®šæ—¶å™¨"><a href="#4-è®¾å®šå¤šä¸ªå®šæ—¶å™¨" class="headerlink" title="4.è®¾å®šå¤šä¸ªå®šæ—¶å™¨"></a>4.è®¾å®šå¤šä¸ªå®šæ—¶å™¨</h2><ul>
<li>åœ¨ä¸Šä¸€èŠ‚åšçš„è¶…æ—¶åŠŸèƒ½ï¼Œè¶…æ—¶ç»“æŸåå¦‚æœå†è®¾å®š1000çš„è¯ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥è®©å®ƒæ¯10ç§’æ˜¾ç¤ºä¸€<br>æ¬¡ï¼Œæˆ–æ˜¯è®©å®ƒä¸€é—ªä¸€ç­åœ°æ˜¾ç¤ºã€‚</li>
<li>å¼€å‘æ“ä½œç³»ç»Ÿæ—¶ï¼Œè¶…æ—¶åŠŸèƒ½éå¸¸æ–¹ä¾¿ï¼Œæ‰€ä»¥åœ¨å¾ˆå¤šåœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨å®ƒã€‚æ¯”å¦‚å¯ä»¥è®©ç”µå­æ—¶é’Ÿ<br>æ¯éš”1ç§’é‡æ–°æ˜¾ç¤ºä¸€æ¬¡ï¼›æ¼”å¥éŸ³ä¹æ—¶ï¼Œå¯ä»¥ç”¨å®ƒè®¡é‡éŸ³ç¬¦çš„é•¿çŸ­ï¼›ä¹Ÿå¯ä»¥è®©å®ƒä»¥0.1ç§’1æ¬¡çš„é¢‘ç‡æ¥ç›‘è§†æ²¡æœ‰ä¸­æ–­åŠŸèƒ½çš„è£…ç½®ï¼›å¦å¤–ï¼Œè¿˜å¯ä»¥ç”¨å®ƒå®ç°å…‰æ ‡çš„é—ªçƒåŠŸèƒ½ã€‚<br>ä¸ºäº†ç®€å•åœ°å®ç°è¿™äº›åŠŸèƒ½ï¼Œæˆ‘ä»¬è¦å‡†å¤‡å¾ˆå¤šèƒ½å¤Ÿè®¾å®šè¶…æ—¶çš„å®šæ—¶å™¨ã€‚</li>
</ul>
<h2 id="5-åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ1ï¼‰"><a href="#5-åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ1ï¼‰" class="headerlink" title="5.åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ1ï¼‰"></a>5.åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ1ï¼‰</h2><ul>
<li>é—®é¢˜ï¼šinthandler20ä¸­æ–­èŠ±è´¹äº†å¾ˆé•¿çš„æ—¶é—´</li>
<li>ä¼˜åŒ–éƒ¨åˆ†ï¼šç°æ¯æ¬¡è¿›è¡Œå®šæ—¶å™¨ä¸­æ–­å¤„ç†çš„æ—¶å€™ï¼Œéƒ½ä¼šå¯¹æ‰€æœ‰æ´»åŠ¨ä¸­çš„å®šæ—¶å™¨è¿›è¡Œâ€œtimerctl.timer[i].timeoutâ€”;â€å¤„ç†ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒCPUè¦å®Œæˆä»å†…å­˜ä¸­è¯»å–å˜é‡å€¼ï¼Œå‡å»1ï¼Œç„¶ååˆå¾€å†…å­˜ä¸­å†™å…¥çš„æ“ä½œã€‚</li>
<li>time[i].timeoutä¸å†æ˜¯â€œæ‰€å‰©æ—¶é—´â€è€Œæ˜¯â€œäºˆå®šæ—¶åˆ»â€ï¼Œå°†timerctl.countå’Œtimer[i].timeoutè¿›è¡Œæ¯”è¾ƒï¼Œä¸ç”¨å†ç»è¿‡å†…å­˜è®¡ç®—ã€‚</li>
<li>é—®é¢˜ï¼šcountè®¾å®šæˆæœ€å¤§å€¼ï¼Œä¸€æ®µæ—¶é—´åéœ€è¦é‡æ–°å¯åŠ¨æ“ä½œç³»ç»Ÿã€‚</li>
</ul>
<h2 id="6-åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ2ï¼‰"><a href="#6-åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ2ï¼‰" class="headerlink" title="6.åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ2ï¼‰"></a>6.åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ2ï¼‰</h2><p>==ä¼˜åŒ–ifè¯­å¥==<br>è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ timerctl.nextï¼Œè®©å®ƒè®°ä½ä¸‹ä¸€ä¸ªæ—¶åˆ»</p>
<h2 id="7-åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ3ï¼‰"><a href="#7-åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ3ï¼‰" class="headerlink" title="7.åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ3ï¼‰"></a>7.åŠ å¿«ä¸­æ–­å¤„ç†ï¼ˆ3ï¼‰</h2><ul>
<li>é—®é¢˜ï¼šåˆ°è¾¾nextæ—¶åˆ»å’Œæ²¡åˆ°nextæ—¶åˆ»çš„å®šæ—¶å™¨ä¸­æ–­ï¼Œå®ƒä»¬çš„å¤„ç†æ—¶é—´å·®åˆ«å¾ˆå¤§ã€‚<br>è¿™æ ·çš„ç¨‹åºç»“æ„ä¸å¥½ã€‚å› ä¸ºå¹³å¸¸è¿è¡Œä¸€ç›´éƒ½å¾ˆå¿«çš„ç¨‹åºï¼Œä¼šå¶å°”ç”±äºä¸­æ–­å¤„ç†æ‹–å¾—å¤ªé•¿ï¼Œè€Œæå¾—åƒæ˜¯ä¸»ç¨‹åºè¦åœäº†ä¼¼çš„ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ11ï¼‰</title>
    <url>/201903/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8811%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY11-åˆ¶ä½œçª—å£"><a href="#DAY11-åˆ¶ä½œçª—å£" class="headerlink" title="DAY11_åˆ¶ä½œçª—å£"></a>DAY11_åˆ¶ä½œçª—å£</h1><h2 id="1-é¼ æ ‡æ˜¾ç¤ºé—®é¢˜"><a href="#1-é¼ æ ‡æ˜¾ç¤ºé—®é¢˜" class="headerlink" title="1.é¼ æ ‡æ˜¾ç¤ºé—®é¢˜"></a>1.é¼ æ ‡æ˜¾ç¤ºé—®é¢˜</h2><ul>
<li>æˆ‘ä»¬ç³»ç»Ÿçš„é¼ æ ‡ä¸èƒ½å¤Ÿå‘å³æˆ–å‘ä¸‹ç§»åŠ¨åˆ°ç”»é¢ä¹‹å¤–éšè—èµ·æ¥ã€‚ä¸ºæ­¤æˆ‘ä»¬ä¿®æ”¹HariMain</li>
</ul>
<span id="more"></span>
<p>å°†<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if (mx &gt; binfo-&gt;scrnx - 16) &#123; </span><br><span class="line">    mx = binfo-&gt;scrnx - 16; </span><br><span class="line"> &#125; </span><br><span class="line"> if (my &gt; binfo-&gt;scrny - 16) &#123; </span><br><span class="line">    my = binfo-&gt;scrny - 16; </span><br><span class="line"> &#125; </span><br></pre></td></tr></table></figure><br>ä¿®æ”¹ä¸º<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">if (mx &gt; binfo-&gt;scrnx - 1) &#123; </span><br><span class="line">    mx = binfo-&gt;scrnx - 1; </span><br><span class="line"> &#125; </span><br><span class="line"> if (my &gt; binfo-&gt;scrny - 1) &#123; </span><br><span class="line">    my = binfo-&gt;scrny - 1; </span><br><span class="line"> &#125; </span><br></pre></td></tr></table></figure></p>
<h2 id="2-å®ç°ç”»é¢å¤–çš„æ”¯æŒ"><a href="#2-å®ç°ç”»é¢å¤–çš„æ”¯æŒ" class="headerlink" title="2.å®ç°ç”»é¢å¤–çš„æ”¯æŒ"></a>2.å®ç°ç”»é¢å¤–çš„æ”¯æŒ</h2><h2 id="3-shtctlçš„æŒ‡å®šçœç•¥"><a href="#3-shtctlçš„æŒ‡å®šçœç•¥" class="headerlink" title="3.shtctlçš„æŒ‡å®šçœç•¥"></a>3.shtctlçš„æŒ‡å®šçœç•¥</h2><p>ä»…ä»…æ˜¯ä¸Šä¸‹ç§»åŠ¨å›¾å±‚å°±å¿…é¡»æŒ‡å®šctlå¤ªéº»çƒ¦äº†ã€‚ä¿®æ”¹å°†sheet_refreshã€sheet_slideã€sheet_freeç­‰å‡½æ•°ï¼Œè®©å®ƒä»¬ä¸å†æŒ‡å®šctl</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">sheet_refresh</span><span class="params">(<span class="keyword">struct</span> SHEET *sht, <span class="type">int</span> bx0, <span class="type">int</span> by0, <span class="type">int</span> bx1, <span class="type">int</span> by1)</span> </span><br><span class="line">&#123; </span><br><span class="line"> <span class="keyword">if</span> (sht-&gt;height &gt;= <span class="number">0</span>) &#123; <span class="comment">/* å¦‚æœæ­£åœ¨æ˜¾ç¤ºï¼Œåˆ™æŒ‰æ–°å›¾å±‚çš„ä¿¡æ¯è¿›è¡Œåˆ·æ–°*/</span> </span><br><span class="line"> sheet_refreshsub(sht-&gt;ctl, sht-&gt;vx0 + bx0, sht-&gt;vy0 + by0, sht-&gt;vx0 + bx1, sht-&gt;vy0 + by1); </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="keyword">return</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="type">void</span> <span class="title function_">sheet_slide</span><span class="params">(<span class="keyword">struct</span> SHEET *sht, <span class="type">int</span> vx0, <span class="type">int</span> vy0)</span> </span><br><span class="line">&#123; </span><br><span class="line"> <span class="type">int</span> old_vx0 = sht-&gt;vx0, old_vy0 = sht-&gt;vy0; </span><br><span class="line"> sht-&gt;vx0 = vx0; </span><br><span class="line"> sht-&gt;vy0 = vy0; </span><br><span class="line"> <span class="keyword">if</span> (sht-&gt;height &gt;= <span class="number">0</span>) &#123; <span class="comment">/* å¦‚æœæ­£åœ¨æ˜¾ç¤ºï¼Œåˆ™æŒ‰æ–°å›¾å±‚çš„ä¿¡æ¯è¿›è¡Œåˆ·æ–° */</span> </span><br><span class="line"> sheet_refreshsub(sht-&gt;ctl, old_vx0, old_vy0, old_vx0 + sht-&gt;bxsize, old_vy0 + </span><br><span class="line">sht-&gt;bysize); </span><br><span class="line"> sheet_refreshsub(sht-&gt;ctl, vx0, vy0, vx0 + sht-&gt;bxsize, vy0 + sht-&gt;bysize); </span><br><span class="line"> &#125; </span><br><span class="line"> <span class="keyword">return</span>; </span><br><span class="line">&#125; </span><br><span class="line"><span class="type">void</span> <span class="title function_">sheet_free</span><span class="params">(<span class="keyword">struct</span> SHEET *sht)</span> </span><br><span class="line">&#123; </span><br><span class="line"> <span class="keyword">if</span> (sht-&gt;height &gt;= <span class="number">0</span>) &#123; </span><br><span class="line"> sheet_updown(sht, <span class="number">-1</span>); <span class="comment">/* å¦‚æœæ­£åœ¨æ˜¾ç¤ºï¼Œåˆ™å…ˆè®¾ç½®ä¸ºéšè— */</span> </span><br><span class="line"> &#125; </span><br><span class="line"> sht-&gt;flags = <span class="number">0</span>; <span class="comment">/* æœªä½¿ç”¨æ ‡è®° */</span> </span><br><span class="line"> <span class="keyword">return</span>; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure>
<h2 id="4-æ˜¾ç¤ºçª—å£"><a href="#4-æ˜¾ç¤ºçª—å£" class="headerlink" title="4.æ˜¾ç¤ºçª—å£"></a>4.æ˜¾ç¤ºçª—å£</h2><ul>
<li>å…ˆå‡†å¤‡ä¸€å¼ å›¾å±‚ï¼Œç„¶ååœ¨å›¾å±‚ç¼“å†²åŒºå†…æç»˜ä¸€ä¸ªè²Œä¼¼çª—å£çš„å›¾å°±å¯ä»¥äº†ã€‚</li>
</ul>
<p>åªæ˜¯å¯¹graph.cçš„init_screen8å‡½æ•°ç¨å¾®è¿›è¡Œä¿®æ”¹ã€‚<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void make_window8(unsigned char *buf, int xsize, int ysize, char *title) </span><br><span class="line">&#123; </span><br><span class="line">     static char closebtn[14][16] = &#123; </span><br><span class="line">     &quot;OOOOOOOOOOOOOOO@&quot;, </span><br><span class="line">     &quot;OQQQQQQQQQQQQQ$@&quot;, </span><br><span class="line">     &quot;OQQQQQQQQQQQQQ$@&quot;, </span><br><span class="line">     &quot;OQQQ@@QQQQ@@QQ$@&quot;, </span><br><span class="line">     &quot;OQQQQ@@QQ@@QQQ$@&quot;, </span><br><span class="line">     &quot;OQQQQQ@@@@QQQQ$@&quot;, </span><br><span class="line">     &quot;OQQQQQQ@@QQQQQ$@&quot;, </span><br><span class="line">     &quot;OQQQQQ@@@@QQQQ$@&quot;, </span><br><span class="line">     &quot;OQQQQ@@QQ@@QQQ$@&quot;, </span><br><span class="line">     &quot;OQQQ@@QQQQ@@QQ$@&quot;, </span><br><span class="line">     &quot;OQQQQQQQQQQQQQ$@&quot;, </span><br><span class="line">     &quot;OQQQQQQQQQQQQQ$@&quot;, </span><br><span class="line">     &quot;O$$$$$$$$$$$$$$@&quot;, </span><br><span class="line">     &quot;@@@@@@@@@@@@@@@@&quot; </span><br><span class="line">     &#125;; </span><br><span class="line">     int x, y; </span><br><span class="line">     char c; </span><br><span class="line">     boxfill8(buf, xsize, COL8_C6C6C6, 0, 0, xsize - 1, 0 ); </span><br><span class="line">     boxfill8(buf, xsize, COL8_FFFFFF, 1, 1, xsize - 2, 1 ); </span><br><span class="line">     boxfill8(buf, xsize, COL8_C6C6C6, 0, 0, 0, ysize - 1); </span><br><span class="line">     boxfill8(buf, xsize, COL8_FFFFFF, 1, 1, 1, ysize - 2); </span><br><span class="line">     boxfill8(buf, xsize, COL8_848484, xsize - 2, 1, xsize - 2, ysize - 2); </span><br><span class="line">     boxfill8(buf, xsize, COL8_000000, xsize - 1, 0, xsize - 1, ysize - 1); </span><br><span class="line">     boxfill8(buf, xsize, COL8_C6C6C6, 2, 2, xsize - 3, ysize - 3); </span><br><span class="line">     boxfill8(buf, xsize, COL8_000084, 3, 3, xsize - 4, 20 ); </span><br><span class="line">     boxfill8(buf, xsize, COL8_848484, 1, ysize - 2, xsize - 2, ysize - 2); </span><br><span class="line">     boxfill8(buf, xsize, COL8_000000, 0, ysize - 1, xsize - 1, ysize - 1); </span><br><span class="line">     putfonts8_asc(buf, xsize, 24, 4, COL8_FFFFFF, title); </span><br><span class="line">     for (y = 0; y &lt; 14; y++) &#123; </span><br><span class="line">        for (x = 0; x &lt; 16; x++) &#123; </span><br><span class="line">            c = closebtn[y][x]; </span><br><span class="line">            if (c == &#x27;@&#x27;) &#123; </span><br><span class="line">                c = COL8_000000; </span><br><span class="line">            &#125; else if (c == &#x27;$&#x27;) &#123; </span><br><span class="line">            c = COL8_848484; </span><br><span class="line">            &#125; else if (c == &#x27;Q&#x27;) &#123; </span><br><span class="line">            c = COL8_C6C6C6; </span><br><span class="line">            &#125; else &#123; </span><br><span class="line">            c = COL8_FFFFFF; </span><br><span class="line">            &#125; </span><br><span class="line">            buf[(5 + y) * xsize + (xsize - 21 + x)] = c; </span><br><span class="line">        &#125;   </span><br><span class="line">     &#125; </span><br><span class="line">     return; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></p>
<h2 id="5-å°å®éªŒ"><a href="#5-å°å®éªŒ" class="headerlink" title="5.å°å®éªŒ"></a>5.å°å®éªŒ</h2><p>HariMainä¸­æœ‰è®¾ç½®å›¾å±‚é«˜åº¦çš„åœ°æ–¹ï¼Œå¦‚æœåƒä¸‹é¢è¿™æ ·ï¼ŒæŠŠçª—å£å›¾å±‚æ”¾åœ¨æœ€ä¸Šé¢ï¼Œå…‰æ ‡å›¾å±‚æ”¾åœ¨å…¶æ¬¡ï¼Œä¼šå˜æˆä»€ä¹ˆæ ·å‘¢ï¼Ÿ<br><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sheet_updown(sht_back, 0); </span><br><span class="line">sheet_updown(sht_mouse, 1); </span><br><span class="line">sheet_updown(sht_win, 2); </span><br></pre></td></tr></table></figure><br>é¼ æ ‡ä¼šè·‘åˆ°çª—å£å›¾å±‚çš„ä¸‹é¢ã€‚</p>
<h2 id="6-é«˜é€Ÿè®¡æ•°å™¨"><a href="#6-é«˜é€Ÿè®¡æ•°å™¨" class="headerlink" title="6.é«˜é€Ÿè®¡æ•°å™¨"></a>6.é«˜é€Ÿè®¡æ•°å™¨</h2><ul>
<li>æˆ‘ä»¬è¦åšä¸€ä¸ªèƒ½å¤Ÿè®¡æ•°ï¼Œå¹¶ä¸”èƒ½å¤ŸæŠŠè®¡æ•°ç»“æœæ˜¾ç¤ºå‡ºæ¥çš„çª—å£ã€‚</li>
<li>ä½†æ˜¯åœ¨åˆ·æ–°çš„æ—¶å€™ï¼Œæ€»æ˜¯å…ˆåˆ·æ–°refreshèŒƒå›´å†…çš„èƒŒæ™¯å›¾å±‚ï¼Œç„¶åå†åˆ·æ–°çª—å£å›¾å±‚ï¼Œå¯¼è‡´æ•°å­—é—ªçƒã€‚</li>
</ul>
<h2 id="7-æ¶ˆé™¤é—ªçƒï¼ˆ1ï¼‰"><a href="#7-æ¶ˆé™¤é—ªçƒï¼ˆ1ï¼‰" class="headerlink" title="7.æ¶ˆé™¤é—ªçƒï¼ˆ1ï¼‰"></a>7.æ¶ˆé™¤é—ªçƒï¼ˆ1ï¼‰</h2><ul>
<li>çª—å£å›¾å±‚åˆ·æ–°æ˜¯å› ä¸ºçª—å£çš„å†…å®¹æœ‰å˜åŒ–ï¼Œæ‰€ä»¥è¦åœ¨ç”»é¢ä¸Šæ˜¾ç¤ºå˜åŒ–åçš„æ–°å†…å®¹ã€‚åŸºæœ¬ä¸Šæ¥è®²ï¼Œå¯ä»¥è®¤ä¸ºå…¶ä»–å›¾å±‚çš„å†…å®¹æ²¡æœ‰å˜åŒ–ï¼ˆå¦‚æœå…¶ä»–å›¾å±‚çš„å†…å®¹ä¹Ÿå˜äº†ï¼Œé‚£ä¹ˆåº”è¯¥ä¼šéšåæ‰§è¡Œè¯¥å›¾å±‚çš„åˆ·æ–°ï¼‰ã€‚<br>æ—¢ç„¶å¦‚æ­¤ï¼Œå›¾å±‚å†…å®¹æ²¡æœ‰å˜åŒ–ä¹Ÿè¿›è¡Œåˆ·æ–°çš„è¯å°±å¤ªæµªè´¹äº†ã€‚å¦‚æœåªæ˜¯çª—å£å˜äº†ï¼Œé‚£èƒŒæ™¯å°±ä¸<br>ç”¨åˆ·æ–°äº†ã€‚å‡å¦‚ä¸Šé¢æœ‰é¼ æ ‡ï¼Œä½†é¼ æ ‡çš„å›¾å±‚æ²¡æœ‰å˜åŒ–ï¼Œæˆ‘ä»¬ä¹Ÿå¿…é¡»è¦åˆ·æ–°ã€‚çª—å£çš„åˆ·æ–°ï¼Œå¯èƒ½ä¼šè¦†ç›–é¼ æ ‡çš„ä¸€éƒ¨åˆ†æ˜¾ç¤ºåŒºåŸŸã€‚</li>
<li>åœ¨sheet_slideå‡½æ•°é‡Œï¼Œå›¾å±‚çš„ç§»åŠ¨æœ‰æ—¶ä¼šå¯¼è‡´ä¸‹é¢çš„å›¾å±‚éœ²å‡ºï¼Œæ‰€ä»¥è¦ä»æœ€ä¸‹é¢å¼€å§‹åˆ·æ–°ã€‚<br>å¦ä¸€æ–¹é¢ï¼Œåœ¨ç§»åŠ¨ç›®æ ‡å¤„ï¼Œæ¯”æ–°ç§»æ¥çš„å›¾å±‚ä½ç½®è¿˜è¦ä½çš„å›¾å±‚æ²¡æœ‰ä»€ä¹ˆå˜åŒ–ï¼Œè€Œä¸”åªæ˜¯éšè—èµ·æ¥äº†ï¼Œæ‰€ä»¥åªè¦åˆ·æ–°ç§»åŠ¨çš„å›¾å±‚å’Œå®ƒä¸Šé¢çš„å›¾å±‚å°±å¯ä»¥äº†ã€‚</li>
<li>ä½†æ˜¯ä¿®æ”¹ä»£ç åï¼Œé¼ æ ‡æ”¾åœ¨æ•°å­—åŒºçš„æ—¶å€™ï¼Œé¼ æ ‡åˆå¼€å§‹é—ªçƒã€‚</li>
</ul>
<h2 id="8-æ¶ˆé™¤é—ªçƒï¼ˆ2ï¼‰"><a href="#8-æ¶ˆé™¤é—ªçƒï¼ˆ2ï¼‰" class="headerlink" title="8.æ¶ˆé™¤é—ªçƒï¼ˆ2ï¼‰"></a>8.æ¶ˆé™¤é—ªçƒï¼ˆ2ï¼‰</h2><ul>
<li>é—ªçƒç°è±¡æ˜¯ç”±äºä¸€ä¼šå„¿æç»˜ä¸€ä¼šå„¿æ¶ˆé™¤é€ æˆçš„ã€‚æ‰€ä»¥è¯´è¦æƒ³æ¶ˆé™¤é—ªçƒï¼Œå°±è¦åœ¨åˆ·æ–°çª—å£æ—¶é¿å¼€é¼ æ ‡æ‰€åœ¨çš„åœ°æ–¹å¯¹VRAMè¿›è¡Œå†™å…¥å¤„ç†ã€‚</li>
<li><p>æ–¹æ³•ï¼šå…ˆå¼€è¾Ÿä¸€å—å„¿å†…å­˜ï¼Œå¤§å°å’ŒVRAMä¸€æ ·ï¼Œè¿™å—å†…å­˜ç”¨æ¥è¡¨ç¤ºç”»é¢ä¸Šçš„ç‚¹æ˜¯å“ªä¸ªå›¾å±‚çš„åƒç´ ï¼Œç›¸å½“äºå›¾å±‚çš„åœ°å›¾ã€‚<br><img src="https://s2.ax1x.com/2019/03/24/AYhJwF.png" alt="d11.1"></p>
</li>
<li><p>ä»Šåç¨‹åºä¼šå¯¹ç…§mapå†…å®¹æ¥å‘VRAMä¸­å†™å…¥ï¼Œæ‰€ä»¥æœ‰æ—¶æ²¡å¿…è¦ä»ä¸‹é¢å¼€å§‹ä¸€ç›´åˆ·æ–°åˆ°æœ€ä¸Šé¢<br>ä¸€å±‚ã€‚</p>
</li>
<li>åœ¨sheet_slideå‡½æ•°é‡Œï¼Œé¦–å…ˆé‡å†™mapï¼Œåˆ†åˆ«å¯¹åº”ç§»åŠ¨å‰åçš„å›¾å±‚ï¼Œç„¶åè°ƒç”¨sheet_refreshsubå‡½æ•°ã€‚åœ¨ç§»åŠ¨å‰çš„åœ°æ–¹ï¼Œåªé’ˆå¯¹ä¸Šå±‚å›¾å±‚ç§»èµ°ä¹‹åè€Œéœ²å‡ºçš„ä¸‹å±‚å›¾å±‚è¿›è¡Œé‡ç»˜å°±å¯ä»¥äº†ã€‚åœ¨ç§»åŠ¨ç›®çš„åœ°å¤„ä»…é‡ç»˜äº†ä¸€å¼ ç§»åŠ¨è¿‡å»çš„å›¾å±‚ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ10ï¼‰</title>
    <url>/201903/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%8810%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY10-å åŠ å¤„ç†"><a href="#DAY10-å åŠ å¤„ç†" class="headerlink" title="DAY10_å åŠ å¤„ç†"></a>DAY10_å åŠ å¤„ç†</h1><h2 id="1-å†…å­˜ç®¡ç†ï¼ˆç»­ï¼‰"><a href="#1-å†…å­˜ç®¡ç†ï¼ˆç»­ï¼‰" class="headerlink" title="1.å†…å­˜ç®¡ç†ï¼ˆç»­ï¼‰"></a>1.å†…å­˜ç®¡ç†ï¼ˆç»­ï¼‰</h2><span id="more"></span>
<ul>
<li>memory.cä¸­å¢åŠ äº†â€œå‘ä¸Šèˆå…¥â€çš„éƒ¨åˆ†ï¼Œå³æˆ‘ä»¬è¦ç¼–å†™ä¸€äº›æ€»æ˜¯ä»¥0x1000å­—èŠ‚ä¸ºå•ä½è¿›è¡Œå†…å­˜åˆ†é…å’Œé‡Šæ”¾çš„å‡½æ•°ï¼Œå®ƒä»¬ä¼šæŠŠæŒ‡å®šçš„å†…å­˜å¤§å°æŒ‰0x1000å­—èŠ‚ä¸ºå•ä½å‘ä¸Šèˆå…¥ï¼ˆ roundupï¼‰ã€‚</li>
<li>ä»å‘ä¸‹èˆå…¥å¼€å§‹<br>è¦æƒ³æŠŠåå…­è¿›åˆ¶çš„æŸä¸€ä½è®¾ç½®ä¸º0ï¼ŒåŒæ ·åªè¿›è¡Œâ€œä¸è¿ç®—â€å°±å¯ä»¥ã€‚</li>
<li>å‘ä¸Šèˆå…¥ï¼šå…ˆå‘ä¸‹èˆå…¥ï¼Œå†åœ¨å®ƒçš„ç»“æœä¸Šåšä¸ªåŠ æ³•è¿ç®—å°±å¯ä»¥äº†ã€‚ï¼ˆè¦å…ˆåˆ¤æ–­åå‡ ä½æ˜¯ä¸æ˜¯0ï¼‰</li>
<li>æ›´å¥½çš„å‘ä¸Šèˆå…¥çš„æ–¹æ³•ï¼ši = (i + 0xfff) &amp; 0xfffff000; </li>
</ul>
<h2 id="2-å åŠ å¤„ç†"><a href="#2-å åŠ å¤„ç†" class="headerlink" title="2.å åŠ å¤„ç†"></a>2.å åŠ å¤„ç†</h2><ul>
<li>å¯»æ‰¾ä¸€ç§æ–¹æ³•ï¼Œä¸ä»…é€‚ç”¨äºé¼ æ ‡çš„å åŠ ï¼Œè¿˜é€‚ç”¨äºçª—å£çš„å åŠ ã€‚</li>
<li>åœ¨ç¨‹åºä¸­åˆ›å»ºç®¡ç†å¤šé‡å›¾å±‚ä¿¡æ¯çš„ç»“æ„SHTCTL</li>
<li>sheet_refreshå‡½æ•°ï¼šè¿™ä¸ªå‡½æ•°ä¼šä»ä¸‹åˆ°ä¸Šæç»˜æ‰€æœ‰çš„å›¾å±‚ã€‚refreshæ˜¯â€œåˆ·æ–°â€çš„æ„æ€ã€‚ç”µè§†å±å¹•å°±æ˜¯åœ¨1ç§’å†…å®Œæˆå¤šå¸§çš„æç»˜æ‰åšå‡ºåŠ¨ç”»æ•ˆæœçš„ï¼Œè¿™ä¸ªåŠ¨ä½œå°±è¢«ç§°ä¸ºåˆ·æ–°ã€‚è€Œè¿™ç§å¯¹å›¾å±‚çš„åˆ·æ–°åŠ¨ä½œï¼Œä¸ç”µè§†å±å¹•çš„åŠ¨ä½œæœ‰äº›ç›¸ä¼¼ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿç»™å®ƒèµ·åå­—å«åšåˆ·æ–°ã€‚</li>
<li>sheet_slideï¼šä¸æ”¹å˜å›¾å±‚çš„é«˜åº¦è€Œåªä¸Šä¸‹å·¦å³ç§»åŠ¨å›¾å±‚çš„å‡½æ•°ã€‚</li>
<li>sheet_freeé‡Šæ”¾å·²ä½¿ç”¨å›¾å±‚çš„å†…å­˜çš„å‡½æ•°ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">struct SHTCTL *shtctl_init(struct MEMMAN *memman, unsigned char *vram, int xsize, int ysize) </span><br><span class="line">&#123; </span><br><span class="line">     struct SHTCTL *ctl; </span><br><span class="line">     int i; </span><br><span class="line">     ctl = (struct SHTCTL *) memman_alloc_4k(memman, sizeof (struct SHTCTL)); </span><br><span class="line">     if (ctl == 0) &#123; </span><br><span class="line">     goto err; </span><br><span class="line">     &#125; </span><br><span class="line">         ctl-&gt;vram = vram; </span><br><span class="line">         ctl-&gt;xsize = xsize; </span><br><span class="line">         ctl-&gt;ysize = ysize; </span><br><span class="line">         ctl-&gt;top = -1; /*ä¸€ä¸ªSHEETæ²¡éƒ½æœ‰ */ </span><br><span class="line">         for (i = 0; i &lt; MAX_SHEETS; i++) &#123; </span><br><span class="line">         ctl-&gt;sheets0[i].flags = 0; /* æ ‡è®°ä¸ºæœªä½¿ç”¨ */ </span><br><span class="line">        &#125; </span><br><span class="line">    err: </span><br><span class="line">     return ctl; </span><br><span class="line">&#125; </span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>é¦–å…ˆä½¿ç”¨memman_alloc_4kæ¥åˆ†é…ç”¨äºè®°å¿†å›¾å±‚æ§åˆ¶å˜é‡çš„å†…å­˜ç©ºé—´ï¼Œè¿™æ—¶å¿…é¡»æŒ‡å®šè¯¥å˜é‡æ‰€å ç©ºé—´çš„å¤§å°ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥ä½¿ç”¨sizeofï¼ˆstruct SHTCTLï¼‰è¿™ç§å†™æ³•ï¼Œè®©Cç¼–è¯‘å™¨è‡ªåŠ¨è®¡ç®—ã€‚åªè¦å†™sizeofï¼ˆå˜é‡å‹ï¼‰ï¼ŒCç¼–è¯‘å™¨å°±ä¼šè®¡ç®—å‡ºè¯¥å˜é‡å‹æ‰€éœ€çš„å­—èŠ‚æ•°ã€‚<br>æ¥ç€ï¼Œæˆ‘ä»¬ç»™æ§åˆ¶å˜é‡èµ‹å€¼ï¼Œç»™å…¶ä¸‹çš„æ‰€æœ‰å›¾å±‚å˜é‡éƒ½åŠ ä¸Šâ€œæœªä½¿ç”¨â€æ ‡ç­¾ã€‚</p>
<h2 id="3-æé«˜å åŠ å¤„ç†é€Ÿåº¦ï¼ˆ1ï¼‰"><a href="#3-æé«˜å åŠ å¤„ç†é€Ÿåº¦ï¼ˆ1ï¼‰" class="headerlink" title="3.æé«˜å åŠ å¤„ç†é€Ÿåº¦ï¼ˆ1ï¼‰"></a>3.æé«˜å åŠ å¤„ç†é€Ÿåº¦ï¼ˆ1ï¼‰</h2><ul>
<li>åªéœ€è¦é‡æ–°æç»˜é¼ æ ‡ç§»åŠ¨ç›¸å…³çš„éƒ¨åˆ†ï¼Œä¹Ÿå°±æ˜¯ç§»åŠ¨å‰åçš„éƒ¨åˆ†å°±å¯ä»¥äº†ï¼Œå³256Ã—2=512ä¸ªåƒç´ ã€‚è¿™åªæ˜¯64 000åƒç´ çš„0.8%è€Œå·²ï¼Œæ‰€ä»¥æœ‰æœ›æé€Ÿå¾ˆå¤šã€‚ç°åœ¨æˆ‘ä»¬æ ¹æ®è¿™ä¸ªæ€è·¯å†™ä¸€ä¸‹ç¨‹åºã€‚</li>
<li>è¦åœ¨ç”»é¢ä¸Šæ˜¾ç¤ºåæ ‡ç­‰ä¿¡æ¯ï¼Œç»“æœåˆæ‰§è¡Œäº†sheet_refreshç¨‹åºã€‚æ‰€ä»¥æˆ‘ä»¬è¦è§£å†³å›¾å±‚å†…æ–‡å­—æ˜¾ç¤ºçš„é—®é¢˜ã€‚</li>
</ul>
<h2 id="4-æé«˜å åŠ å¤„ç†é€Ÿåº¦ï¼ˆ2ï¼‰"><a href="#4-æé«˜å åŠ å¤„ç†é€Ÿåº¦ï¼ˆ2ï¼‰" class="headerlink" title="4.æé«˜å åŠ å¤„ç†é€Ÿåº¦ï¼ˆ2ï¼‰"></a>4.æé«˜å åŠ å¤„ç†é€Ÿåº¦ï¼ˆ2ï¼‰</h2><ul>
<li>ä½¿ä¸å†™å…¥åƒç´ å†…å®¹ï¼Œä¹Ÿè¦å¤šæ¬¡æ‰§è¡Œifè¯­å¥ã€‚æˆ‘ä»¬æœ€åˆå°±åº”è¯¥æŠŠforè¯­å¥çš„èŒƒå›´é™å®šåœ¨åˆ·æ–°èŒƒå›´ä¹‹å†…ã€‚<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">void sheet_refreshsub(struct SHTCTL *ctl, int vx0, int vy0, int vx1, int vy1) </span><br><span class="line">&#123; </span><br><span class="line">     int h, bx, by, vx, vy, bx0, by0, bx1, by1; </span><br><span class="line">     unsigned char *buf, c, *vram = ctl-&gt;vram; </span><br><span class="line">     struct SHEET *sht; </span><br><span class="line">     for (h = 0; h &lt;= ctl-&gt;top; h++) &#123; </span><br><span class="line">     sht = ctl-&gt;sheets[h]; </span><br><span class="line">     buf = sht-&gt;buf; </span><br><span class="line">     /* ä½¿ç”¨vx0ï½vy1ï¼Œå¯¹bx0ï½by1è¿›è¡Œå€’æ¨ */ </span><br><span class="line">     bx0 = vx0 - sht-&gt;vx0; </span><br><span class="line">     by0 = vy0 - sht-&gt;vy0; </span><br><span class="line">     bx1 = vx1 - sht-&gt;vx0; </span><br><span class="line">     by1 = vy1 - sht-&gt;vy0; </span><br><span class="line">     if (bx0 &lt; 0) &#123; bx0 = 0; &#125; /* è¯´æ˜(1) */ </span><br><span class="line">     if (by0 &lt; 0) &#123; by0 = 0; &#125; </span><br><span class="line">     if (bx1 &gt; sht-&gt;bxsize) &#123; bx1 = sht-&gt;bxsize; &#125; /* è¯´æ˜(2) */ </span><br><span class="line">     if (by1 &gt; sht-&gt;bysize) &#123; by1 = sht-&gt;bysize; &#125; </span><br><span class="line">     for (by = by0; by &lt; by1; by++) &#123; </span><br><span class="line">        vy = sht-&gt;vy0 + by; </span><br><span class="line">        for (bx = bx0; bx &lt; bx1; bx++) &#123; </span><br><span class="line">            vx = sht-&gt;vx0 + bx; </span><br><span class="line">            c = buf[by * sht-&gt;bxsize + bx]; </span><br><span class="line">            if (c != sht-&gt;col_inv) &#123; </span><br><span class="line">            vram[vy * ctl-&gt;xsize + vx] = c; </span><br><span class="line">            &#125; </span><br><span class="line">        &#125; </span><br><span class="line">     &#125; </span><br><span class="line">     &#125; </span><br><span class="line">     return; </span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
  </entry>
  <entry>
    <title>30å¤©è‡ªåˆ¶æ“ä½œç³»ç»Ÿï¼ˆ9ï¼‰</title>
    <url>/201903/30%E5%A4%A9%E8%87%AA%E5%88%B6%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%EF%BC%889%EF%BC%89/</url>
    <content><![CDATA[<h1 id="DAY9-å†…å­˜ç®¡ç†"><a href="#DAY9-å†…å­˜ç®¡ç†" class="headerlink" title="DAY9_å†…å­˜ç®¡ç†"></a>DAY9_å†…å­˜ç®¡ç†</h1><h2 id="1-æ•´ç†æºæ–‡ä»¶"><a href="#1-æ•´ç†æºæ–‡ä»¶" class="headerlink" title="1.æ•´ç†æºæ–‡ä»¶"></a>1.æ•´ç†æºæ–‡ä»¶</h2><p><img src="https://s2.ax1x.com/2019/03/24/AYgbB4.md.png" alt="d9.1"></p>
<span id="more"></span>
<h2 id="2-å†…å­˜å®¹é‡æ£€æŸ¥"><a href="#2-å†…å­˜å®¹é‡æ£€æŸ¥" class="headerlink" title="2.å†…å­˜å®¹é‡æ£€æŸ¥"></a>2.å†…å­˜å®¹é‡æ£€æŸ¥</h2><ul>
<li>åœ¨æœ€åˆå¯åŠ¨æ—¶ï¼ŒBIOSè‚¯å®šè¦æ£€æŸ¥å†…å­˜å®¹é‡ï¼Œæ‰€ä»¥åªè¦æˆ‘ä»¬é—®ä¸€é—®BIOSï¼Œå°±èƒ½çŸ¥é“å†…å­˜å®¹é‡æœ‰å¤šå¤§ã€‚ä½†æ˜¯ä¼šå¾ˆéº»çƒ¦ï¼Œæˆ‘ä»¬é€‰æ‹©è‡ªå·±åŠ¨æ‰‹æ£€æŸ¥å†…å­˜ã€‚</li>
<li>åšæ³•ï¼š<ul>
<li>é¦–å…ˆï¼Œæš‚æ—¶è®©486ä»¥åçš„CPUçš„é«˜é€Ÿç¼“å­˜ï¼ˆcacheï¼‰åŠŸèƒ½æ— æ•ˆã€‚<br>åŸç†ï¼šå†…å­˜æ£€æŸ¥æ—¶ï¼Œè¦å¾€å†…å­˜é‡Œéšä¾¿å†™å…¥ä¸€ä¸ªå€¼ï¼Œç„¶åé©¬ä¸Šè¯»å–ï¼Œæ¥æ£€æŸ¥è¯»å–çš„å€¼ä¸å†™å…¥çš„å€¼æ˜¯å¦ç›¸ç­‰ã€‚å¦‚æœå†…å­˜è¿æ¥æ­£å¸¸ï¼Œåˆ™å†™å…¥çš„å€¼èƒ½å¤Ÿè®°åœ¨å†…å­˜é‡Œã€‚å¦‚æœæ²¡è¿æ¥ä¸Šï¼Œåˆ™è¯»å‡ºçš„å€¼è‚¯å®šæ˜¯ä¹±ä¸ƒå…«ç³Ÿçš„ã€‚å¦‚æœCPUé‡ŒåŠ ä¸Šäº†ç¼“å­˜ï¼Œå†™å…¥å’Œè¯»å‡ºçš„ä¸æ˜¯å†…å­˜ï¼Œè€Œæ˜¯ç¼“å­˜ã€‚ç»“æœï¼Œæ‰€æœ‰çš„å†…å­˜éƒ½â€œæ­£å¸¸â€ï¼Œæ£€æŸ¥å¤„ç†ä¸èƒ½å®Œæˆã€‚<ul>
<li>é€šè¿‡HariMainè¯†åˆ«3GBèŒƒå›´çš„å†…å­˜</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="3-å†…å­˜å®¹é‡æ£€æŸ¥ï¼ˆ2ï¼‰"><a href="#3-å†…å­˜å®¹é‡æ£€æŸ¥ï¼ˆ2ï¼‰" class="headerlink" title="3.å†…å­˜å®¹é‡æ£€æŸ¥ï¼ˆ2ï¼‰"></a>3.å†…å­˜å®¹é‡æ£€æŸ¥ï¼ˆ2ï¼‰</h2><ul>
<li>ç¼–è¯‘å™¨å¯¹ç¨‹åºè¿›è¡Œäº†ä¼˜åŒ–ï¼Œæ— æ³•è¯†åˆ«å†…å­˜ï¼Œäºæ˜¯æˆ‘ä»¬é€‰æ‹©ç”¨æ±‡ç¼–æ¥å†™ã€‚</li>
</ul>
<h2 id="4-æŒ‘æˆ˜å†…å­˜ç®¡ç†"><a href="#4-æŒ‘æˆ˜å†…å­˜ç®¡ç†" class="headerlink" title="4.æŒ‘æˆ˜å†…å­˜ç®¡ç†"></a>4.æŒ‘æˆ˜å†…å­˜ç®¡ç†</h2><h3 id="å†…å­˜ç®¡ç†æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦è¿›è¡Œå†…å­˜ç®¡ç†ï¼Ÿ"><a href="#å†…å­˜ç®¡ç†æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦è¿›è¡Œå†…å­˜ç®¡ç†ï¼Ÿ" class="headerlink" title="å†…å­˜ç®¡ç†æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦è¿›è¡Œå†…å­˜ç®¡ç†ï¼Ÿ"></a>å†…å­˜ç®¡ç†æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆè¦è¿›è¡Œå†…å­˜ç®¡ç†ï¼Ÿ</h3><p>æ“ä½œç³»ç»Ÿåœ¨å·¥ä½œä¸­ï¼Œæœ‰æ—¶éœ€è¦åˆ†é…ä¸€å®šå¤§å°çš„å†…å­˜ï¼Œç”¨å®Œä»¥ååˆä¸å†éœ€è¦ï¼Œè¿™ç§äº‹ä¼šé¢‘ç¹å‘ç”Ÿã€‚ä¸ºäº†åº”ä»˜è¿™äº›éœ€æ±‚ï¼Œå¿…é¡»æ°å½“ç®¡ç†å¥½å“ªäº›å†…å­˜å¯ä»¥ä½¿ç”¨ï¼ˆå“ªäº›å†…å­˜ç©ºé—²ï¼‰ï¼Œå“ªäº›å†…å­˜ä¸å¯ä»¥ä½¿ç”¨ï¼ˆæ­£åœ¨ä½¿ç”¨ï¼‰ï¼Œè¿™å°±æ˜¯å†…å­˜ç®¡ç†ã€‚å¦‚æœä¸è¿›è¡Œç®¡ç†ï¼Œç³»ç»Ÿä¼šå˜å¾—ä¸€å¡Œç³Šæ¶‚ï¼Œè¦ä¹ˆçŸ¥é“å“ªé‡Œå¯ç”¨ï¼Œè¦ä¹ˆå¤šä¸ªåº”ç”¨ç¨‹åºä½¿ç”¨åŒä¸€åœ°å€çš„å†…å­˜ã€‚</p>
<h3 id="å†…å­˜ç®¡ç†çš„æ–¹æ³•"><a href="#å†…å­˜ç®¡ç†çš„æ–¹æ³•" class="headerlink" title="å†…å­˜ç®¡ç†çš„æ–¹æ³•"></a>å†…å­˜ç®¡ç†çš„æ–¹æ³•</h3><ul>
<li>åˆ›å»ºç›¸åº”æ•°é‡çš„åŒºåŸŸï¼Œç”¨1å’Œ0è¡¨ç¤ºè¯¥åŒºåŸŸæ˜¯å¦è¢«ä½¿ç”¨ã€‚ä½†æ˜¯è¿™ç§æ–¹æ³•çš„ç¼ºç‚¹å°±æ˜¯ï¼Œåœ¨å†…å­˜åŒºåŸŸå¾ˆå¤šçš„æƒ…å†µä¸‹ï¼Œç®¡ç†è¡¨å¾ˆå¤§ã€‚</li>
<li>åˆ—è¡¨ç®¡ç†çš„æ–¹æ³•ï¼šä»xxxå·å¼€å§‹ï¼Œyyyå­—èŠ‚çš„ç©ºé—´æ˜¯ç©ºç€çš„ã€‚ä¼˜ç‚¹ï¼šå ç”¨å†…å­˜å°ã€‚å¤§å—å†…å­˜çš„åˆ†é…å’Œé‡Šæ”¾éƒ½éå¸¸è¿…é€Ÿã€‚<br>ç¼ºç‚¹ï¼šç¨‹åºç®¡ç†å˜å¤æ‚äº†ï¼›å½“å¯ç”¨ç©ºé—´é›¶æ•£çš„æ—¶å€™ï¼Œç©ºé—´ç®¡ç†ä¿¡æ¯å¯èƒ½ä¼šè¢«ç”¨å®Œã€‚  </li>
<li>æˆ‘ä»¬çš„æ“ä½œç³»ç»Ÿä½¿ç”¨çš„æ–¹æ³•æ˜¯ï¼Œå½“MEMMANç”¨å®Œçš„æ—¶å€™ï¼Œå°†å°çš„å†…å­˜åŒºåŸŸèˆå¼ƒï¼Œå…ˆä¸å»ç®¡å®ƒã€‚</li>
</ul>
]]></content>
      <categories>
        <category>æ“ä½œç³»ç»Ÿ</category>
      </categories>
      <tags>
        <tag>å†…å­˜ç®¡ç†</tag>
      </tags>
  </entry>
</search>
